(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function px(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var mp={exports:{}},ol={},fp={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg;function hx(){if(Bg)return Ie;Bg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),A=Symbol.iterator;function E(V){return V===null||typeof V!="object"?null:(V=A&&V[A]||V["@@iterator"],typeof V=="function"?V:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,z={};function M(V,J,Te){this.props=V,this.context=J,this.refs=z,this.updater=Te||P}M.prototype.isReactComponent={},M.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},M.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function K(){}K.prototype=M.prototype;function Y(V,J,Te){this.props=V,this.context=J,this.refs=z,this.updater=Te||P}var Q=Y.prototype=new K;Q.constructor=Y,B(Q,M.prototype),Q.isPureReactComponent=!0;var se=Array.isArray,ue=Object.prototype.hasOwnProperty,me={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(V,J,Te){var Se,ke={},Re=null,ze=null;if(J!=null)for(Se in J.ref!==void 0&&(ze=J.ref),J.key!==void 0&&(Re=""+J.key),J)ue.call(J,Se)&&!S.hasOwnProperty(Se)&&(ke[Se]=J[Se]);var Me=arguments.length-2;if(Me===1)ke.children=Te;else if(1<Me){for(var We=Array(Me),Wt=0;Wt<Me;Wt++)We[Wt]=arguments[Wt+2];ke.children=We}if(V&&V.defaultProps)for(Se in Me=V.defaultProps,Me)ke[Se]===void 0&&(ke[Se]=Me[Se]);return{$$typeof:n,type:V,key:Re,ref:ze,props:ke,_owner:me.current}}function T(V,J){return{$$typeof:n,type:V.type,key:J,ref:V.ref,props:V.props,_owner:V._owner}}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function k(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(Te){return J[Te]})}var O=/\/+/g;function R(V,J){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):J.toString(36)}function qe(V,J,Te,Se,ke){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var ze=!1;if(V===null)ze=!0;else switch(Re){case"string":case"number":ze=!0;break;case"object":switch(V.$$typeof){case n:case e:ze=!0}}if(ze)return ze=V,ke=ke(ze),V=Se===""?"."+R(ze,0):Se,se(ke)?(Te="",V!=null&&(Te=V.replace(O,"$&/")+"/"),qe(ke,J,Te,"",function(Wt){return Wt})):ke!=null&&(N(ke)&&(ke=T(ke,Te+(!ke.key||ze&&ze.key===ke.key?"":(""+ke.key).replace(O,"$&/")+"/")+V)),J.push(ke)),1;if(ze=0,Se=Se===""?".":Se+":",se(V))for(var Me=0;Me<V.length;Me++){Re=V[Me];var We=Se+R(Re,Me);ze+=qe(Re,J,Te,We,ke)}else if(We=E(V),typeof We=="function")for(V=We.call(V),Me=0;!(Re=V.next()).done;)Re=Re.value,We=Se+R(Re,Me++),ze+=qe(Re,J,Te,We,ke);else if(Re==="object")throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ze}function fe(V,J,Te){if(V==null)return V;var Se=[],ke=0;return qe(V,Se,"","",function(Re){return J.call(Te,Re,ke++)}),Se}function Ve(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(Te){(V._status===0||V._status===-1)&&(V._status=1,V._result=Te)},function(Te){(V._status===0||V._status===-1)&&(V._status=2,V._result=Te)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var et={current:null},re={transition:null},ye={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:re,ReactCurrentOwner:me};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:fe,forEach:function(V,J,Te){fe(V,function(){J.apply(this,arguments)},Te)},count:function(V){var J=0;return fe(V,function(){J++}),J},toArray:function(V){return fe(V,function(J){return J})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ie.Component=M,Ie.Fragment=t,Ie.Profiler=a,Ie.PureComponent=Y,Ie.StrictMode=s,Ie.Suspense=m,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,Ie.act=le,Ie.cloneElement=function(V,J,Te){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var Se=B({},V.props),ke=V.key,Re=V.ref,ze=V._owner;if(J!=null){if(J.ref!==void 0&&(Re=J.ref,ze=me.current),J.key!==void 0&&(ke=""+J.key),V.type&&V.type.defaultProps)var Me=V.type.defaultProps;for(We in J)ue.call(J,We)&&!S.hasOwnProperty(We)&&(Se[We]=J[We]===void 0&&Me!==void 0?Me[We]:J[We])}var We=arguments.length-2;if(We===1)Se.children=Te;else if(1<We){Me=Array(We);for(var Wt=0;Wt<We;Wt++)Me[Wt]=arguments[Wt+2];Se.children=Me}return{$$typeof:n,type:V.type,key:ke,ref:Re,props:Se,_owner:ze}},Ie.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:l,_context:V},V.Consumer=V},Ie.createElement=C,Ie.createFactory=function(V){var J=C.bind(null,V);return J.type=V,J},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(V){return{$$typeof:p,render:V}},Ie.isValidElement=N,Ie.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:Ve}},Ie.memo=function(V,J){return{$$typeof:y,type:V,compare:J===void 0?null:J}},Ie.startTransition=function(V){var J=re.transition;re.transition={};try{V()}finally{re.transition=J}},Ie.unstable_act=le,Ie.useCallback=function(V,J){return et.current.useCallback(V,J)},Ie.useContext=function(V){return et.current.useContext(V)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(V){return et.current.useDeferredValue(V)},Ie.useEffect=function(V,J){return et.current.useEffect(V,J)},Ie.useId=function(){return et.current.useId()},Ie.useImperativeHandle=function(V,J,Te){return et.current.useImperativeHandle(V,J,Te)},Ie.useInsertionEffect=function(V,J){return et.current.useInsertionEffect(V,J)},Ie.useLayoutEffect=function(V,J){return et.current.useLayoutEffect(V,J)},Ie.useMemo=function(V,J){return et.current.useMemo(V,J)},Ie.useReducer=function(V,J,Te){return et.current.useReducer(V,J,Te)},Ie.useRef=function(V){return et.current.useRef(V)},Ie.useState=function(V){return et.current.useState(V)},Ie.useSyncExternalStore=function(V,J,Te){return et.current.useSyncExternalStore(V,J,Te)},Ie.useTransition=function(){return et.current.useTransition()},Ie.version="18.3.1",Ie}var zg;function mh(){return zg||(zg=1,fp.exports=hx()),fp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $g;function mx(){if($g)return ol;$g=1;var n=mh(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(p,m,y){var v,A={},E=null,P=null;y!==void 0&&(E=""+y),m.key!==void 0&&(E=""+m.key),m.ref!==void 0&&(P=m.ref);for(v in m)s.call(m,v)&&!l.hasOwnProperty(v)&&(A[v]=m[v]);if(p&&p.defaultProps)for(v in m=p.defaultProps,m)A[v]===void 0&&(A[v]=m[v]);return{$$typeof:e,type:p,key:E,ref:P,props:A,_owner:a.current}}return ol.Fragment=t,ol.jsx=u,ol.jsxs=u,ol}var Hg;function fx(){return Hg||(Hg=1,mp.exports=mx()),mp.exports}var w=fx(),b=mh();const xu=px(b);var Au={},gp={exports:{}},nn={},yp={exports:{}},wp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg;function gx(){return qg||(qg=1,(function(n){function e(re,ye){var le=re.length;re.push(ye);e:for(;0<le;){var V=le-1>>>1,J=re[V];if(0<a(J,ye))re[V]=ye,re[le]=J,le=V;else break e}}function t(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var ye=re[0],le=re.pop();if(le!==ye){re[0]=le;e:for(var V=0,J=re.length,Te=J>>>1;V<Te;){var Se=2*(V+1)-1,ke=re[Se],Re=Se+1,ze=re[Re];if(0>a(ke,le))Re<J&&0>a(ze,ke)?(re[V]=ze,re[Re]=le,V=Re):(re[V]=ke,re[Se]=le,V=Se);else if(Re<J&&0>a(ze,le))re[V]=ze,re[Re]=le,V=Re;else break e}}return ye}function a(re,ye){var le=re.sortIndex-ye.sortIndex;return le!==0?le:re.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,p=u.now();n.unstable_now=function(){return u.now()-p}}var m=[],y=[],v=1,A=null,E=3,P=!1,B=!1,z=!1,M=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(re){for(var ye=t(y);ye!==null;){if(ye.callback===null)s(y);else if(ye.startTime<=re)s(y),ye.sortIndex=ye.expirationTime,e(m,ye);else break;ye=t(y)}}function se(re){if(z=!1,Q(re),!B)if(t(m)!==null)B=!0,Ve(ue);else{var ye=t(y);ye!==null&&et(se,ye.startTime-re)}}function ue(re,ye){B=!1,z&&(z=!1,K(C),C=-1),P=!0;var le=E;try{for(Q(ye),A=t(m);A!==null&&(!(A.expirationTime>ye)||re&&!k());){var V=A.callback;if(typeof V=="function"){A.callback=null,E=A.priorityLevel;var J=V(A.expirationTime<=ye);ye=n.unstable_now(),typeof J=="function"?A.callback=J:A===t(m)&&s(m),Q(ye)}else s(m);A=t(m)}if(A!==null)var Te=!0;else{var Se=t(y);Se!==null&&et(se,Se.startTime-ye),Te=!1}return Te}finally{A=null,E=le,P=!1}}var me=!1,S=null,C=-1,T=5,N=-1;function k(){return!(n.unstable_now()-N<T)}function O(){if(S!==null){var re=n.unstable_now();N=re;var ye=!0;try{ye=S(!0,re)}finally{ye?R():(me=!1,S=null)}}else me=!1}var R;if(typeof Y=="function")R=function(){Y(O)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,fe=qe.port2;qe.port1.onmessage=O,R=function(){fe.postMessage(null)}}else R=function(){M(O,0)};function Ve(re){S=re,me||(me=!0,R())}function et(re,ye){C=M(function(){re(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){B||P||(B=!0,Ve(ue))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(re){switch(E){case 1:case 2:case 3:var ye=3;break;default:ye=E}var le=E;E=ye;try{return re()}finally{E=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,ye){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var le=E;E=re;try{return ye()}finally{E=le}},n.unstable_scheduleCallback=function(re,ye,le){var V=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?V+le:V):le=V,re){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=le+J,re={id:v++,callback:ye,priorityLevel:re,startTime:le,expirationTime:J,sortIndex:-1},le>V?(re.sortIndex=le,e(y,re),t(m)===null&&re===t(y)&&(z?(K(C),C=-1):z=!0,et(se,le-V))):(re.sortIndex=J,e(m,re),B||P||(B=!0,Ve(ue))),re},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(re){var ye=E;return function(){var le=E;E=ye;try{return re.apply(this,arguments)}finally{E=le}}}})(wp)),wp}var Wg;function yx(){return Wg||(Wg=1,yp.exports=gx()),yp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function wx(){if(Qg)return nn;Qg=1;var n=mh(),e=yx();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(r,i){u(r,i),u(r+"Capture",i)}function u(r,i){for(a[r]=i,r=0;r<i.length;r++)s.add(i[r])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},A={};function E(r){return m.call(A,r)?!0:m.call(v,r)?!1:y.test(r)?A[r]=!0:(v[r]=!0,!1)}function P(r,i,o,d){if(o!==null&&o.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:o!==null?!o.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function B(r,i,o,d){if(i===null||typeof i>"u"||P(r,i,o,d))return!0;if(d)return!1;if(o!==null)switch(o.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function z(r,i,o,d,h,f,x){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=r,this.type=i,this.sanitizeURL=f,this.removeEmptyString=x}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){M[r]=new z(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];M[i]=new z(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){M[r]=new z(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){M[r]=new z(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){M[r]=new z(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){M[r]=new z(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){M[r]=new z(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){M[r]=new z(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){M[r]=new z(r,5,!1,r.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function Y(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(K,Y);M[i]=new z(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(K,Y);M[i]=new z(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(K,Y);M[i]=new z(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){M[r]=new z(r,1,!1,r.toLowerCase(),null,!1,!1)}),M.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){M[r]=new z(r,1,!1,r.toLowerCase(),null,!0,!0)});function Q(r,i,o,d){var h=M.hasOwnProperty(i)?M[i]:null;(h!==null?h.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(B(i,o,h,d)&&(o=null),d||h===null?E(i)&&(o===null?r.removeAttribute(i):r.setAttribute(i,""+o)):h.mustUseProperty?r[h.propertyName]=o===null?h.type===3?!1:"":o:(i=h.attributeName,d=h.attributeNamespace,o===null?r.removeAttribute(i):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,d?r.setAttributeNS(d,i,o):r.setAttribute(i,o))))}var se=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ue=Symbol.for("react.element"),me=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),k=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),qe=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),Ve=Symbol.for("react.lazy"),et=Symbol.for("react.offscreen"),re=Symbol.iterator;function ye(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var le=Object.assign,V;function J(r){if(V===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||""}return`
`+V+r}var Te=!1;function Se(r,i){if(!r||Te)return"";Te=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(H){var d=H}Reflect.construct(r,[],i)}else{try{i.call()}catch(H){d=H}r.call(i.prototype)}else{try{throw Error()}catch(H){d=H}r()}}catch(H){if(H&&d&&typeof H.stack=="string"){for(var h=H.stack.split(`
`),f=d.stack.split(`
`),x=h.length-1,I=f.length-1;1<=x&&0<=I&&h[x]!==f[I];)I--;for(;1<=x&&0<=I;x--,I--)if(h[x]!==f[I]){if(x!==1||I!==1)do if(x--,I--,0>I||h[x]!==f[I]){var D=`
`+h[x].replace(" at new "," at ");return r.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",r.displayName)),D}while(1<=x&&0<=I);break}}}finally{Te=!1,Error.prepareStackTrace=o}return(r=r?r.displayName||r.name:"")?J(r):""}function ke(r){switch(r.tag){case 5:return J(r.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return r=Se(r.type,!1),r;case 11:return r=Se(r.type.render,!1),r;case 1:return r=Se(r.type,!0),r;default:return""}}function Re(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case S:return"Fragment";case me:return"Portal";case T:return"Profiler";case C:return"StrictMode";case R:return"Suspense";case qe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case k:return(r.displayName||"Context")+".Consumer";case N:return(r._context.displayName||"Context")+".Provider";case O:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case fe:return i=r.displayName||null,i!==null?i:Re(r.type)||"Memo";case Ve:i=r._payload,r=r._init;try{return Re(r(i))}catch{}}return null}function ze(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(i);case 8:return i===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Me(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function We(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Wt(r){var i=We(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),d=""+r[i];if(!r.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return h.call(this)},set:function(x){d=""+x,f.call(this,x)}}),Object.defineProperty(r,i,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(x){d=""+x},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Ji(r){r._valueTracker||(r._valueTracker=Wt(r))}function ho(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),d="";return r&&(d=We(r)?r.checked?"true":"false":r.value),r=d,r!==o?(i.setValue(r),!0):!1}function Xr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Xi(r,i){var o=i.checked;return le({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??r._wrapperState.initialChecked})}function ac(r,i){var o=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;o=Me(i.value!=null?i.value:o),r._wrapperState={initialChecked:d,initialValue:o,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Zi(r,i){i=i.checked,i!=null&&Q(r,"checked",i,!1)}function ai(r,i){Zi(r,i);var o=Me(i.value),d=i.type;if(o!=null)d==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+o):r.value!==""+o&&(r.value=""+o);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?gt(r,i.type,o):i.hasOwnProperty("defaultValue")&&gt(r,i.type,Me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function mo(r,i,o){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,o||i===r.value||(r.value=i),r.defaultValue=i}o=r.name,o!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,o!==""&&(r.name=o)}function gt(r,i,o){(i!=="number"||Xr(r.ownerDocument)!==r)&&(o==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+o&&(r.defaultValue=""+o))}var pt=Array.isArray;function kn(r,i,o,d){if(r=r.options,i){i={};for(var h=0;h<o.length;h++)i["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=i.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&d&&(r[o].defaultSelected=!0)}else{for(o=""+Me(o),i=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,d&&(r[h].defaultSelected=!0);return}i!==null||r[h].disabled||(i=r[h])}i!==null&&(i.selected=!0)}}function fo(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function go(r,i){var o=i.value;if(o==null){if(o=i.children,i=i.defaultValue,o!=null){if(i!=null)throw Error(t(92));if(pt(o)){if(1<o.length)throw Error(t(93));o=o[0]}i=o}i==null&&(i=""),o=i}r._wrapperState={initialValue:Me(o)}}function oc(r,i){var o=Me(i.value),d=Me(i.defaultValue);o!=null&&(o=""+o,o!==r.value&&(r.value=o),i.defaultValue==null&&r.defaultValue!==o&&(r.defaultValue=o)),d!=null&&(r.defaultValue=""+d)}function Zr(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function yo(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ea(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?yo(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var es,lc=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,o,d,h){MSApp.execUnsafeLocalFunction(function(){return r(i,o,d,h)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(es=es||document.createElement("div"),es.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=es.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function oi(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cc=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(r){cc.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),ts[i]=ts[r]})});function ns(r,i,o){return i==null||typeof i=="boolean"||i===""?"":o||typeof i!="number"||i===0||ts.hasOwnProperty(r)&&ts[r]?(""+i).trim():i+"px"}function ta(r,i){r=r.style;for(var o in i)if(i.hasOwnProperty(o)){var d=o.indexOf("--")===0,h=ns(o,i[o],d);o==="float"&&(o="cssFloat"),d?r.setProperty(o,h):r[o]=h}}var wo=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rn(r,i){if(i){if(wo[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function na(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rs=null;function ra(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Tr=null,Sr=null,ot=null;function _o(r){if(r=Wo(r)){if(typeof Tr!="function")throw Error(t(280));var i=r.stateNode;i&&(i=Mc(i),Tr(r.stateNode,r.type,i))}}function ss(r){Sr?ot?ot.push(r):ot=[r]:Sr=r}function is(){if(Sr){var r=Sr,i=ot;if(ot=Sr=null,_o(r),i)for(r=0;r<i.length;r++)_o(i[r])}}function uc(r,i){return r(i)}function dc(){}var Wn=!1;function pc(r,i,o){if(Wn)return r(i,o);Wn=!0;try{return uc(r,i,o)}finally{Wn=!1,(Sr!==null||ot!==null)&&(dc(),is())}}function li(r,i){var o=r.stateNode;if(o===null)return null;var d=Mc(o);if(d===null)return null;o=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(t(231,i,typeof o));return o}var as=!1;if(p)try{var os={};Object.defineProperty(os,"passive",{get:function(){as=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{as=!1}function hc(r,i,o,d,h,f,x,I,D){var H=Array.prototype.slice.call(arguments,3);try{i.apply(o,H)}catch(Z){this.onError(Z)}}var Ir=!1,Qn=null,sa=!1,wn=null,mc={onError:function(r){Ir=!0,Qn=r}};function fc(r,i,o,d,h,f,x,I,D){Ir=!1,Qn=null,hc.apply(mc,arguments)}function vo(r,i,o,d,h,f,x,I,D){if(fc.apply(this,arguments),Ir){if(Ir){var H=Qn;Ir=!1,Qn=null}else throw Error(t(198));sa||(sa=!0,wn=H)}}function Pn(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function xo(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function gc(r){if(Pn(r)!==r)throw Error(t(188))}function yc(r){var i=r.alternate;if(!i){if(i=Pn(r),i===null)throw Error(t(188));return i!==r?null:r}for(var o=r,d=i;;){var h=o.return;if(h===null)break;var f=h.alternate;if(f===null){if(d=h.return,d!==null){o=d;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===o)return gc(h),r;if(f===d)return gc(h),i;f=f.sibling}throw Error(t(188))}if(o.return!==d.return)o=h,d=f;else{for(var x=!1,I=h.child;I;){if(I===o){x=!0,o=h,d=f;break}if(I===d){x=!0,d=h,o=f;break}I=I.sibling}if(!x){for(I=f.child;I;){if(I===o){x=!0,o=f,d=h;break}if(I===d){x=!0,d=f,o=h;break}I=I.sibling}if(!x)throw Error(t(189))}}if(o.alternate!==d)throw Error(t(190))}if(o.tag!==3)throw Error(t(188));return o.stateNode.current===o?r:i}function wc(r){return r=yc(r),r!==null?ci(r):null}function ci(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=ci(r);if(i!==null)return i;r=r.sibling}return null}var Ao=e.unstable_scheduleCallback,ia=e.unstable_cancelCallback,ui=e.unstable_shouldYield,kr=e.unstable_requestPaint,Ye=e.unstable_now,qd=e.unstable_getCurrentPriorityLevel,aa=e.unstable_ImmediatePriority,Eo=e.unstable_UserBlockingPriority,di=e.unstable_NormalPriority,Fo=e.unstable_LowPriority,oa=e.unstable_IdlePriority,pi=null,an=null;function _c(r){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(pi,r,void 0,(r.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:hi,Kn=Math.log,_n=Math.LN2;function hi(r){return r>>>=0,r===0?32:31-(Kn(r)/_n|0)|0}var Gn=64,ls=4194304;function Ue(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Rr(r,i){var o=r.pendingLanes;if(o===0)return 0;var d=0,h=r.suspendedLanes,f=r.pingedLanes,x=o&268435455;if(x!==0){var I=x&~h;I!==0?d=Ue(I):(f&=x,f!==0&&(d=Ue(f)))}else x=o&~h,x!==0?d=Ue(x):f!==0&&(d=Ue(f));if(d===0)return 0;if(i!==0&&i!==d&&(i&h)===0&&(h=d&-d,f=i&-i,h>=f||h===16&&(f&4194240)!==0))return i;if((d&4)!==0&&(d|=o&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=d;0<i;)o=31-on(i),h=1<<o,d|=r[o],i&=~h;return d}function mi(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fi(r,i){for(var o=r.suspendedLanes,d=r.pingedLanes,h=r.expirationTimes,f=r.pendingLanes;0<f;){var x=31-on(f),I=1<<x,D=h[x];D===-1?((I&o)===0||(I&d)!==0)&&(h[x]=mi(I,i)):D<=i&&(r.expiredLanes|=I),f&=~I}}function Co(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function To(){var r=Gn;return Gn<<=1,(Gn&4194240)===0&&(Gn=64),r}function So(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function gi(r,i,o){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-on(i),r[i]=o}function Wd(r,i){var o=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<o;){var h=31-on(o),f=1<<h;i[h]=0,d[h]=-1,r[h]=-1,o&=~f}}function Io(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var d=31-on(o),h=1<<d;h&i|r[d]&i&&(r[d]|=i),o&=~h}}var be=0;function Yn(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var ko,la,Ro,Po,No,Jn=!1,ca=[],Xn=null,Zn=null,Rt=null,yi=new Map,Pr=new Map,ln=[],vc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cs(r,i){switch(r){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":yi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pr.delete(i.pointerId)}}function Nn(r,i,o,d,h,f){return r===null||r.nativeEvent!==f?(r={blockedOn:i,domEventName:o,eventSystemFlags:d,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Wo(i),i!==null&&la(i)),r):(r.eventSystemFlags|=d,i=r.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),r)}function xc(r,i,o,d,h){switch(i){case"focusin":return Xn=Nn(Xn,r,i,o,d,h),!0;case"dragenter":return Zn=Nn(Zn,r,i,o,d,h),!0;case"mouseover":return Rt=Nn(Rt,r,i,o,d,h),!0;case"pointerover":var f=h.pointerId;return yi.set(f,Nn(yi.get(f)||null,r,i,o,d,h)),!0;case"gotpointercapture":return f=h.pointerId,Pr.set(f,Nn(Pr.get(f)||null,r,i,o,d,h)),!0}return!1}function ua(r){var i=xi(r.target);if(i!==null){var o=Pn(i);if(o!==null){if(i=o.tag,i===13){if(i=xo(o),i!==null){r.blockedOn=i,No(r.priority,function(){Ro(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Qe(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=da(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(o===null){o=r.nativeEvent;var d=new o.constructor(o.type,o);rs=d,o.target.dispatchEvent(d),rs=null}else return i=Wo(o),i!==null&&la(i),r.blockedOn=o,!1;i.shift()}return!0}function Ac(r,i,o){Qe(r)&&o.delete(i)}function Qd(){Jn=!1,Xn!==null&&Qe(Xn)&&(Xn=null),Zn!==null&&Qe(Zn)&&(Zn=null),Rt!==null&&Qe(Rt)&&(Rt=null),yi.forEach(Ac),Pr.forEach(Ac)}function us(r,i){r.blockedOn===i&&(r.blockedOn=null,Jn||(Jn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qd)))}function ds(r){function i(h){return us(h,r)}if(0<ca.length){us(ca[0],r);for(var o=1;o<ca.length;o++){var d=ca[o];d.blockedOn===r&&(d.blockedOn=null)}}for(Xn!==null&&us(Xn,r),Zn!==null&&us(Zn,r),Rt!==null&&us(Rt,r),yi.forEach(i),Pr.forEach(i),o=0;o<ln.length;o++)d=ln[o],d.blockedOn===r&&(d.blockedOn=null);for(;0<ln.length&&(o=ln[0],o.blockedOn===null);)ua(o),o.blockedOn===null&&ln.shift()}var Nr=se.ReactCurrentBatchConfig,Dr=!0;function er(r,i,o,d){var h=be,f=Nr.transition;Nr.transition=null;try{be=1,Do(r,i,o,d)}finally{be=h,Nr.transition=f}}function Ec(r,i,o,d){var h=be,f=Nr.transition;Nr.transition=null;try{be=4,Do(r,i,o,d)}finally{be=h,Nr.transition=f}}function Do(r,i,o,d){if(Dr){var h=da(r,i,o,d);if(h===null)s2(r,i,d,tr,o),cs(r,d);else if(xc(h,r,i,o,d))d.stopPropagation();else if(cs(r,d),i&4&&-1<vc.indexOf(r)){for(;h!==null;){var f=Wo(h);if(f!==null&&ko(f),f=da(r,i,o,d),f===null&&s2(r,i,d,tr,o),f===h)break;h=f}h!==null&&d.stopPropagation()}else s2(r,i,d,null,o)}}var tr=null;function da(r,i,o,d){if(tr=null,r=ra(d),r=xi(r),r!==null)if(i=Pn(r),i===null)r=null;else if(o=i.tag,o===13){if(r=xo(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return tr=r,null}function pa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qd()){case aa:return 1;case Eo:return 4;case di:case Fo:return 16;case oa:return 536870912;default:return 16}default:return 16}}var cn=null,ha=null,br=null;function Fc(){if(br)return br;var r,i=ha,o=i.length,d,h="value"in cn?cn.value:cn.textContent,f=h.length;for(r=0;r<o&&i[r]===h[r];r++);var x=o-r;for(d=1;d<=x&&i[o-d]===h[f-d];d++);return br=h.slice(r,1<d?1-d:void 0)}function wi(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function nr(){return!0}function bo(){return!1}function Ot(r){function i(o,d,h,f,x){this._reactName=o,this._targetInst=h,this.type=d,this.nativeEvent=f,this.target=x,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(o=r[I],this[I]=o?o(f):f[I]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?nr:bo,this.isPropagationStopped=bo,this}return le(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),i}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Ot(rr),ps=le({},rr,{view:0,detail:0}),ma=Ot(ps),fa,ga,un,vi=le({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ce,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==un&&(un&&r.type==="mousemove"?(fa=r.screenX-un.screenX,ga=r.screenY-un.screenY):ga=fa=0,un=r),fa)},movementY:function(r){return"movementY"in r?r.movementY:ga}}),Lo=Ot(vi),Cc=le({},vi,{dataTransfer:0}),Tc=Ot(Cc),ya=le({},ps,{relatedTarget:0}),Pt=Ot(ya),Sc=le({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ic=Ot(Sc),hs=le({},rr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),c=Ot(hs),g=le({},rr,{data:0}),_=Ot(g),F={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ne(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=q[r])?!!i[r]:!1}function Ce(){return ne}var ht=le({},ps,{key:function(r){if(r.key){var i=F[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=wi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?U[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ce,charCode:function(r){return r.type==="keypress"?wi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?wi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),He=Ot(ht),yt=le({},vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dn=Ot(yt),Lr=le({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ce}),sr=Ot(Lr),ir=le({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),wa=Ot(ir),Mo=le({},vi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),a0=Ot(Mo),o0=[9,13,27,32],Kd=p&&"CompositionEvent"in window,Oo=null;p&&"documentMode"in document&&(Oo=document.documentMode);var l0=p&&"TextEvent"in window&&!Oo,Nm=p&&(!Kd||Oo&&8<Oo&&11>=Oo),Dm=" ",bm=!1;function Lm(r,i){switch(r){case"keyup":return o0.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var _a=!1;function c0(r,i){switch(r){case"compositionend":return Mm(i);case"keypress":return i.which!==32?null:(bm=!0,Dm);case"textInput":return r=i.data,r===Dm&&bm?null:r;default:return null}}function u0(r,i){if(_a)return r==="compositionend"||!Kd&&Lm(r,i)?(r=Fc(),br=ha=cn=null,_a=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Nm&&i.locale!=="ko"?null:i.data;default:return null}}var d0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Om(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!d0[r.type]:i==="textarea"}function Vm(r,i,o,d){ss(d),i=Dc(i,"onChange"),0<i.length&&(o=new _i("onChange","change",null,o,d),r.push({event:o,listeners:i}))}var Vo=null,jo=null;function p0(r){nf(r,0)}function kc(r){var i=Fa(r);if(ho(i))return r}function h0(r,i){if(r==="change")return i}var jm=!1;if(p){var Gd;if(p){var Yd="oninput"in document;if(!Yd){var Um=document.createElement("div");Um.setAttribute("oninput","return;"),Yd=typeof Um.oninput=="function"}Gd=Yd}else Gd=!1;jm=Gd&&(!document.documentMode||9<document.documentMode)}function Bm(){Vo&&(Vo.detachEvent("onpropertychange",zm),jo=Vo=null)}function zm(r){if(r.propertyName==="value"&&kc(jo)){var i=[];Vm(i,jo,r,ra(r)),pc(p0,i)}}function m0(r,i,o){r==="focusin"?(Bm(),Vo=i,jo=o,Vo.attachEvent("onpropertychange",zm)):r==="focusout"&&Bm()}function f0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return kc(jo)}function g0(r,i){if(r==="click")return kc(i)}function y0(r,i){if(r==="input"||r==="change")return kc(i)}function w0(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Dn=typeof Object.is=="function"?Object.is:w0;function Uo(r,i){if(Dn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),d=Object.keys(i);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var h=o[d];if(!m.call(i,h)||!Dn(r[h],i[h]))return!1}return!0}function $m(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Hm(r,i){var o=$m(r);r=0;for(var d;o;){if(o.nodeType===3){if(d=r+o.textContent.length,r<=i&&d>=i)return{node:o,offset:i-r};r=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=$m(o)}}function qm(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?qm(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Wm(){for(var r=window,i=Xr();i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=Xr(r.document)}return i}function Jd(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function _0(r){var i=Wm(),o=r.focusedElem,d=r.selectionRange;if(i!==o&&o&&o.ownerDocument&&qm(o.ownerDocument.documentElement,o)){if(d!==null&&Jd(o)){if(i=d.start,r=d.end,r===void 0&&(r=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(r,o.value.length);else if(r=(i=o.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var h=o.textContent.length,f=Math.min(d.start,h);d=d.end===void 0?f:Math.min(d.end,h),!r.extend&&f>d&&(h=d,d=f,f=h),h=Hm(o,f);var x=Hm(o,d);h&&x&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==x.node||r.focusOffset!==x.offset)&&(i=i.createRange(),i.setStart(h.node,h.offset),r.removeAllRanges(),f>d?(r.addRange(i),r.extend(x.node,x.offset)):(i.setEnd(x.node,x.offset),r.addRange(i)))}}for(i=[],r=o;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)r=i[o],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var v0=p&&"documentMode"in document&&11>=document.documentMode,va=null,Xd=null,Bo=null,Zd=!1;function Qm(r,i,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Zd||va==null||va!==Xr(d)||(d=va,"selectionStart"in d&&Jd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Bo&&Uo(Bo,d)||(Bo=d,d=Dc(Xd,"onSelect"),0<d.length&&(i=new _i("onSelect","select",null,i,o),r.push({event:i,listeners:d}),i.target=va)))}function Rc(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var xa={animationend:Rc("Animation","AnimationEnd"),animationiteration:Rc("Animation","AnimationIteration"),animationstart:Rc("Animation","AnimationStart"),transitionend:Rc("Transition","TransitionEnd")},e2={},Km={};p&&(Km=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Pc(r){if(e2[r])return e2[r];if(!xa[r])return r;var i=xa[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in Km)return e2[r]=i[o];return r}var Gm=Pc("animationend"),Ym=Pc("animationiteration"),Jm=Pc("animationstart"),Xm=Pc("transitionend"),Zm=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ms(r,i){Zm.set(r,i),l(i,[r])}for(var t2=0;t2<ef.length;t2++){var n2=ef[t2],x0=n2.toLowerCase(),A0=n2[0].toUpperCase()+n2.slice(1);ms(x0,"on"+A0)}ms(Gm,"onAnimationEnd"),ms(Ym,"onAnimationIteration"),ms(Jm,"onAnimationStart"),ms("dblclick","onDoubleClick"),ms("focusin","onFocus"),ms("focusout","onBlur"),ms(Xm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E0=new Set("cancel close invalid load scroll toggle".split(" ").concat(zo));function tf(r,i,o){var d=r.type||"unknown-event";r.currentTarget=o,vo(d,i,void 0,r),r.currentTarget=null}function nf(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var d=r[o],h=d.event;d=d.listeners;e:{var f=void 0;if(i)for(var x=d.length-1;0<=x;x--){var I=d[x],D=I.instance,H=I.currentTarget;if(I=I.listener,D!==f&&h.isPropagationStopped())break e;tf(h,I,H),f=D}else for(x=0;x<d.length;x++){if(I=d[x],D=I.instance,H=I.currentTarget,I=I.listener,D!==f&&h.isPropagationStopped())break e;tf(h,I,H),f=D}}}if(sa)throw r=wn,sa=!1,wn=null,r}function Je(r,i){var o=i[u2];o===void 0&&(o=i[u2]=new Set);var d=r+"__bubble";o.has(d)||(rf(i,r,2,!1),o.add(d))}function r2(r,i,o){var d=0;i&&(d|=4),rf(o,r,d,i)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function $o(r){if(!r[Nc]){r[Nc]=!0,s.forEach(function(o){o!=="selectionchange"&&(E0.has(o)||r2(o,!1,r),r2(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Nc]||(i[Nc]=!0,r2("selectionchange",!1,i))}}function rf(r,i,o,d){switch(pa(i)){case 1:var h=er;break;case 4:h=Ec;break;default:h=Do}o=h.bind(null,i,o,r),h=void 0,!as||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),d?h!==void 0?r.addEventListener(i,o,{capture:!0,passive:h}):r.addEventListener(i,o,!0):h!==void 0?r.addEventListener(i,o,{passive:h}):r.addEventListener(i,o,!1)}function s2(r,i,o,d,h){var f=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var x=d.tag;if(x===3||x===4){var I=d.stateNode.containerInfo;if(I===h||I.nodeType===8&&I.parentNode===h)break;if(x===4)for(x=d.return;x!==null;){var D=x.tag;if((D===3||D===4)&&(D=x.stateNode.containerInfo,D===h||D.nodeType===8&&D.parentNode===h))return;x=x.return}for(;I!==null;){if(x=xi(I),x===null)return;if(D=x.tag,D===5||D===6){d=f=x;continue e}I=I.parentNode}}d=d.return}pc(function(){var H=f,Z=ra(o),ee=[];e:{var X=Zm.get(r);if(X!==void 0){var ae=_i,de=r;switch(r){case"keypress":if(wi(o)===0)break e;case"keydown":case"keyup":ae=He;break;case"focusin":de="focus",ae=Pt;break;case"focusout":de="blur",ae=Pt;break;case"beforeblur":case"afterblur":ae=Pt;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=sr;break;case Gm:case Ym:case Jm:ae=Ic;break;case Xm:ae=wa;break;case"scroll":ae=ma;break;case"wheel":ae=a0;break;case"copy":case"cut":case"paste":ae=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=dn}var pe=(i&4)!==0,mt=!pe&&r==="scroll",j=pe?X!==null?X+"Capture":null:X;pe=[];for(var L=H,$;L!==null;){$=L;var te=$.stateNode;if($.tag===5&&te!==null&&($=te,j!==null&&(te=li(L,j),te!=null&&pe.push(Ho(L,te,$)))),mt)break;L=L.return}0<pe.length&&(X=new ae(X,de,null,o,Z),ee.push({event:X,listeners:pe}))}}if((i&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",X&&o!==rs&&(de=o.relatedTarget||o.fromElement)&&(xi(de)||de[Mr]))break e;if((ae||X)&&(X=Z.window===Z?Z:(X=Z.ownerDocument)?X.defaultView||X.parentWindow:window,ae?(de=o.relatedTarget||o.toElement,ae=H,de=de?xi(de):null,de!==null&&(mt=Pn(de),de!==mt||de.tag!==5&&de.tag!==6)&&(de=null)):(ae=null,de=H),ae!==de)){if(pe=Lo,te="onMouseLeave",j="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(pe=dn,te="onPointerLeave",j="onPointerEnter",L="pointer"),mt=ae==null?X:Fa(ae),$=de==null?X:Fa(de),X=new pe(te,L+"leave",ae,o,Z),X.target=mt,X.relatedTarget=$,te=null,xi(Z)===H&&(pe=new pe(j,L+"enter",de,o,Z),pe.target=$,pe.relatedTarget=mt,te=pe),mt=te,ae&&de)t:{for(pe=ae,j=de,L=0,$=pe;$;$=Aa($))L++;for($=0,te=j;te;te=Aa(te))$++;for(;0<L-$;)pe=Aa(pe),L--;for(;0<$-L;)j=Aa(j),$--;for(;L--;){if(pe===j||j!==null&&pe===j.alternate)break t;pe=Aa(pe),j=Aa(j)}pe=null}else pe=null;ae!==null&&sf(ee,X,ae,pe,!1),de!==null&&mt!==null&&sf(ee,mt,de,pe,!0)}}e:{if(X=H?Fa(H):window,ae=X.nodeName&&X.nodeName.toLowerCase(),ae==="select"||ae==="input"&&X.type==="file")var he=h0;else if(Om(X))if(jm)he=y0;else{he=f0;var we=m0}else(ae=X.nodeName)&&ae.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(he=g0);if(he&&(he=he(r,H))){Vm(ee,he,o,Z);break e}we&&we(r,X,H),r==="focusout"&&(we=X._wrapperState)&&we.controlled&&X.type==="number"&&gt(X,"number",X.value)}switch(we=H?Fa(H):window,r){case"focusin":(Om(we)||we.contentEditable==="true")&&(va=we,Xd=H,Bo=null);break;case"focusout":Bo=Xd=va=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,Qm(ee,o,Z);break;case"selectionchange":if(v0)break;case"keydown":case"keyup":Qm(ee,o,Z)}var _e;if(Kd)e:{switch(r){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else _a?Lm(r,o)&&(Ae="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ae="onCompositionStart");Ae&&(Nm&&o.locale!=="ko"&&(_a||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&_a&&(_e=Fc()):(cn=Z,ha="value"in cn?cn.value:cn.textContent,_a=!0)),we=Dc(H,Ae),0<we.length&&(Ae=new _(Ae,r,null,o,Z),ee.push({event:Ae,listeners:we}),_e?Ae.data=_e:(_e=Mm(o),_e!==null&&(Ae.data=_e)))),(_e=l0?c0(r,o):u0(r,o))&&(H=Dc(H,"onBeforeInput"),0<H.length&&(Z=new _("onBeforeInput","beforeinput",null,o,Z),ee.push({event:Z,listeners:H}),Z.data=_e))}nf(ee,i)})}function Ho(r,i,o){return{instance:r,listener:i,currentTarget:o}}function Dc(r,i){for(var o=i+"Capture",d=[];r!==null;){var h=r,f=h.stateNode;h.tag===5&&f!==null&&(h=f,f=li(r,o),f!=null&&d.unshift(Ho(r,f,h)),f=li(r,i),f!=null&&d.push(Ho(r,f,h))),r=r.return}return d}function Aa(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function sf(r,i,o,d,h){for(var f=i._reactName,x=[];o!==null&&o!==d;){var I=o,D=I.alternate,H=I.stateNode;if(D!==null&&D===d)break;I.tag===5&&H!==null&&(I=H,h?(D=li(o,f),D!=null&&x.unshift(Ho(o,D,I))):h||(D=li(o,f),D!=null&&x.push(Ho(o,D,I)))),o=o.return}x.length!==0&&r.push({event:i,listeners:x})}var F0=/\r\n?/g,C0=/\u0000|\uFFFD/g;function af(r){return(typeof r=="string"?r:""+r).replace(F0,`
`).replace(C0,"")}function bc(r,i,o){if(i=af(i),af(r)!==i&&o)throw Error(t(425))}function Lc(){}var i2=null,a2=null;function o2(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var l2=typeof setTimeout=="function"?setTimeout:void 0,T0=typeof clearTimeout=="function"?clearTimeout:void 0,of=typeof Promise=="function"?Promise:void 0,S0=typeof queueMicrotask=="function"?queueMicrotask:typeof of<"u"?function(r){return of.resolve(null).then(r).catch(I0)}:l2;function I0(r){setTimeout(function(){throw r})}function c2(r,i){var o=i,d=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(d===0){r.removeChild(h),ds(i);return}d--}else o!=="$"&&o!=="$?"&&o!=="$!"||d++;o=h}while(o);ds(i)}function fs(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function lf(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return r;i--}else o==="/$"&&i++}r=r.previousSibling}return null}var Ea=Math.random().toString(36).slice(2),ar="__reactFiber$"+Ea,qo="__reactProps$"+Ea,Mr="__reactContainer$"+Ea,u2="__reactEvents$"+Ea,k0="__reactListeners$"+Ea,R0="__reactHandles$"+Ea;function xi(r){var i=r[ar];if(i)return i;for(var o=r.parentNode;o;){if(i=o[Mr]||o[ar]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=lf(r);r!==null;){if(o=r[ar])return o;r=lf(r)}return i}r=o,o=r.parentNode}return null}function Wo(r){return r=r[ar]||r[Mr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Fa(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Mc(r){return r[qo]||null}var d2=[],Ca=-1;function gs(r){return{current:r}}function Xe(r){0>Ca||(r.current=d2[Ca],d2[Ca]=null,Ca--)}function Ke(r,i){Ca++,d2[Ca]=r.current,r.current=i}var ys={},Vt=gs(ys),Jt=gs(!1),Ai=ys;function Ta(r,i){var o=r.type.contextTypes;if(!o)return ys;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var h={},f;for(f in o)h[f]=i[f];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=h),h}function Xt(r){return r=r.childContextTypes,r!=null}function Oc(){Xe(Jt),Xe(Vt)}function cf(r,i,o){if(Vt.current!==ys)throw Error(t(168));Ke(Vt,i),Ke(Jt,o)}function uf(r,i,o){var d=r.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return o;d=d.getChildContext();for(var h in d)if(!(h in i))throw Error(t(108,ze(r)||"Unknown",h));return le({},o,d)}function Vc(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ys,Ai=Vt.current,Ke(Vt,r),Ke(Jt,Jt.current),!0}function df(r,i,o){var d=r.stateNode;if(!d)throw Error(t(169));o?(r=uf(r,i,Ai),d.__reactInternalMemoizedMergedChildContext=r,Xe(Jt),Xe(Vt),Ke(Vt,r)):Xe(Jt),Ke(Jt,o)}var Or=null,jc=!1,p2=!1;function pf(r){Or===null?Or=[r]:Or.push(r)}function P0(r){jc=!0,pf(r)}function ws(){if(!p2&&Or!==null){p2=!0;var r=0,i=be;try{var o=Or;for(be=1;r<o.length;r++){var d=o[r];do d=d(!0);while(d!==null)}Or=null,jc=!1}catch(h){throw Or!==null&&(Or=Or.slice(r+1)),Ao(aa,ws),h}finally{be=i,p2=!1}}return null}var Sa=[],Ia=0,Uc=null,Bc=0,vn=[],xn=0,Ei=null,Vr=1,jr="";function Fi(r,i){Sa[Ia++]=Bc,Sa[Ia++]=Uc,Uc=r,Bc=i}function hf(r,i,o){vn[xn++]=Vr,vn[xn++]=jr,vn[xn++]=Ei,Ei=r;var d=Vr;r=jr;var h=32-on(d)-1;d&=~(1<<h),o+=1;var f=32-on(i)+h;if(30<f){var x=h-h%5;f=(d&(1<<x)-1).toString(32),d>>=x,h-=x,Vr=1<<32-on(i)+h|o<<h|d,jr=f+r}else Vr=1<<f|o<<h|d,jr=r}function h2(r){r.return!==null&&(Fi(r,1),hf(r,1,0))}function m2(r){for(;r===Uc;)Uc=Sa[--Ia],Sa[Ia]=null,Bc=Sa[--Ia],Sa[Ia]=null;for(;r===Ei;)Ei=vn[--xn],vn[xn]=null,jr=vn[--xn],vn[xn]=null,Vr=vn[--xn],vn[xn]=null}var pn=null,hn=null,tt=!1,bn=null;function mf(r,i){var o=Cn(5,null,null,0);o.elementType="DELETED",o.stateNode=i,o.return=r,i=r.deletions,i===null?(r.deletions=[o],r.flags|=16):i.push(o)}function ff(r,i){switch(r.tag){case 5:var o=r.type;return i=i.nodeType!==1||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,pn=r,hn=fs(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,pn=r,hn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(o=Ei!==null?{id:Vr,overflow:jr}:null,r.memoizedState={dehydrated:i,treeContext:o,retryLane:1073741824},o=Cn(18,null,null,0),o.stateNode=i,o.return=r,r.child=o,pn=r,hn=null,!0):!1;default:return!1}}function f2(r){return(r.mode&1)!==0&&(r.flags&128)===0}function g2(r){if(tt){var i=hn;if(i){var o=i;if(!ff(r,i)){if(f2(r))throw Error(t(418));i=fs(o.nextSibling);var d=pn;i&&ff(r,i)?mf(d,o):(r.flags=r.flags&-4097|2,tt=!1,pn=r)}}else{if(f2(r))throw Error(t(418));r.flags=r.flags&-4097|2,tt=!1,pn=r}}}function gf(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;pn=r}function zc(r){if(r!==pn)return!1;if(!tt)return gf(r),tt=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!o2(r.type,r.memoizedProps)),i&&(i=hn)){if(f2(r))throw yf(),Error(t(418));for(;i;)mf(r,i),i=fs(i.nextSibling)}if(gf(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"){if(i===0){hn=fs(r.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++}r=r.nextSibling}hn=null}}else hn=pn?fs(r.stateNode.nextSibling):null;return!0}function yf(){for(var r=hn;r;)r=fs(r.nextSibling)}function ka(){hn=pn=null,tt=!1}function y2(r){bn===null?bn=[r]:bn.push(r)}var N0=se.ReactCurrentBatchConfig;function Qo(r,i,o){if(r=o.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(t(309));var d=o.stateNode}if(!d)throw Error(t(147,r));var h=d,f=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===f?i.ref:(i=function(x){var I=h.refs;x===null?delete I[f]:I[f]=x},i._stringRef=f,i)}if(typeof r!="string")throw Error(t(284));if(!o._owner)throw Error(t(290,r))}return r}function $c(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function wf(r){var i=r._init;return i(r._payload)}function _f(r){function i(j,L){if(r){var $=j.deletions;$===null?(j.deletions=[L],j.flags|=16):$.push(L)}}function o(j,L){if(!r)return null;for(;L!==null;)i(j,L),L=L.sibling;return null}function d(j,L){for(j=new Map;L!==null;)L.key!==null?j.set(L.key,L):j.set(L.index,L),L=L.sibling;return j}function h(j,L){return j=Ts(j,L),j.index=0,j.sibling=null,j}function f(j,L,$){return j.index=$,r?($=j.alternate,$!==null?($=$.index,$<L?(j.flags|=2,L):$):(j.flags|=2,L)):(j.flags|=1048576,L)}function x(j){return r&&j.alternate===null&&(j.flags|=2),j}function I(j,L,$,te){return L===null||L.tag!==6?(L=lp($,j.mode,te),L.return=j,L):(L=h(L,$),L.return=j,L)}function D(j,L,$,te){var he=$.type;return he===S?Z(j,L,$.props.children,te,$.key):L!==null&&(L.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Ve&&wf(he)===L.type)?(te=h(L,$.props),te.ref=Qo(j,L,$),te.return=j,te):(te=hu($.type,$.key,$.props,null,j.mode,te),te.ref=Qo(j,L,$),te.return=j,te)}function H(j,L,$,te){return L===null||L.tag!==4||L.stateNode.containerInfo!==$.containerInfo||L.stateNode.implementation!==$.implementation?(L=cp($,j.mode,te),L.return=j,L):(L=h(L,$.children||[]),L.return=j,L)}function Z(j,L,$,te,he){return L===null||L.tag!==7?(L=Ni($,j.mode,te,he),L.return=j,L):(L=h(L,$),L.return=j,L)}function ee(j,L,$){if(typeof L=="string"&&L!==""||typeof L=="number")return L=lp(""+L,j.mode,$),L.return=j,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case ue:return $=hu(L.type,L.key,L.props,null,j.mode,$),$.ref=Qo(j,null,L),$.return=j,$;case me:return L=cp(L,j.mode,$),L.return=j,L;case Ve:var te=L._init;return ee(j,te(L._payload),$)}if(pt(L)||ye(L))return L=Ni(L,j.mode,$,null),L.return=j,L;$c(j,L)}return null}function X(j,L,$,te){var he=L!==null?L.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return he!==null?null:I(j,L,""+$,te);if(typeof $=="object"&&$!==null){switch($.$$typeof){case ue:return $.key===he?D(j,L,$,te):null;case me:return $.key===he?H(j,L,$,te):null;case Ve:return he=$._init,X(j,L,he($._payload),te)}if(pt($)||ye($))return he!==null?null:Z(j,L,$,te,null);$c(j,$)}return null}function ae(j,L,$,te,he){if(typeof te=="string"&&te!==""||typeof te=="number")return j=j.get($)||null,I(L,j,""+te,he);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case ue:return j=j.get(te.key===null?$:te.key)||null,D(L,j,te,he);case me:return j=j.get(te.key===null?$:te.key)||null,H(L,j,te,he);case Ve:var we=te._init;return ae(j,L,$,we(te._payload),he)}if(pt(te)||ye(te))return j=j.get($)||null,Z(L,j,te,he,null);$c(L,te)}return null}function de(j,L,$,te){for(var he=null,we=null,_e=L,Ae=L=0,It=null;_e!==null&&Ae<$.length;Ae++){_e.index>Ae?(It=_e,_e=null):It=_e.sibling;var je=X(j,_e,$[Ae],te);if(je===null){_e===null&&(_e=It);break}r&&_e&&je.alternate===null&&i(j,_e),L=f(je,L,Ae),we===null?he=je:we.sibling=je,we=je,_e=It}if(Ae===$.length)return o(j,_e),tt&&Fi(j,Ae),he;if(_e===null){for(;Ae<$.length;Ae++)_e=ee(j,$[Ae],te),_e!==null&&(L=f(_e,L,Ae),we===null?he=_e:we.sibling=_e,we=_e);return tt&&Fi(j,Ae),he}for(_e=d(j,_e);Ae<$.length;Ae++)It=ae(_e,j,Ae,$[Ae],te),It!==null&&(r&&It.alternate!==null&&_e.delete(It.key===null?Ae:It.key),L=f(It,L,Ae),we===null?he=It:we.sibling=It,we=It);return r&&_e.forEach(function(Ss){return i(j,Ss)}),tt&&Fi(j,Ae),he}function pe(j,L,$,te){var he=ye($);if(typeof he!="function")throw Error(t(150));if($=he.call($),$==null)throw Error(t(151));for(var we=he=null,_e=L,Ae=L=0,It=null,je=$.next();_e!==null&&!je.done;Ae++,je=$.next()){_e.index>Ae?(It=_e,_e=null):It=_e.sibling;var Ss=X(j,_e,je.value,te);if(Ss===null){_e===null&&(_e=It);break}r&&_e&&Ss.alternate===null&&i(j,_e),L=f(Ss,L,Ae),we===null?he=Ss:we.sibling=Ss,we=Ss,_e=It}if(je.done)return o(j,_e),tt&&Fi(j,Ae),he;if(_e===null){for(;!je.done;Ae++,je=$.next())je=ee(j,je.value,te),je!==null&&(L=f(je,L,Ae),we===null?he=je:we.sibling=je,we=je);return tt&&Fi(j,Ae),he}for(_e=d(j,_e);!je.done;Ae++,je=$.next())je=ae(_e,j,Ae,je.value,te),je!==null&&(r&&je.alternate!==null&&_e.delete(je.key===null?Ae:je.key),L=f(je,L,Ae),we===null?he=je:we.sibling=je,we=je);return r&&_e.forEach(function(dx){return i(j,dx)}),tt&&Fi(j,Ae),he}function mt(j,L,$,te){if(typeof $=="object"&&$!==null&&$.type===S&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case ue:e:{for(var he=$.key,we=L;we!==null;){if(we.key===he){if(he=$.type,he===S){if(we.tag===7){o(j,we.sibling),L=h(we,$.props.children),L.return=j,j=L;break e}}else if(we.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Ve&&wf(he)===we.type){o(j,we.sibling),L=h(we,$.props),L.ref=Qo(j,we,$),L.return=j,j=L;break e}o(j,we);break}else i(j,we);we=we.sibling}$.type===S?(L=Ni($.props.children,j.mode,te,$.key),L.return=j,j=L):(te=hu($.type,$.key,$.props,null,j.mode,te),te.ref=Qo(j,L,$),te.return=j,j=te)}return x(j);case me:e:{for(we=$.key;L!==null;){if(L.key===we)if(L.tag===4&&L.stateNode.containerInfo===$.containerInfo&&L.stateNode.implementation===$.implementation){o(j,L.sibling),L=h(L,$.children||[]),L.return=j,j=L;break e}else{o(j,L);break}else i(j,L);L=L.sibling}L=cp($,j.mode,te),L.return=j,j=L}return x(j);case Ve:return we=$._init,mt(j,L,we($._payload),te)}if(pt($))return de(j,L,$,te);if(ye($))return pe(j,L,$,te);$c(j,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,L!==null&&L.tag===6?(o(j,L.sibling),L=h(L,$),L.return=j,j=L):(o(j,L),L=lp($,j.mode,te),L.return=j,j=L),x(j)):o(j,L)}return mt}var Ra=_f(!0),vf=_f(!1),Hc=gs(null),qc=null,Pa=null,w2=null;function _2(){w2=Pa=qc=null}function v2(r){var i=Hc.current;Xe(Hc),r._currentValue=i}function x2(r,i,o){for(;r!==null;){var d=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),r===o)break;r=r.return}}function Na(r,i){qc=r,w2=Pa=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(Zt=!0),r.firstContext=null)}function An(r){var i=r._currentValue;if(w2!==r)if(r={context:r,memoizedValue:i,next:null},Pa===null){if(qc===null)throw Error(t(308));Pa=r,qc.dependencies={lanes:0,firstContext:r}}else Pa=Pa.next=r;return i}var Ci=null;function A2(r){Ci===null?Ci=[r]:Ci.push(r)}function xf(r,i,o,d){var h=i.interleaved;return h===null?(o.next=o,A2(i)):(o.next=h.next,h.next=o),i.interleaved=o,Ur(r,d)}function Ur(r,i){r.lanes|=i;var o=r.alternate;for(o!==null&&(o.lanes|=i),o=r,r=r.return;r!==null;)r.childLanes|=i,o=r.alternate,o!==null&&(o.childLanes|=i),o=r,r=r.return;return o.tag===3?o.stateNode:null}var _s=!1;function E2(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Af(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Br(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function vs(r,i,o){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Oe&2)!==0){var h=d.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),d.pending=i,Ur(r,o)}return h=d.interleaved,h===null?(i.next=i,A2(d)):(i.next=h.next,h.next=i),d.interleaved=i,Ur(r,o)}function Wc(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194240)!==0)){var d=i.lanes;d&=r.pendingLanes,o|=d,i.lanes=o,Io(r,o)}}function Ef(r,i){var o=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var h=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var x={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};f===null?h=f=x:f=f.next=x,o=o.next}while(o!==null);f===null?h=f=i:f=f.next=i}else h=f=i;o={baseState:d.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:d.shared,effects:d.effects},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}function Qc(r,i,o,d){var h=r.updateQueue;_s=!1;var f=h.firstBaseUpdate,x=h.lastBaseUpdate,I=h.shared.pending;if(I!==null){h.shared.pending=null;var D=I,H=D.next;D.next=null,x===null?f=H:x.next=H,x=D;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,I=Z.lastBaseUpdate,I!==x&&(I===null?Z.firstBaseUpdate=H:I.next=H,Z.lastBaseUpdate=D))}if(f!==null){var ee=h.baseState;x=0,Z=H=D=null,I=f;do{var X=I.lane,ae=I.eventTime;if((d&X)===X){Z!==null&&(Z=Z.next={eventTime:ae,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var de=r,pe=I;switch(X=i,ae=o,pe.tag){case 1:if(de=pe.payload,typeof de=="function"){ee=de.call(ae,ee,X);break e}ee=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=pe.payload,X=typeof de=="function"?de.call(ae,ee,X):de,X==null)break e;ee=le({},ee,X);break e;case 2:_s=!0}}I.callback!==null&&I.lane!==0&&(r.flags|=64,X=h.effects,X===null?h.effects=[I]:X.push(I))}else ae={eventTime:ae,lane:X,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Z===null?(H=Z=ae,D=ee):Z=Z.next=ae,x|=X;if(I=I.next,I===null){if(I=h.shared.pending,I===null)break;X=I,I=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);if(Z===null&&(D=ee),h.baseState=D,h.firstBaseUpdate=H,h.lastBaseUpdate=Z,i=h.shared.interleaved,i!==null){h=i;do x|=h.lane,h=h.next;while(h!==i)}else f===null&&(h.shared.lanes=0);Ii|=x,r.lanes=x,r.memoizedState=ee}}function Ff(r,i,o){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var d=r[i],h=d.callback;if(h!==null){if(d.callback=null,d=o,typeof h!="function")throw Error(t(191,h));h.call(d)}}}var Ko={},or=gs(Ko),Go=gs(Ko),Yo=gs(Ko);function Ti(r){if(r===Ko)throw Error(t(174));return r}function F2(r,i){switch(Ke(Yo,i),Ke(Go,r),Ke(or,Ko),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ea(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=ea(i,r)}Xe(or),Ke(or,i)}function Da(){Xe(or),Xe(Go),Xe(Yo)}function Cf(r){Ti(Yo.current);var i=Ti(or.current),o=ea(i,r.type);i!==o&&(Ke(Go,r),Ke(or,o))}function C2(r){Go.current===r&&(Xe(or),Xe(Go))}var rt=gs(0);function Kc(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var T2=[];function S2(){for(var r=0;r<T2.length;r++)T2[r]._workInProgressVersionPrimary=null;T2.length=0}var Gc=se.ReactCurrentDispatcher,I2=se.ReactCurrentBatchConfig,Si=0,st=null,Et=null,Tt=null,Yc=!1,Jo=!1,Xo=0,D0=0;function jt(){throw Error(t(321))}function k2(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!Dn(r[o],i[o]))return!1;return!0}function R2(r,i,o,d,h,f){if(Si=f,st=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Gc.current=r===null||r.memoizedState===null?O0:V0,r=o(d,h),Jo){f=0;do{if(Jo=!1,Xo=0,25<=f)throw Error(t(301));f+=1,Tt=Et=null,i.updateQueue=null,Gc.current=j0,r=o(d,h)}while(Jo)}if(Gc.current=Zc,i=Et!==null&&Et.next!==null,Si=0,Tt=Et=st=null,Yc=!1,i)throw Error(t(300));return r}function P2(){var r=Xo!==0;return Xo=0,r}function lr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?st.memoizedState=Tt=r:Tt=Tt.next=r,Tt}function En(){if(Et===null){var r=st.alternate;r=r!==null?r.memoizedState:null}else r=Et.next;var i=Tt===null?st.memoizedState:Tt.next;if(i!==null)Tt=i,Et=r;else{if(r===null)throw Error(t(310));Et=r,r={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Tt===null?st.memoizedState=Tt=r:Tt=Tt.next=r}return Tt}function Zo(r,i){return typeof i=="function"?i(r):i}function N2(r){var i=En(),o=i.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=r;var d=Et,h=d.baseQueue,f=o.pending;if(f!==null){if(h!==null){var x=h.next;h.next=f.next,f.next=x}d.baseQueue=h=f,o.pending=null}if(h!==null){f=h.next,d=d.baseState;var I=x=null,D=null,H=f;do{var Z=H.lane;if((Si&Z)===Z)D!==null&&(D=D.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),d=H.hasEagerState?H.eagerState:r(d,H.action);else{var ee={lane:Z,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};D===null?(I=D=ee,x=d):D=D.next=ee,st.lanes|=Z,Ii|=Z}H=H.next}while(H!==null&&H!==f);D===null?x=d:D.next=I,Dn(d,i.memoizedState)||(Zt=!0),i.memoizedState=d,i.baseState=x,i.baseQueue=D,o.lastRenderedState=d}if(r=o.interleaved,r!==null){h=r;do f=h.lane,st.lanes|=f,Ii|=f,h=h.next;while(h!==r)}else h===null&&(o.lanes=0);return[i.memoizedState,o.dispatch]}function D2(r){var i=En(),o=i.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=r;var d=o.dispatch,h=o.pending,f=i.memoizedState;if(h!==null){o.pending=null;var x=h=h.next;do f=r(f,x.action),x=x.next;while(x!==h);Dn(f,i.memoizedState)||(Zt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),o.lastRenderedState=f}return[f,d]}function Tf(){}function Sf(r,i){var o=st,d=En(),h=i(),f=!Dn(d.memoizedState,h);if(f&&(d.memoizedState=h,Zt=!0),d=d.queue,b2(Rf.bind(null,o,d,r),[r]),d.getSnapshot!==i||f||Tt!==null&&Tt.memoizedState.tag&1){if(o.flags|=2048,el(9,kf.bind(null,o,d,h,i),void 0,null),St===null)throw Error(t(349));(Si&30)!==0||If(o,i,h)}return h}function If(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=st.updateQueue,i===null?(i={lastEffect:null,stores:null},st.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function kf(r,i,o,d){i.value=o,i.getSnapshot=d,Pf(i)&&Nf(r)}function Rf(r,i,o){return o(function(){Pf(i)&&Nf(r)})}function Pf(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!Dn(r,o)}catch{return!0}}function Nf(r){var i=Ur(r,1);i!==null&&Vn(i,r,1,-1)}function Df(r){var i=lr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:r},i.queue=r,r=r.dispatch=M0.bind(null,st,r),[i.memoizedState,r]}function el(r,i,o,d){return r={tag:r,create:i,destroy:o,deps:d,next:null},i=st.updateQueue,i===null?(i={lastEffect:null,stores:null},st.updateQueue=i,i.lastEffect=r.next=r):(o=i.lastEffect,o===null?i.lastEffect=r.next=r:(d=o.next,o.next=r,r.next=d,i.lastEffect=r)),r}function bf(){return En().memoizedState}function Jc(r,i,o,d){var h=lr();st.flags|=r,h.memoizedState=el(1|i,o,void 0,d===void 0?null:d)}function Xc(r,i,o,d){var h=En();d=d===void 0?null:d;var f=void 0;if(Et!==null){var x=Et.memoizedState;if(f=x.destroy,d!==null&&k2(d,x.deps)){h.memoizedState=el(i,o,f,d);return}}st.flags|=r,h.memoizedState=el(1|i,o,f,d)}function Lf(r,i){return Jc(8390656,8,r,i)}function b2(r,i){return Xc(2048,8,r,i)}function Mf(r,i){return Xc(4,2,r,i)}function Of(r,i){return Xc(4,4,r,i)}function Vf(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function jf(r,i,o){return o=o!=null?o.concat([r]):null,Xc(4,4,Vf.bind(null,i,r),o)}function L2(){}function Uf(r,i){var o=En();i=i===void 0?null:i;var d=o.memoizedState;return d!==null&&i!==null&&k2(i,d[1])?d[0]:(o.memoizedState=[r,i],r)}function Bf(r,i){var o=En();i=i===void 0?null:i;var d=o.memoizedState;return d!==null&&i!==null&&k2(i,d[1])?d[0]:(r=r(),o.memoizedState=[r,i],r)}function zf(r,i,o){return(Si&21)===0?(r.baseState&&(r.baseState=!1,Zt=!0),r.memoizedState=o):(Dn(o,i)||(o=To(),st.lanes|=o,Ii|=o,r.baseState=!0),i)}function b0(r,i){var o=be;be=o!==0&&4>o?o:4,r(!0);var d=I2.transition;I2.transition={};try{r(!1),i()}finally{be=o,I2.transition=d}}function $f(){return En().memoizedState}function L0(r,i,o){var d=Fs(r);if(o={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null},Hf(r))qf(i,o);else if(o=xf(r,i,o,d),o!==null){var h=Kt();Vn(o,r,d,h),Wf(o,i,d)}}function M0(r,i,o){var d=Fs(r),h={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null};if(Hf(r))qf(i,h);else{var f=r.alternate;if(r.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var x=i.lastRenderedState,I=f(x,o);if(h.hasEagerState=!0,h.eagerState=I,Dn(I,x)){var D=i.interleaved;D===null?(h.next=h,A2(i)):(h.next=D.next,D.next=h),i.interleaved=h;return}}catch{}finally{}o=xf(r,i,h,d),o!==null&&(h=Kt(),Vn(o,r,d,h),Wf(o,i,d))}}function Hf(r){var i=r.alternate;return r===st||i!==null&&i===st}function qf(r,i){Jo=Yc=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function Wf(r,i,o){if((o&4194240)!==0){var d=i.lanes;d&=r.pendingLanes,o|=d,i.lanes=o,Io(r,o)}}var Zc={readContext:An,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},O0={readContext:An,useCallback:function(r,i){return lr().memoizedState=[r,i===void 0?null:i],r},useContext:An,useEffect:Lf,useImperativeHandle:function(r,i,o){return o=o!=null?o.concat([r]):null,Jc(4194308,4,Vf.bind(null,i,r),o)},useLayoutEffect:function(r,i){return Jc(4194308,4,r,i)},useInsertionEffect:function(r,i){return Jc(4,2,r,i)},useMemo:function(r,i){var o=lr();return i=i===void 0?null:i,r=r(),o.memoizedState=[r,i],r},useReducer:function(r,i,o){var d=lr();return i=o!==void 0?o(i):i,d.memoizedState=d.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},d.queue=r,r=r.dispatch=L0.bind(null,st,r),[d.memoizedState,r]},useRef:function(r){var i=lr();return r={current:r},i.memoizedState=r},useState:Df,useDebugValue:L2,useDeferredValue:function(r){return lr().memoizedState=r},useTransition:function(){var r=Df(!1),i=r[0];return r=b0.bind(null,r[1]),lr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,o){var d=st,h=lr();if(tt){if(o===void 0)throw Error(t(407));o=o()}else{if(o=i(),St===null)throw Error(t(349));(Si&30)!==0||If(d,i,o)}h.memoizedState=o;var f={value:o,getSnapshot:i};return h.queue=f,Lf(Rf.bind(null,d,f,r),[r]),d.flags|=2048,el(9,kf.bind(null,d,f,o,i),void 0,null),o},useId:function(){var r=lr(),i=St.identifierPrefix;if(tt){var o=jr,d=Vr;o=(d&~(1<<32-on(d)-1)).toString(32)+o,i=":"+i+"R"+o,o=Xo++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=D0++,i=":"+i+"r"+o.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},V0={readContext:An,useCallback:Uf,useContext:An,useEffect:b2,useImperativeHandle:jf,useInsertionEffect:Mf,useLayoutEffect:Of,useMemo:Bf,useReducer:N2,useRef:bf,useState:function(){return N2(Zo)},useDebugValue:L2,useDeferredValue:function(r){var i=En();return zf(i,Et.memoizedState,r)},useTransition:function(){var r=N2(Zo)[0],i=En().memoizedState;return[r,i]},useMutableSource:Tf,useSyncExternalStore:Sf,useId:$f,unstable_isNewReconciler:!1},j0={readContext:An,useCallback:Uf,useContext:An,useEffect:b2,useImperativeHandle:jf,useInsertionEffect:Mf,useLayoutEffect:Of,useMemo:Bf,useReducer:D2,useRef:bf,useState:function(){return D2(Zo)},useDebugValue:L2,useDeferredValue:function(r){var i=En();return Et===null?i.memoizedState=r:zf(i,Et.memoizedState,r)},useTransition:function(){var r=D2(Zo)[0],i=En().memoizedState;return[r,i]},useMutableSource:Tf,useSyncExternalStore:Sf,useId:$f,unstable_isNewReconciler:!1};function Ln(r,i){if(r&&r.defaultProps){i=le({},i),r=r.defaultProps;for(var o in r)i[o]===void 0&&(i[o]=r[o]);return i}return i}function M2(r,i,o,d){i=r.memoizedState,o=o(d,i),o=o==null?i:le({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var eu={isMounted:function(r){return(r=r._reactInternals)?Pn(r)===r:!1},enqueueSetState:function(r,i,o){r=r._reactInternals;var d=Kt(),h=Fs(r),f=Br(d,h);f.payload=i,o!=null&&(f.callback=o),i=vs(r,f,h),i!==null&&(Vn(i,r,h,d),Wc(i,r,h))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var d=Kt(),h=Fs(r),f=Br(d,h);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=vs(r,f,h),i!==null&&(Vn(i,r,h,d),Wc(i,r,h))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=Kt(),d=Fs(r),h=Br(o,d);h.tag=2,i!=null&&(h.callback=i),i=vs(r,h,d),i!==null&&(Vn(i,r,d,o),Wc(i,r,d))}};function Qf(r,i,o,d,h,f,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,f,x):i.prototype&&i.prototype.isPureReactComponent?!Uo(o,d)||!Uo(h,f):!0}function Kf(r,i,o){var d=!1,h=ys,f=i.contextType;return typeof f=="object"&&f!==null?f=An(f):(h=Xt(i)?Ai:Vt.current,d=i.contextTypes,f=(d=d!=null)?Ta(r,h):ys),i=new i(o,f),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=eu,r.stateNode=i,i._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=h,r.__reactInternalMemoizedMaskedChildContext=f),i}function Gf(r,i,o,d){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,d),i.state!==r&&eu.enqueueReplaceState(i,i.state,null)}function O2(r,i,o,d){var h=r.stateNode;h.props=o,h.state=r.memoizedState,h.refs={},E2(r);var f=i.contextType;typeof f=="object"&&f!==null?h.context=An(f):(f=Xt(i)?Ai:Vt.current,h.context=Ta(r,f)),h.state=r.memoizedState,f=i.getDerivedStateFromProps,typeof f=="function"&&(M2(r,i,f,o),h.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(i=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),i!==h.state&&eu.enqueueReplaceState(h,h.state,null),Qc(r,o,h,d),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308)}function ba(r,i){try{var o="",d=i;do o+=ke(d),d=d.return;while(d);var h=o}catch(f){h=`
Error generating stack: `+f.message+`
`+f.stack}return{value:r,source:i,stack:h,digest:null}}function V2(r,i,o){return{value:r,source:null,stack:o??null,digest:i??null}}function j2(r,i){try{console.error(i.value)}catch(o){setTimeout(function(){throw o})}}var U0=typeof WeakMap=="function"?WeakMap:Map;function Yf(r,i,o){o=Br(-1,o),o.tag=3,o.payload={element:null};var d=i.value;return o.callback=function(){ou||(ou=!0,ep=d),j2(r,i)},o}function Jf(r,i,o){o=Br(-1,o),o.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var h=i.value;o.payload=function(){return d(h)},o.callback=function(){j2(r,i)}}var f=r.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(o.callback=function(){j2(r,i),typeof d!="function"&&(As===null?As=new Set([this]):As.add(this));var x=i.stack;this.componentDidCatch(i.value,{componentStack:x!==null?x:""})}),o}function Xf(r,i,o){var d=r.pingCache;if(d===null){d=r.pingCache=new U0;var h=new Set;d.set(i,h)}else h=d.get(i),h===void 0&&(h=new Set,d.set(i,h));h.has(o)||(h.add(o),r=ex.bind(null,r,i,o),i.then(r,r))}function Zf(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function eg(r,i,o,d,h){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(i=Br(-1,1),i.tag=2,vs(o,i,1))),o.lanes|=1),r):(r.flags|=65536,r.lanes=h,r)}var B0=se.ReactCurrentOwner,Zt=!1;function Qt(r,i,o,d){i.child=r===null?vf(i,null,o,d):Ra(i,r.child,o,d)}function tg(r,i,o,d,h){o=o.render;var f=i.ref;return Na(i,h),d=R2(r,i,o,d,f,h),o=P2(),r!==null&&!Zt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~h,zr(r,i,h)):(tt&&o&&h2(i),i.flags|=1,Qt(r,i,d,h),i.child)}function ng(r,i,o,d,h){if(r===null){var f=o.type;return typeof f=="function"&&!op(f)&&f.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(i.tag=15,i.type=f,rg(r,i,f,d,h)):(r=hu(o.type,null,d,i,i.mode,h),r.ref=i.ref,r.return=i,i.child=r)}if(f=r.child,(r.lanes&h)===0){var x=f.memoizedProps;if(o=o.compare,o=o!==null?o:Uo,o(x,d)&&r.ref===i.ref)return zr(r,i,h)}return i.flags|=1,r=Ts(f,d),r.ref=i.ref,r.return=i,i.child=r}function rg(r,i,o,d,h){if(r!==null){var f=r.memoizedProps;if(Uo(f,d)&&r.ref===i.ref)if(Zt=!1,i.pendingProps=d=f,(r.lanes&h)!==0)(r.flags&131072)!==0&&(Zt=!0);else return i.lanes=r.lanes,zr(r,i,h)}return U2(r,i,o,d,h)}function sg(r,i,o){var d=i.pendingProps,h=d.children,f=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Ma,mn),mn|=o;else{if((o&1073741824)===0)return r=f!==null?f.baseLanes|o:o,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Ke(Ma,mn),mn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=f!==null?f.baseLanes:o,Ke(Ma,mn),mn|=d}else f!==null?(d=f.baseLanes|o,i.memoizedState=null):d=o,Ke(Ma,mn),mn|=d;return Qt(r,i,h,o),i.child}function ig(r,i){var o=i.ref;(r===null&&o!==null||r!==null&&r.ref!==o)&&(i.flags|=512,i.flags|=2097152)}function U2(r,i,o,d,h){var f=Xt(o)?Ai:Vt.current;return f=Ta(i,f),Na(i,h),o=R2(r,i,o,d,f,h),d=P2(),r!==null&&!Zt?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~h,zr(r,i,h)):(tt&&d&&h2(i),i.flags|=1,Qt(r,i,o,h),i.child)}function ag(r,i,o,d,h){if(Xt(o)){var f=!0;Vc(i)}else f=!1;if(Na(i,h),i.stateNode===null)nu(r,i),Kf(i,o,d),O2(i,o,d,h),d=!0;else if(r===null){var x=i.stateNode,I=i.memoizedProps;x.props=I;var D=x.context,H=o.contextType;typeof H=="object"&&H!==null?H=An(H):(H=Xt(o)?Ai:Vt.current,H=Ta(i,H));var Z=o.getDerivedStateFromProps,ee=typeof Z=="function"||typeof x.getSnapshotBeforeUpdate=="function";ee||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(I!==d||D!==H)&&Gf(i,x,d,H),_s=!1;var X=i.memoizedState;x.state=X,Qc(i,d,x,h),D=i.memoizedState,I!==d||X!==D||Jt.current||_s?(typeof Z=="function"&&(M2(i,o,Z,d),D=i.memoizedState),(I=_s||Qf(i,o,I,d,X,D,H))?(ee||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=D),x.props=d,x.state=D,x.context=H,d=I):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{x=i.stateNode,Af(r,i),I=i.memoizedProps,H=i.type===i.elementType?I:Ln(i.type,I),x.props=H,ee=i.pendingProps,X=x.context,D=o.contextType,typeof D=="object"&&D!==null?D=An(D):(D=Xt(o)?Ai:Vt.current,D=Ta(i,D));var ae=o.getDerivedStateFromProps;(Z=typeof ae=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(I!==ee||X!==D)&&Gf(i,x,d,D),_s=!1,X=i.memoizedState,x.state=X,Qc(i,d,x,h);var de=i.memoizedState;I!==ee||X!==de||Jt.current||_s?(typeof ae=="function"&&(M2(i,o,ae,d),de=i.memoizedState),(H=_s||Qf(i,o,H,d,X,de,D)||!1)?(Z||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,de,D),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,de,D)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||I===r.memoizedProps&&X===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&X===r.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=de),x.props=d,x.state=de,x.context=D,d=H):(typeof x.componentDidUpdate!="function"||I===r.memoizedProps&&X===r.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||I===r.memoizedProps&&X===r.memoizedState||(i.flags|=1024),d=!1)}return B2(r,i,o,d,f,h)}function B2(r,i,o,d,h,f){ig(r,i);var x=(i.flags&128)!==0;if(!d&&!x)return h&&df(i,o,!1),zr(r,i,f);d=i.stateNode,B0.current=i;var I=x&&typeof o.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,r!==null&&x?(i.child=Ra(i,r.child,null,f),i.child=Ra(i,null,I,f)):Qt(r,i,I,f),i.memoizedState=d.state,h&&df(i,o,!0),i.child}function og(r){var i=r.stateNode;i.pendingContext?cf(r,i.pendingContext,i.pendingContext!==i.context):i.context&&cf(r,i.context,!1),F2(r,i.containerInfo)}function lg(r,i,o,d,h){return ka(),y2(h),i.flags|=256,Qt(r,i,o,d),i.child}var z2={dehydrated:null,treeContext:null,retryLane:0};function $2(r){return{baseLanes:r,cachePool:null,transitions:null}}function cg(r,i,o){var d=i.pendingProps,h=rt.current,f=!1,x=(i.flags&128)!==0,I;if((I=x)||(I=r!==null&&r.memoizedState===null?!1:(h&2)!==0),I?(f=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(h|=1),Ke(rt,h&1),r===null)return g2(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(x=d.children,r=d.fallback,f?(d=i.mode,f=i.child,x={mode:"hidden",children:x},(d&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=x):f=mu(x,d,0,null),r=Ni(r,d,o,null),f.return=i,r.return=i,f.sibling=r,i.child=f,i.child.memoizedState=$2(o),i.memoizedState=z2,r):H2(i,x));if(h=r.memoizedState,h!==null&&(I=h.dehydrated,I!==null))return z0(r,i,x,d,I,h,o);if(f){f=d.fallback,x=i.mode,h=r.child,I=h.sibling;var D={mode:"hidden",children:d.children};return(x&1)===0&&i.child!==h?(d=i.child,d.childLanes=0,d.pendingProps=D,i.deletions=null):(d=Ts(h,D),d.subtreeFlags=h.subtreeFlags&14680064),I!==null?f=Ts(I,f):(f=Ni(f,x,o,null),f.flags|=2),f.return=i,d.return=i,d.sibling=f,i.child=d,d=f,f=i.child,x=r.child.memoizedState,x=x===null?$2(o):{baseLanes:x.baseLanes|o,cachePool:null,transitions:x.transitions},f.memoizedState=x,f.childLanes=r.childLanes&~o,i.memoizedState=z2,d}return f=r.child,r=f.sibling,d=Ts(f,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=o),d.return=i,d.sibling=null,r!==null&&(o=i.deletions,o===null?(i.deletions=[r],i.flags|=16):o.push(r)),i.child=d,i.memoizedState=null,d}function H2(r,i){return i=mu({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function tu(r,i,o,d){return d!==null&&y2(d),Ra(i,r.child,null,o),r=H2(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function z0(r,i,o,d,h,f,x){if(o)return i.flags&256?(i.flags&=-257,d=V2(Error(t(422))),tu(r,i,x,d)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(f=d.fallback,h=i.mode,d=mu({mode:"visible",children:d.children},h,0,null),f=Ni(f,h,x,null),f.flags|=2,d.return=i,f.return=i,d.sibling=f,i.child=d,(i.mode&1)!==0&&Ra(i,r.child,null,x),i.child.memoizedState=$2(x),i.memoizedState=z2,f);if((i.mode&1)===0)return tu(r,i,x,null);if(h.data==="$!"){if(d=h.nextSibling&&h.nextSibling.dataset,d)var I=d.dgst;return d=I,f=Error(t(419)),d=V2(f,d,void 0),tu(r,i,x,d)}if(I=(x&r.childLanes)!==0,Zt||I){if(d=St,d!==null){switch(x&-x){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(d.suspendedLanes|x))!==0?0:h,h!==0&&h!==f.retryLane&&(f.retryLane=h,Ur(r,h),Vn(d,r,h,-1))}return ap(),d=V2(Error(t(421))),tu(r,i,x,d)}return h.data==="$?"?(i.flags|=128,i.child=r.child,i=tx.bind(null,r),h._reactRetry=i,null):(r=f.treeContext,hn=fs(h.nextSibling),pn=i,tt=!0,bn=null,r!==null&&(vn[xn++]=Vr,vn[xn++]=jr,vn[xn++]=Ei,Vr=r.id,jr=r.overflow,Ei=i),i=H2(i,d.children),i.flags|=4096,i)}function ug(r,i,o){r.lanes|=i;var d=r.alternate;d!==null&&(d.lanes|=i),x2(r.return,i,o)}function q2(r,i,o,d,h){var f=r.memoizedState;f===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=d,f.tail=o,f.tailMode=h)}function dg(r,i,o){var d=i.pendingProps,h=d.revealOrder,f=d.tail;if(Qt(r,i,d.children,o),d=rt.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ug(r,o,i);else if(r.tag===19)ug(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Ke(rt,d),(i.mode&1)===0)i.memoizedState=null;else switch(h){case"forwards":for(o=i.child,h=null;o!==null;)r=o.alternate,r!==null&&Kc(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=i.child,i.child=null):(h=o.sibling,o.sibling=null),q2(i,!1,h,o,f);break;case"backwards":for(o=null,h=i.child,i.child=null;h!==null;){if(r=h.alternate,r!==null&&Kc(r)===null){i.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}q2(i,!0,o,null,f);break;case"together":q2(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function nu(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function zr(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),Ii|=i.lanes,(o&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,o=Ts(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=Ts(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function $0(r,i,o){switch(i.tag){case 3:og(i),ka();break;case 5:Cf(i);break;case 1:Xt(i.type)&&Vc(i);break;case 4:F2(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,h=i.memoizedProps.value;Ke(Hc,d._currentValue),d._currentValue=h;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(Ke(rt,rt.current&1),i.flags|=128,null):(o&i.child.childLanes)!==0?cg(r,i,o):(Ke(rt,rt.current&1),r=zr(r,i,o),r!==null?r.sibling:null);Ke(rt,rt.current&1);break;case 19:if(d=(o&i.childLanes)!==0,(r.flags&128)!==0){if(d)return dg(r,i,o);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ke(rt,rt.current),d)break;return null;case 22:case 23:return i.lanes=0,sg(r,i,o)}return zr(r,i,o)}var pg,W2,hg,mg;pg=function(r,i){for(var o=i.child;o!==null;){if(o.tag===5||o.tag===6)r.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},W2=function(){},hg=function(r,i,o,d){var h=r.memoizedProps;if(h!==d){r=i.stateNode,Ti(or.current);var f=null;switch(o){case"input":h=Xi(r,h),d=Xi(r,d),f=[];break;case"select":h=le({},h,{value:void 0}),d=le({},d,{value:void 0}),f=[];break;case"textarea":h=fo(r,h),d=fo(r,d),f=[];break;default:typeof h.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=Lc)}Rn(o,d);var x;o=null;for(H in h)if(!d.hasOwnProperty(H)&&h.hasOwnProperty(H)&&h[H]!=null)if(H==="style"){var I=h[H];for(x in I)I.hasOwnProperty(x)&&(o||(o={}),o[x]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(a.hasOwnProperty(H)?f||(f=[]):(f=f||[]).push(H,null));for(H in d){var D=d[H];if(I=h!=null?h[H]:void 0,d.hasOwnProperty(H)&&D!==I&&(D!=null||I!=null))if(H==="style")if(I){for(x in I)!I.hasOwnProperty(x)||D&&D.hasOwnProperty(x)||(o||(o={}),o[x]="");for(x in D)D.hasOwnProperty(x)&&I[x]!==D[x]&&(o||(o={}),o[x]=D[x])}else o||(f||(f=[]),f.push(H,o)),o=D;else H==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,I=I?I.__html:void 0,D!=null&&I!==D&&(f=f||[]).push(H,D)):H==="children"?typeof D!="string"&&typeof D!="number"||(f=f||[]).push(H,""+D):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(a.hasOwnProperty(H)?(D!=null&&H==="onScroll"&&Je("scroll",r),f||I===D||(f=[])):(f=f||[]).push(H,D))}o&&(f=f||[]).push("style",o);var H=f;(i.updateQueue=H)&&(i.flags|=4)}},mg=function(r,i,o,d){o!==d&&(i.flags|=4)};function tl(r,i){if(!tt)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Ut(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,d=0;if(i)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,d|=h.subtreeFlags&14680064,d|=h.flags&14680064,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,d|=h.subtreeFlags,d|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=d,r.childLanes=o,i}function H0(r,i,o){var d=i.pendingProps;switch(m2(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(i),null;case 1:return Xt(i.type)&&Oc(),Ut(i),null;case 3:return d=i.stateNode,Da(),Xe(Jt),Xe(Vt),S2(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(zc(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,bn!==null&&(rp(bn),bn=null))),W2(r,i),Ut(i),null;case 5:C2(i);var h=Ti(Yo.current);if(o=i.type,r!==null&&i.stateNode!=null)hg(r,i,o,d,h),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(t(166));return Ut(i),null}if(r=Ti(or.current),zc(i)){d=i.stateNode,o=i.type;var f=i.memoizedProps;switch(d[ar]=i,d[qo]=f,r=(i.mode&1)!==0,o){case"dialog":Je("cancel",d),Je("close",d);break;case"iframe":case"object":case"embed":Je("load",d);break;case"video":case"audio":for(h=0;h<zo.length;h++)Je(zo[h],d);break;case"source":Je("error",d);break;case"img":case"image":case"link":Je("error",d),Je("load",d);break;case"details":Je("toggle",d);break;case"input":ac(d,f),Je("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!f.multiple},Je("invalid",d);break;case"textarea":go(d,f),Je("invalid",d)}Rn(o,f),h=null;for(var x in f)if(f.hasOwnProperty(x)){var I=f[x];x==="children"?typeof I=="string"?d.textContent!==I&&(f.suppressHydrationWarning!==!0&&bc(d.textContent,I,r),h=["children",I]):typeof I=="number"&&d.textContent!==""+I&&(f.suppressHydrationWarning!==!0&&bc(d.textContent,I,r),h=["children",""+I]):a.hasOwnProperty(x)&&I!=null&&x==="onScroll"&&Je("scroll",d)}switch(o){case"input":Ji(d),mo(d,f,!0);break;case"textarea":Ji(d),Zr(d);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(d.onclick=Lc)}d=h,i.updateQueue=d,d!==null&&(i.flags|=4)}else{x=h.nodeType===9?h:h.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=yo(o)),r==="http://www.w3.org/1999/xhtml"?o==="script"?(r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=x.createElement(o,{is:d.is}):(r=x.createElement(o),o==="select"&&(x=r,d.multiple?x.multiple=!0:d.size&&(x.size=d.size))):r=x.createElementNS(r,o),r[ar]=i,r[qo]=d,pg(r,i,!1,!1),i.stateNode=r;e:{switch(x=na(o,d),o){case"dialog":Je("cancel",r),Je("close",r),h=d;break;case"iframe":case"object":case"embed":Je("load",r),h=d;break;case"video":case"audio":for(h=0;h<zo.length;h++)Je(zo[h],r);h=d;break;case"source":Je("error",r),h=d;break;case"img":case"image":case"link":Je("error",r),Je("load",r),h=d;break;case"details":Je("toggle",r),h=d;break;case"input":ac(r,d),h=Xi(r,d),Je("invalid",r);break;case"option":h=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},h=le({},d,{value:void 0}),Je("invalid",r);break;case"textarea":go(r,d),h=fo(r,d),Je("invalid",r);break;default:h=d}Rn(o,h),I=h;for(f in I)if(I.hasOwnProperty(f)){var D=I[f];f==="style"?ta(r,D):f==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&lc(r,D)):f==="children"?typeof D=="string"?(o!=="textarea"||D!=="")&&oi(r,D):typeof D=="number"&&oi(r,""+D):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(a.hasOwnProperty(f)?D!=null&&f==="onScroll"&&Je("scroll",r):D!=null&&Q(r,f,D,x))}switch(o){case"input":Ji(r),mo(r,d,!1);break;case"textarea":Ji(r),Zr(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Me(d.value));break;case"select":r.multiple=!!d.multiple,f=d.value,f!=null?kn(r,!!d.multiple,f,!1):d.defaultValue!=null&&kn(r,!!d.multiple,d.defaultValue,!0);break;default:typeof h.onClick=="function"&&(r.onclick=Lc)}switch(o){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ut(i),null;case 6:if(r&&i.stateNode!=null)mg(r,i,r.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(t(166));if(o=Ti(Yo.current),Ti(or.current),zc(i)){if(d=i.stateNode,o=i.memoizedProps,d[ar]=i,(f=d.nodeValue!==o)&&(r=pn,r!==null))switch(r.tag){case 3:bc(d.nodeValue,o,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&bc(d.nodeValue,o,(r.mode&1)!==0)}f&&(i.flags|=4)}else d=(o.nodeType===9?o:o.ownerDocument).createTextNode(d),d[ar]=i,i.stateNode=d}return Ut(i),null;case 13:if(Xe(rt),d=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(tt&&hn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)yf(),ka(),i.flags|=98560,f=!1;else if(f=zc(i),d!==null&&d.dehydrated!==null){if(r===null){if(!f)throw Error(t(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(t(317));f[ar]=i}else ka(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ut(i),f=!1}else bn!==null&&(rp(bn),bn=null),f=!0;if(!f)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=o,i):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(rt.current&1)!==0?Ft===0&&(Ft=3):ap())),i.updateQueue!==null&&(i.flags|=4),Ut(i),null);case 4:return Da(),W2(r,i),r===null&&$o(i.stateNode.containerInfo),Ut(i),null;case 10:return v2(i.type._context),Ut(i),null;case 17:return Xt(i.type)&&Oc(),Ut(i),null;case 19:if(Xe(rt),f=i.memoizedState,f===null)return Ut(i),null;if(d=(i.flags&128)!==0,x=f.rendering,x===null)if(d)tl(f,!1);else{if(Ft!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(x=Kc(r),x!==null){for(i.flags|=128,tl(f,!1),d=x.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=o,o=i.child;o!==null;)f=o,r=d,f.flags&=14680066,x=f.alternate,x===null?(f.childLanes=0,f.lanes=r,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=x.childLanes,f.lanes=x.lanes,f.child=x.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=x.memoizedProps,f.memoizedState=x.memoizedState,f.updateQueue=x.updateQueue,f.type=x.type,r=x.dependencies,f.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),o=o.sibling;return Ke(rt,rt.current&1|2),i.child}r=r.sibling}f.tail!==null&&Ye()>Oa&&(i.flags|=128,d=!0,tl(f,!1),i.lanes=4194304)}else{if(!d)if(r=Kc(x),r!==null){if(i.flags|=128,d=!0,o=r.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),tl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!x.alternate&&!tt)return Ut(i),null}else 2*Ye()-f.renderingStartTime>Oa&&o!==1073741824&&(i.flags|=128,d=!0,tl(f,!1),i.lanes=4194304);f.isBackwards?(x.sibling=i.child,i.child=x):(o=f.last,o!==null?o.sibling=x:i.child=x,f.last=x)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Ye(),i.sibling=null,o=rt.current,Ke(rt,d?o&1|2:o&1),i):(Ut(i),null);case 22:case 23:return ip(),d=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(mn&1073741824)!==0&&(Ut(i),i.subtreeFlags&6&&(i.flags|=8192)):Ut(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function q0(r,i){switch(m2(i),i.tag){case 1:return Xt(i.type)&&Oc(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Da(),Xe(Jt),Xe(Vt),S2(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return C2(i),null;case 13:if(Xe(rt),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));ka()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Xe(rt),null;case 4:return Da(),null;case 10:return v2(i.type._context),null;case 22:case 23:return ip(),null;case 24:return null;default:return null}}var ru=!1,Bt=!1,W0=typeof WeakSet=="function"?WeakSet:Set,ce=null;function La(r,i){var o=r.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(d){lt(r,i,d)}else o.current=null}function Q2(r,i,o){try{o()}catch(d){lt(r,i,d)}}var fg=!1;function Q0(r,i){if(i2=Dr,r=Wm(),Jd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var h=d.anchorOffset,f=d.focusNode;d=d.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var x=0,I=-1,D=-1,H=0,Z=0,ee=r,X=null;t:for(;;){for(var ae;ee!==o||h!==0&&ee.nodeType!==3||(I=x+h),ee!==f||d!==0&&ee.nodeType!==3||(D=x+d),ee.nodeType===3&&(x+=ee.nodeValue.length),(ae=ee.firstChild)!==null;)X=ee,ee=ae;for(;;){if(ee===r)break t;if(X===o&&++H===h&&(I=x),X===f&&++Z===d&&(D=x),(ae=ee.nextSibling)!==null)break;ee=X,X=ee.parentNode}ee=ae}o=I===-1||D===-1?null:{start:I,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(a2={focusedElem:r,selectionRange:o},Dr=!1,ce=i;ce!==null;)if(i=ce,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ce=r;else for(;ce!==null;){i=ce;try{var de=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var pe=de.memoizedProps,mt=de.memoizedState,j=i.stateNode,L=j.getSnapshotBeforeUpdate(i.elementType===i.type?pe:Ln(i.type,pe),mt);j.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var $=i.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){lt(i,i.return,te)}if(r=i.sibling,r!==null){r.return=i.return,ce=r;break}ce=i.return}return de=fg,fg=!1,de}function nl(r,i,o){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var h=d=d.next;do{if((h.tag&r)===r){var f=h.destroy;h.destroy=void 0,f!==void 0&&Q2(i,o,f)}h=h.next}while(h!==d)}}function su(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&r)===r){var d=o.create;o.destroy=d()}o=o.next}while(o!==i)}}function K2(r){var i=r.ref;if(i!==null){var o=r.stateNode;switch(r.tag){case 5:r=o;break;default:r=o}typeof i=="function"?i(r):i.current=r}}function gg(r){var i=r.alternate;i!==null&&(r.alternate=null,gg(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[ar],delete i[qo],delete i[u2],delete i[k0],delete i[R0])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function yg(r){return r.tag===5||r.tag===3||r.tag===4}function wg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||yg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function G2(r,i,o){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(r,i):o.insertBefore(r,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(r,o)):(i=o,i.appendChild(r)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Lc));else if(d!==4&&(r=r.child,r!==null))for(G2(r,i,o),r=r.sibling;r!==null;)G2(r,i,o),r=r.sibling}function Y2(r,i,o){var d=r.tag;if(d===5||d===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Y2(r,i,o),r=r.sibling;r!==null;)Y2(r,i,o),r=r.sibling}var Nt=null,Mn=!1;function xs(r,i,o){for(o=o.child;o!==null;)_g(r,i,o),o=o.sibling}function _g(r,i,o){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(pi,o)}catch{}switch(o.tag){case 5:Bt||La(o,i);case 6:var d=Nt,h=Mn;Nt=null,xs(r,i,o),Nt=d,Mn=h,Nt!==null&&(Mn?(r=Nt,o=o.stateNode,r.nodeType===8?r.parentNode.removeChild(o):r.removeChild(o)):Nt.removeChild(o.stateNode));break;case 18:Nt!==null&&(Mn?(r=Nt,o=o.stateNode,r.nodeType===8?c2(r.parentNode,o):r.nodeType===1&&c2(r,o),ds(r)):c2(Nt,o.stateNode));break;case 4:d=Nt,h=Mn,Nt=o.stateNode.containerInfo,Mn=!0,xs(r,i,o),Nt=d,Mn=h;break;case 0:case 11:case 14:case 15:if(!Bt&&(d=o.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){h=d=d.next;do{var f=h,x=f.destroy;f=f.tag,x!==void 0&&((f&2)!==0||(f&4)!==0)&&Q2(o,i,x),h=h.next}while(h!==d)}xs(r,i,o);break;case 1:if(!Bt&&(La(o,i),d=o.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=o.memoizedProps,d.state=o.memoizedState,d.componentWillUnmount()}catch(I){lt(o,i,I)}xs(r,i,o);break;case 21:xs(r,i,o);break;case 22:o.mode&1?(Bt=(d=Bt)||o.memoizedState!==null,xs(r,i,o),Bt=d):xs(r,i,o);break;default:xs(r,i,o)}}function vg(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var o=r.stateNode;o===null&&(o=r.stateNode=new W0),i.forEach(function(d){var h=nx.bind(null,r,d);o.has(d)||(o.add(d),d.then(h,h))})}}function On(r,i){var o=i.deletions;if(o!==null)for(var d=0;d<o.length;d++){var h=o[d];try{var f=r,x=i,I=x;e:for(;I!==null;){switch(I.tag){case 5:Nt=I.stateNode,Mn=!1;break e;case 3:Nt=I.stateNode.containerInfo,Mn=!0;break e;case 4:Nt=I.stateNode.containerInfo,Mn=!0;break e}I=I.return}if(Nt===null)throw Error(t(160));_g(f,x,h),Nt=null,Mn=!1;var D=h.alternate;D!==null&&(D.return=null),h.return=null}catch(H){lt(h,i,H)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)xg(i,r),i=i.sibling}function xg(r,i){var o=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(On(i,r),cr(r),d&4){try{nl(3,r,r.return),su(3,r)}catch(pe){lt(r,r.return,pe)}try{nl(5,r,r.return)}catch(pe){lt(r,r.return,pe)}}break;case 1:On(i,r),cr(r),d&512&&o!==null&&La(o,o.return);break;case 5:if(On(i,r),cr(r),d&512&&o!==null&&La(o,o.return),r.flags&32){var h=r.stateNode;try{oi(h,"")}catch(pe){lt(r,r.return,pe)}}if(d&4&&(h=r.stateNode,h!=null)){var f=r.memoizedProps,x=o!==null?o.memoizedProps:f,I=r.type,D=r.updateQueue;if(r.updateQueue=null,D!==null)try{I==="input"&&f.type==="radio"&&f.name!=null&&Zi(h,f),na(I,x);var H=na(I,f);for(x=0;x<D.length;x+=2){var Z=D[x],ee=D[x+1];Z==="style"?ta(h,ee):Z==="dangerouslySetInnerHTML"?lc(h,ee):Z==="children"?oi(h,ee):Q(h,Z,ee,H)}switch(I){case"input":ai(h,f);break;case"textarea":oc(h,f);break;case"select":var X=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!f.multiple;var ae=f.value;ae!=null?kn(h,!!f.multiple,ae,!1):X!==!!f.multiple&&(f.defaultValue!=null?kn(h,!!f.multiple,f.defaultValue,!0):kn(h,!!f.multiple,f.multiple?[]:"",!1))}h[qo]=f}catch(pe){lt(r,r.return,pe)}}break;case 6:if(On(i,r),cr(r),d&4){if(r.stateNode===null)throw Error(t(162));h=r.stateNode,f=r.memoizedProps;try{h.nodeValue=f}catch(pe){lt(r,r.return,pe)}}break;case 3:if(On(i,r),cr(r),d&4&&o!==null&&o.memoizedState.isDehydrated)try{ds(i.containerInfo)}catch(pe){lt(r,r.return,pe)}break;case 4:On(i,r),cr(r);break;case 13:On(i,r),cr(r),h=r.child,h.flags&8192&&(f=h.memoizedState!==null,h.stateNode.isHidden=f,!f||h.alternate!==null&&h.alternate.memoizedState!==null||(Z2=Ye())),d&4&&vg(r);break;case 22:if(Z=o!==null&&o.memoizedState!==null,r.mode&1?(Bt=(H=Bt)||Z,On(i,r),Bt=H):On(i,r),cr(r),d&8192){if(H=r.memoizedState!==null,(r.stateNode.isHidden=H)&&!Z&&(r.mode&1)!==0)for(ce=r,Z=r.child;Z!==null;){for(ee=ce=Z;ce!==null;){switch(X=ce,ae=X.child,X.tag){case 0:case 11:case 14:case 15:nl(4,X,X.return);break;case 1:La(X,X.return);var de=X.stateNode;if(typeof de.componentWillUnmount=="function"){d=X,o=X.return;try{i=d,de.props=i.memoizedProps,de.state=i.memoizedState,de.componentWillUnmount()}catch(pe){lt(d,o,pe)}}break;case 5:La(X,X.return);break;case 22:if(X.memoizedState!==null){Fg(ee);continue}}ae!==null?(ae.return=X,ce=ae):Fg(ee)}Z=Z.sibling}e:for(Z=null,ee=r;;){if(ee.tag===5){if(Z===null){Z=ee;try{h=ee.stateNode,H?(f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(I=ee.stateNode,D=ee.memoizedProps.style,x=D!=null&&D.hasOwnProperty("display")?D.display:null,I.style.display=ns("display",x))}catch(pe){lt(r,r.return,pe)}}}else if(ee.tag===6){if(Z===null)try{ee.stateNode.nodeValue=H?"":ee.memoizedProps}catch(pe){lt(r,r.return,pe)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===r)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===r)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===r)break e;Z===ee&&(Z=null),ee=ee.return}Z===ee&&(Z=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:On(i,r),cr(r),d&4&&vg(r);break;case 21:break;default:On(i,r),cr(r)}}function cr(r){var i=r.flags;if(i&2){try{e:{for(var o=r.return;o!==null;){if(yg(o)){var d=o;break e}o=o.return}throw Error(t(160))}switch(d.tag){case 5:var h=d.stateNode;d.flags&32&&(oi(h,""),d.flags&=-33);var f=wg(r);Y2(r,f,h);break;case 3:case 4:var x=d.stateNode.containerInfo,I=wg(r);G2(r,I,x);break;default:throw Error(t(161))}}catch(D){lt(r,r.return,D)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function K0(r,i,o){ce=r,Ag(r)}function Ag(r,i,o){for(var d=(r.mode&1)!==0;ce!==null;){var h=ce,f=h.child;if(h.tag===22&&d){var x=h.memoizedState!==null||ru;if(!x){var I=h.alternate,D=I!==null&&I.memoizedState!==null||Bt;I=ru;var H=Bt;if(ru=x,(Bt=D)&&!H)for(ce=h;ce!==null;)x=ce,D=x.child,x.tag===22&&x.memoizedState!==null?Cg(h):D!==null?(D.return=x,ce=D):Cg(h);for(;f!==null;)ce=f,Ag(f),f=f.sibling;ce=h,ru=I,Bt=H}Eg(r)}else(h.subtreeFlags&8772)!==0&&f!==null?(f.return=h,ce=f):Eg(r)}}function Eg(r){for(;ce!==null;){var i=ce;if((i.flags&8772)!==0){var o=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Bt||su(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!Bt)if(o===null)d.componentDidMount();else{var h=i.elementType===i.type?o.memoizedProps:Ln(i.type,o.memoizedProps);d.componentDidUpdate(h,o.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var f=i.updateQueue;f!==null&&Ff(i,f,d);break;case 3:var x=i.updateQueue;if(x!==null){if(o=null,i.child!==null)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}Ff(i,x,o)}break;case 5:var I=i.stateNode;if(o===null&&i.flags&4){o=I;var D=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&o.focus();break;case"img":D.src&&(o.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var H=i.alternate;if(H!==null){var Z=H.memoizedState;if(Z!==null){var ee=Z.dehydrated;ee!==null&&ds(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Bt||i.flags&512&&K2(i)}catch(X){lt(i,i.return,X)}}if(i===r){ce=null;break}if(o=i.sibling,o!==null){o.return=i.return,ce=o;break}ce=i.return}}function Fg(r){for(;ce!==null;){var i=ce;if(i===r){ce=null;break}var o=i.sibling;if(o!==null){o.return=i.return,ce=o;break}ce=i.return}}function Cg(r){for(;ce!==null;){var i=ce;try{switch(i.tag){case 0:case 11:case 15:var o=i.return;try{su(4,i)}catch(D){lt(i,o,D)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var h=i.return;try{d.componentDidMount()}catch(D){lt(i,h,D)}}var f=i.return;try{K2(i)}catch(D){lt(i,f,D)}break;case 5:var x=i.return;try{K2(i)}catch(D){lt(i,x,D)}}}catch(D){lt(i,i.return,D)}if(i===r){ce=null;break}var I=i.sibling;if(I!==null){I.return=i.return,ce=I;break}ce=i.return}}var G0=Math.ceil,iu=se.ReactCurrentDispatcher,J2=se.ReactCurrentOwner,Fn=se.ReactCurrentBatchConfig,Oe=0,St=null,wt=null,Dt=0,mn=0,Ma=gs(0),Ft=0,rl=null,Ii=0,au=0,X2=0,sl=null,en=null,Z2=0,Oa=1/0,$r=null,ou=!1,ep=null,As=null,lu=!1,Es=null,cu=0,il=0,tp=null,uu=-1,du=0;function Kt(){return(Oe&6)!==0?Ye():uu!==-1?uu:uu=Ye()}function Fs(r){return(r.mode&1)===0?1:(Oe&2)!==0&&Dt!==0?Dt&-Dt:N0.transition!==null?(du===0&&(du=To()),du):(r=be,r!==0||(r=window.event,r=r===void 0?16:pa(r.type)),r)}function Vn(r,i,o,d){if(50<il)throw il=0,tp=null,Error(t(185));gi(r,o,d),((Oe&2)===0||r!==St)&&(r===St&&((Oe&2)===0&&(au|=o),Ft===4&&Cs(r,Dt)),tn(r,d),o===1&&Oe===0&&(i.mode&1)===0&&(Oa=Ye()+500,jc&&ws()))}function tn(r,i){var o=r.callbackNode;fi(r,i);var d=Rr(r,r===St?Dt:0);if(d===0)o!==null&&ia(o),r.callbackNode=null,r.callbackPriority=0;else if(i=d&-d,r.callbackPriority!==i){if(o!=null&&ia(o),i===1)r.tag===0?P0(Sg.bind(null,r)):pf(Sg.bind(null,r)),S0(function(){(Oe&6)===0&&ws()}),o=null;else{switch(Yn(d)){case 1:o=aa;break;case 4:o=Eo;break;case 16:o=di;break;case 536870912:o=oa;break;default:o=di}o=Lg(o,Tg.bind(null,r))}r.callbackPriority=i,r.callbackNode=o}}function Tg(r,i){if(uu=-1,du=0,(Oe&6)!==0)throw Error(t(327));var o=r.callbackNode;if(Va()&&r.callbackNode!==o)return null;var d=Rr(r,r===St?Dt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||i)i=pu(r,d);else{i=d;var h=Oe;Oe|=2;var f=kg();(St!==r||Dt!==i)&&($r=null,Oa=Ye()+500,Ri(r,i));do try{X0();break}catch(I){Ig(r,I)}while(!0);_2(),iu.current=f,Oe=h,wt!==null?i=0:(St=null,Dt=0,i=Ft)}if(i!==0){if(i===2&&(h=Co(r),h!==0&&(d=h,i=np(r,h))),i===1)throw o=rl,Ri(r,0),Cs(r,d),tn(r,Ye()),o;if(i===6)Cs(r,d);else{if(h=r.current.alternate,(d&30)===0&&!Y0(h)&&(i=pu(r,d),i===2&&(f=Co(r),f!==0&&(d=f,i=np(r,f))),i===1))throw o=rl,Ri(r,0),Cs(r,d),tn(r,Ye()),o;switch(r.finishedWork=h,r.finishedLanes=d,i){case 0:case 1:throw Error(t(345));case 2:Pi(r,en,$r);break;case 3:if(Cs(r,d),(d&130023424)===d&&(i=Z2+500-Ye(),10<i)){if(Rr(r,0)!==0)break;if(h=r.suspendedLanes,(h&d)!==d){Kt(),r.pingedLanes|=r.suspendedLanes&h;break}r.timeoutHandle=l2(Pi.bind(null,r,en,$r),i);break}Pi(r,en,$r);break;case 4:if(Cs(r,d),(d&4194240)===d)break;for(i=r.eventTimes,h=-1;0<d;){var x=31-on(d);f=1<<x,x=i[x],x>h&&(h=x),d&=~f}if(d=h,d=Ye()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*G0(d/1960))-d,10<d){r.timeoutHandle=l2(Pi.bind(null,r,en,$r),d);break}Pi(r,en,$r);break;case 5:Pi(r,en,$r);break;default:throw Error(t(329))}}}return tn(r,Ye()),r.callbackNode===o?Tg.bind(null,r):null}function np(r,i){var o=sl;return r.current.memoizedState.isDehydrated&&(Ri(r,i).flags|=256),r=pu(r,i),r!==2&&(i=en,en=o,i!==null&&rp(i)),r}function rp(r){en===null?en=r:en.push.apply(en,r)}function Y0(r){for(var i=r;;){if(i.flags&16384){var o=i.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var d=0;d<o.length;d++){var h=o[d],f=h.getSnapshot;h=h.value;try{if(!Dn(f(),h))return!1}catch{return!1}}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Cs(r,i){for(i&=~X2,i&=~au,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var o=31-on(i),d=1<<o;r[o]=-1,i&=~d}}function Sg(r){if((Oe&6)!==0)throw Error(t(327));Va();var i=Rr(r,0);if((i&1)===0)return tn(r,Ye()),null;var o=pu(r,i);if(r.tag!==0&&o===2){var d=Co(r);d!==0&&(i=d,o=np(r,d))}if(o===1)throw o=rl,Ri(r,0),Cs(r,i),tn(r,Ye()),o;if(o===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Pi(r,en,$r),tn(r,Ye()),null}function sp(r,i){var o=Oe;Oe|=1;try{return r(i)}finally{Oe=o,Oe===0&&(Oa=Ye()+500,jc&&ws())}}function ki(r){Es!==null&&Es.tag===0&&(Oe&6)===0&&Va();var i=Oe;Oe|=1;var o=Fn.transition,d=be;try{if(Fn.transition=null,be=1,r)return r()}finally{be=d,Fn.transition=o,Oe=i,(Oe&6)===0&&ws()}}function ip(){mn=Ma.current,Xe(Ma)}function Ri(r,i){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;if(o!==-1&&(r.timeoutHandle=-1,T0(o)),wt!==null)for(o=wt.return;o!==null;){var d=o;switch(m2(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Oc();break;case 3:Da(),Xe(Jt),Xe(Vt),S2();break;case 5:C2(d);break;case 4:Da();break;case 13:Xe(rt);break;case 19:Xe(rt);break;case 10:v2(d.type._context);break;case 22:case 23:ip()}o=o.return}if(St=r,wt=r=Ts(r.current,null),Dt=mn=i,Ft=0,rl=null,X2=au=Ii=0,en=sl=null,Ci!==null){for(i=0;i<Ci.length;i++)if(o=Ci[i],d=o.interleaved,d!==null){o.interleaved=null;var h=d.next,f=o.pending;if(f!==null){var x=f.next;f.next=h,d.next=x}o.pending=d}Ci=null}return r}function Ig(r,i){do{var o=wt;try{if(_2(),Gc.current=Zc,Yc){for(var d=st.memoizedState;d!==null;){var h=d.queue;h!==null&&(h.pending=null),d=d.next}Yc=!1}if(Si=0,Tt=Et=st=null,Jo=!1,Xo=0,J2.current=null,o===null||o.return===null){Ft=1,rl=i,wt=null;break}e:{var f=r,x=o.return,I=o,D=i;if(i=Dt,I.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var H=D,Z=I,ee=Z.tag;if((Z.mode&1)===0&&(ee===0||ee===11||ee===15)){var X=Z.alternate;X?(Z.updateQueue=X.updateQueue,Z.memoizedState=X.memoizedState,Z.lanes=X.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ae=Zf(x);if(ae!==null){ae.flags&=-257,eg(ae,x,I,f,i),ae.mode&1&&Xf(f,H,i),i=ae,D=H;var de=i.updateQueue;if(de===null){var pe=new Set;pe.add(D),i.updateQueue=pe}else de.add(D);break e}else{if((i&1)===0){Xf(f,H,i),ap();break e}D=Error(t(426))}}else if(tt&&I.mode&1){var mt=Zf(x);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),eg(mt,x,I,f,i),y2(ba(D,I));break e}}f=D=ba(D,I),Ft!==4&&(Ft=2),sl===null?sl=[f]:sl.push(f),f=x;do{switch(f.tag){case 3:f.flags|=65536,i&=-i,f.lanes|=i;var j=Yf(f,D,i);Ef(f,j);break e;case 1:I=D;var L=f.type,$=f.stateNode;if((f.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(As===null||!As.has($)))){f.flags|=65536,i&=-i,f.lanes|=i;var te=Jf(f,I,i);Ef(f,te);break e}}f=f.return}while(f!==null)}Pg(o)}catch(he){i=he,wt===o&&o!==null&&(wt=o=o.return);continue}break}while(!0)}function kg(){var r=iu.current;return iu.current=Zc,r===null?Zc:r}function ap(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),St===null||(Ii&268435455)===0&&(au&268435455)===0||Cs(St,Dt)}function pu(r,i){var o=Oe;Oe|=2;var d=kg();(St!==r||Dt!==i)&&($r=null,Ri(r,i));do try{J0();break}catch(h){Ig(r,h)}while(!0);if(_2(),Oe=o,iu.current=d,wt!==null)throw Error(t(261));return St=null,Dt=0,Ft}function J0(){for(;wt!==null;)Rg(wt)}function X0(){for(;wt!==null&&!ui();)Rg(wt)}function Rg(r){var i=bg(r.alternate,r,mn);r.memoizedProps=r.pendingProps,i===null?Pg(r):wt=i,J2.current=null}function Pg(r){var i=r;do{var o=i.alternate;if(r=i.return,(i.flags&32768)===0){if(o=H0(o,i,mn),o!==null){wt=o;return}}else{if(o=q0(o,i),o!==null){o.flags&=32767,wt=o;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ft=6,wt=null;return}}if(i=i.sibling,i!==null){wt=i;return}wt=i=r}while(i!==null);Ft===0&&(Ft=5)}function Pi(r,i,o){var d=be,h=Fn.transition;try{Fn.transition=null,be=1,Z0(r,i,o,d)}finally{Fn.transition=h,be=d}return null}function Z0(r,i,o,d){do Va();while(Es!==null);if((Oe&6)!==0)throw Error(t(327));o=r.finishedWork;var h=r.finishedLanes;if(o===null)return null;if(r.finishedWork=null,r.finishedLanes=0,o===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var f=o.lanes|o.childLanes;if(Wd(r,f),r===St&&(wt=St=null,Dt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||lu||(lu=!0,Lg(di,function(){return Va(),null})),f=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||f){f=Fn.transition,Fn.transition=null;var x=be;be=1;var I=Oe;Oe|=4,J2.current=null,Q0(r,o),xg(o,r),_0(a2),Dr=!!i2,a2=i2=null,r.current=o,K0(o),kr(),Oe=I,be=x,Fn.transition=f}else r.current=o;if(lu&&(lu=!1,Es=r,cu=h),f=r.pendingLanes,f===0&&(As=null),_c(o.stateNode),tn(r,Ye()),i!==null)for(d=r.onRecoverableError,o=0;o<i.length;o++)h=i[o],d(h.value,{componentStack:h.stack,digest:h.digest});if(ou)throw ou=!1,r=ep,ep=null,r;return(cu&1)!==0&&r.tag!==0&&Va(),f=r.pendingLanes,(f&1)!==0?r===tp?il++:(il=0,tp=r):il=0,ws(),null}function Va(){if(Es!==null){var r=Yn(cu),i=Fn.transition,o=be;try{if(Fn.transition=null,be=16>r?16:r,Es===null)var d=!1;else{if(r=Es,Es=null,cu=0,(Oe&6)!==0)throw Error(t(331));var h=Oe;for(Oe|=4,ce=r.current;ce!==null;){var f=ce,x=f.child;if((ce.flags&16)!==0){var I=f.deletions;if(I!==null){for(var D=0;D<I.length;D++){var H=I[D];for(ce=H;ce!==null;){var Z=ce;switch(Z.tag){case 0:case 11:case 15:nl(8,Z,f)}var ee=Z.child;if(ee!==null)ee.return=Z,ce=ee;else for(;ce!==null;){Z=ce;var X=Z.sibling,ae=Z.return;if(gg(Z),Z===H){ce=null;break}if(X!==null){X.return=ae,ce=X;break}ce=ae}}}var de=f.alternate;if(de!==null){var pe=de.child;if(pe!==null){de.child=null;do{var mt=pe.sibling;pe.sibling=null,pe=mt}while(pe!==null)}}ce=f}}if((f.subtreeFlags&2064)!==0&&x!==null)x.return=f,ce=x;else e:for(;ce!==null;){if(f=ce,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:nl(9,f,f.return)}var j=f.sibling;if(j!==null){j.return=f.return,ce=j;break e}ce=f.return}}var L=r.current;for(ce=L;ce!==null;){x=ce;var $=x.child;if((x.subtreeFlags&2064)!==0&&$!==null)$.return=x,ce=$;else e:for(x=L;ce!==null;){if(I=ce,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:su(9,I)}}catch(he){lt(I,I.return,he)}if(I===x){ce=null;break e}var te=I.sibling;if(te!==null){te.return=I.return,ce=te;break e}ce=I.return}}if(Oe=h,ws(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(pi,r)}catch{}d=!0}return d}finally{be=o,Fn.transition=i}}return!1}function Ng(r,i,o){i=ba(o,i),i=Yf(r,i,1),r=vs(r,i,1),i=Kt(),r!==null&&(gi(r,1,i),tn(r,i))}function lt(r,i,o){if(r.tag===3)Ng(r,r,o);else for(;i!==null;){if(i.tag===3){Ng(i,r,o);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(As===null||!As.has(d))){r=ba(o,r),r=Jf(i,r,1),i=vs(i,r,1),r=Kt(),i!==null&&(gi(i,1,r),tn(i,r));break}}i=i.return}}function ex(r,i,o){var d=r.pingCache;d!==null&&d.delete(i),i=Kt(),r.pingedLanes|=r.suspendedLanes&o,St===r&&(Dt&o)===o&&(Ft===4||Ft===3&&(Dt&130023424)===Dt&&500>Ye()-Z2?Ri(r,0):X2|=o),tn(r,i)}function Dg(r,i){i===0&&((r.mode&1)===0?i=1:(i=ls,ls<<=1,(ls&130023424)===0&&(ls=4194304)));var o=Kt();r=Ur(r,i),r!==null&&(gi(r,i,o),tn(r,o))}function tx(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),Dg(r,o)}function nx(r,i){var o=0;switch(r.tag){case 13:var d=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(i),Dg(r,o)}var bg;bg=function(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps||Jt.current)Zt=!0;else{if((r.lanes&o)===0&&(i.flags&128)===0)return Zt=!1,$0(r,i,o);Zt=(r.flags&131072)!==0}else Zt=!1,tt&&(i.flags&1048576)!==0&&hf(i,Bc,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;nu(r,i),r=i.pendingProps;var h=Ta(i,Vt.current);Na(i,o),h=R2(null,i,d,r,h,o);var f=P2();return i.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Xt(d)?(f=!0,Vc(i)):f=!1,i.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,E2(i),h.updater=eu,i.stateNode=h,h._reactInternals=i,O2(i,d,r,o),i=B2(null,i,d,!0,f,o)):(i.tag=0,tt&&f&&h2(i),Qt(null,i,h,o),i=i.child),i;case 16:d=i.elementType;e:{switch(nu(r,i),r=i.pendingProps,h=d._init,d=h(d._payload),i.type=d,h=i.tag=sx(d),r=Ln(d,r),h){case 0:i=U2(null,i,d,r,o);break e;case 1:i=ag(null,i,d,r,o);break e;case 11:i=tg(null,i,d,r,o);break e;case 14:i=ng(null,i,d,Ln(d.type,r),o);break e}throw Error(t(306,d,""))}return i;case 0:return d=i.type,h=i.pendingProps,h=i.elementType===d?h:Ln(d,h),U2(r,i,d,h,o);case 1:return d=i.type,h=i.pendingProps,h=i.elementType===d?h:Ln(d,h),ag(r,i,d,h,o);case 3:e:{if(og(i),r===null)throw Error(t(387));d=i.pendingProps,f=i.memoizedState,h=f.element,Af(r,i),Qc(i,d,null,o);var x=i.memoizedState;if(d=x.element,f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){h=ba(Error(t(423)),i),i=lg(r,i,d,o,h);break e}else if(d!==h){h=ba(Error(t(424)),i),i=lg(r,i,d,o,h);break e}else for(hn=fs(i.stateNode.containerInfo.firstChild),pn=i,tt=!0,bn=null,o=vf(i,null,d,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ka(),d===h){i=zr(r,i,o);break e}Qt(r,i,d,o)}i=i.child}return i;case 5:return Cf(i),r===null&&g2(i),d=i.type,h=i.pendingProps,f=r!==null?r.memoizedProps:null,x=h.children,o2(d,h)?x=null:f!==null&&o2(d,f)&&(i.flags|=32),ig(r,i),Qt(r,i,x,o),i.child;case 6:return r===null&&g2(i),null;case 13:return cg(r,i,o);case 4:return F2(i,i.stateNode.containerInfo),d=i.pendingProps,r===null?i.child=Ra(i,null,d,o):Qt(r,i,d,o),i.child;case 11:return d=i.type,h=i.pendingProps,h=i.elementType===d?h:Ln(d,h),tg(r,i,d,h,o);case 7:return Qt(r,i,i.pendingProps,o),i.child;case 8:return Qt(r,i,i.pendingProps.children,o),i.child;case 12:return Qt(r,i,i.pendingProps.children,o),i.child;case 10:e:{if(d=i.type._context,h=i.pendingProps,f=i.memoizedProps,x=h.value,Ke(Hc,d._currentValue),d._currentValue=x,f!==null)if(Dn(f.value,x)){if(f.children===h.children&&!Jt.current){i=zr(r,i,o);break e}}else for(f=i.child,f!==null&&(f.return=i);f!==null;){var I=f.dependencies;if(I!==null){x=f.child;for(var D=I.firstContext;D!==null;){if(D.context===d){if(f.tag===1){D=Br(-1,o&-o),D.tag=2;var H=f.updateQueue;if(H!==null){H=H.shared;var Z=H.pending;Z===null?D.next=D:(D.next=Z.next,Z.next=D),H.pending=D}}f.lanes|=o,D=f.alternate,D!==null&&(D.lanes|=o),x2(f.return,o,i),I.lanes|=o;break}D=D.next}}else if(f.tag===10)x=f.type===i.type?null:f.child;else if(f.tag===18){if(x=f.return,x===null)throw Error(t(341));x.lanes|=o,I=x.alternate,I!==null&&(I.lanes|=o),x2(x,o,i),x=f.sibling}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===i){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}Qt(r,i,h.children,o),i=i.child}return i;case 9:return h=i.type,d=i.pendingProps.children,Na(i,o),h=An(h),d=d(h),i.flags|=1,Qt(r,i,d,o),i.child;case 14:return d=i.type,h=Ln(d,i.pendingProps),h=Ln(d.type,h),ng(r,i,d,h,o);case 15:return rg(r,i,i.type,i.pendingProps,o);case 17:return d=i.type,h=i.pendingProps,h=i.elementType===d?h:Ln(d,h),nu(r,i),i.tag=1,Xt(d)?(r=!0,Vc(i)):r=!1,Na(i,o),Kf(i,d,h),O2(i,d,h,o),B2(null,i,d,!0,r,o);case 19:return dg(r,i,o);case 22:return sg(r,i,o)}throw Error(t(156,i.tag))};function Lg(r,i){return Ao(r,i)}function rx(r,i,o,d){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(r,i,o,d){return new rx(r,i,o,d)}function op(r){return r=r.prototype,!(!r||!r.isReactComponent)}function sx(r){if(typeof r=="function")return op(r)?1:0;if(r!=null){if(r=r.$$typeof,r===O)return 11;if(r===fe)return 14}return 2}function Ts(r,i){var o=r.alternate;return o===null?(o=Cn(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&14680064,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o}function hu(r,i,o,d,h,f){var x=2;if(d=r,typeof r=="function")op(r)&&(x=1);else if(typeof r=="string")x=5;else e:switch(r){case S:return Ni(o.children,h,f,i);case C:x=8,h|=8;break;case T:return r=Cn(12,o,i,h|2),r.elementType=T,r.lanes=f,r;case R:return r=Cn(13,o,i,h),r.elementType=R,r.lanes=f,r;case qe:return r=Cn(19,o,i,h),r.elementType=qe,r.lanes=f,r;case et:return mu(o,h,f,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:x=10;break e;case k:x=9;break e;case O:x=11;break e;case fe:x=14;break e;case Ve:x=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=Cn(x,o,i,h),i.elementType=r,i.type=d,i.lanes=f,i}function Ni(r,i,o,d){return r=Cn(7,r,d,i),r.lanes=o,r}function mu(r,i,o,d){return r=Cn(22,r,d,i),r.elementType=et,r.lanes=o,r.stateNode={isHidden:!1},r}function lp(r,i,o){return r=Cn(6,r,null,i),r.lanes=o,r}function cp(r,i,o){return i=Cn(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function ix(r,i,o,d,h){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=So(0),this.expirationTimes=So(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=So(0),this.identifierPrefix=d,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function up(r,i,o,d,h,f,x,I,D){return r=new ix(r,i,o,I,D),i===1?(i=1,f===!0&&(i|=8)):i=0,f=Cn(3,null,null,i),r.current=f,f.stateNode=r,f.memoizedState={element:d,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},E2(f),r}function ax(r,i,o){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:me,key:d==null?null:""+d,children:r,containerInfo:i,implementation:o}}function Mg(r){if(!r)return ys;r=r._reactInternals;e:{if(Pn(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Xt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var o=r.type;if(Xt(o))return uf(r,o,i)}return i}function Og(r,i,o,d,h,f,x,I,D){return r=up(o,d,!0,r,h,f,x,I,D),r.context=Mg(null),o=r.current,d=Kt(),h=Fs(o),f=Br(d,h),f.callback=i??null,vs(o,f,h),r.current.lanes=h,gi(r,h,d),tn(r,d),r}function fu(r,i,o,d){var h=i.current,f=Kt(),x=Fs(h);return o=Mg(o),i.context===null?i.context=o:i.pendingContext=o,i=Br(f,x),i.payload={element:r},d=d===void 0?null:d,d!==null&&(i.callback=d),r=vs(h,i,x),r!==null&&(Vn(r,h,x,f),Wc(r,h,x)),x}function gu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Vg(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function dp(r,i){Vg(r,i),(r=r.alternate)&&Vg(r,i)}function ox(){return null}var jg=typeof reportError=="function"?reportError:function(r){console.error(r)};function pp(r){this._internalRoot=r}yu.prototype.render=pp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));fu(r,i,null,null)},yu.prototype.unmount=pp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;ki(function(){fu(null,r,null,null)}),i[Mr]=null}};function yu(r){this._internalRoot=r}yu.prototype.unstable_scheduleHydration=function(r){if(r){var i=Po();r={blockedOn:null,target:r,priority:i};for(var o=0;o<ln.length&&i!==0&&i<ln[o].priority;o++);ln.splice(o,0,r),o===0&&ua(r)}};function hp(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function wu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Ug(){}function lx(r,i,o,d,h){if(h){if(typeof d=="function"){var f=d;d=function(){var H=gu(x);f.call(H)}}var x=Og(i,d,r,0,null,!1,!1,"",Ug);return r._reactRootContainer=x,r[Mr]=x.current,$o(r.nodeType===8?r.parentNode:r),ki(),x}for(;h=r.lastChild;)r.removeChild(h);if(typeof d=="function"){var I=d;d=function(){var H=gu(D);I.call(H)}}var D=up(r,0,!1,null,null,!1,!1,"",Ug);return r._reactRootContainer=D,r[Mr]=D.current,$o(r.nodeType===8?r.parentNode:r),ki(function(){fu(i,D,o,d)}),D}function _u(r,i,o,d,h){var f=o._reactRootContainer;if(f){var x=f;if(typeof h=="function"){var I=h;h=function(){var D=gu(x);I.call(D)}}fu(i,x,r,h)}else x=lx(o,i,r,h,d);return gu(x)}ko=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var o=Ue(i.pendingLanes);o!==0&&(Io(i,o|1),tn(i,Ye()),(Oe&6)===0&&(Oa=Ye()+500,ws()))}break;case 13:ki(function(){var d=Ur(r,1);if(d!==null){var h=Kt();Vn(d,r,1,h)}}),dp(r,1)}},la=function(r){if(r.tag===13){var i=Ur(r,134217728);if(i!==null){var o=Kt();Vn(i,r,134217728,o)}dp(r,134217728)}},Ro=function(r){if(r.tag===13){var i=Fs(r),o=Ur(r,i);if(o!==null){var d=Kt();Vn(o,r,i,d)}dp(r,i)}},Po=function(){return be},No=function(r,i){var o=be;try{return be=r,i()}finally{be=o}},Tr=function(r,i,o){switch(i){case"input":if(ai(r,o),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<o.length;i++){var d=o[i];if(d!==r&&d.form===r.form){var h=Mc(d);if(!h)throw Error(t(90));ho(d),ai(d,h)}}}break;case"textarea":oc(r,o);break;case"select":i=o.value,i!=null&&kn(r,!!o.multiple,i,!1)}},uc=sp,dc=ki;var cx={usingClientEntryPoint:!1,Events:[Wo,Fa,Mc,ss,is,sp]},al={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ux={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=wc(r),r===null?null:r.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||ox,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vu.isDisabled&&vu.supportsFiber)try{pi=vu.inject(ux),an=vu}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cx,nn.createPortal=function(r,i){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hp(i))throw Error(t(200));return ax(r,i,null,o)},nn.createRoot=function(r,i){if(!hp(r))throw Error(t(299));var o=!1,d="",h=jg;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(h=i.onRecoverableError)),i=up(r,1,!1,null,null,o,!1,d,h),r[Mr]=i.current,$o(r.nodeType===8?r.parentNode:r),new pp(i)},nn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=wc(i),r=r===null?null:r.stateNode,r},nn.flushSync=function(r){return ki(r)},nn.hydrate=function(r,i,o){if(!wu(i))throw Error(t(200));return _u(null,r,i,!0,o)},nn.hydrateRoot=function(r,i,o){if(!hp(r))throw Error(t(405));var d=o!=null&&o.hydratedSources||null,h=!1,f="",x=jg;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),i=Og(i,null,r,1,o??null,h,!1,f,x),r[Mr]=i.current,$o(r),d)for(r=0;r<d.length;r++)o=d[r],h=o._getVersion,h=h(o._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,h]:i.mutableSourceEagerHydrationData.push(o,h);return new yu(i)},nn.render=function(r,i,o){if(!wu(i))throw Error(t(200));return _u(null,r,i,!1,o)},nn.unmountComponentAtNode=function(r){if(!wu(r))throw Error(t(40));return r._reactRootContainer?(ki(function(){_u(null,null,r,!1,function(){r._reactRootContainer=null,r[Mr]=null})}),!0):!1},nn.unstable_batchedUpdates=sp,nn.unstable_renderSubtreeIntoContainer=function(r,i,o,d){if(!wu(o))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return _u(r,i,o,!1,d)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var Kg;function _x(){if(Kg)return gp.exports;Kg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gp.exports=wx(),gp.exports}var Gg;function vx(){if(Gg)return Au;Gg=1;var n=_x();return Au.createRoot=n.createRoot,Au.hydrateRoot=n.hydrateRoot,Au}var xx=vx();/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Yg="popstate";function Ax(n={}){function e(s,a){let{pathname:l,search:u,hash:p}=s.location;return jp("",{pathname:l,search:u,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:Tl(a)}return Fx(e,t,null,n)}function nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $n(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ex(){return Math.random().toString(36).substring(2,10)}function Jg(n,e){return{usr:n.state,key:n.key,idx:e}}function jp(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?to(e):e,state:t,key:e&&e.key||s||Ex()}}function Tl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function to(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function Fx(n,e,t,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,p="POP",m=null,y=v();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function v(){return(u.state||{idx:null}).idx}function A(){p="POP";let M=v(),K=M==null?null:M-y;y=M,m&&m({action:p,location:z.location,delta:K})}function E(M,K){p="PUSH";let Y=jp(z.location,M,K);y=v()+1;let Q=Jg(Y,y),se=z.createHref(Y);try{u.pushState(Q,"",se)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;a.location.assign(se)}l&&m&&m({action:p,location:z.location,delta:1})}function P(M,K){p="REPLACE";let Y=jp(z.location,M,K);y=v();let Q=Jg(Y,y),se=z.createHref(Y);u.replaceState(Q,"",se),l&&m&&m({action:p,location:z.location,delta:0})}function B(M){return Cx(M)}let z={get action(){return p},get location(){return n(a,u)},listen(M){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Yg,A),m=M,()=>{a.removeEventListener(Yg,A),m=null}},createHref(M){return e(a,M)},createURL:B,encodeLocation(M){let K=B(M);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:E,replace:P,go(M){return u.go(M)}};return z}function Cx(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),nt(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:Tl(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Ww(n,e,t="/"){return Tx(n,e,t,!1)}function Tx(n,e,t,s){let a=typeof e=="string"?to(e):e,l=Qr(a.pathname||"/",t);if(l==null)return null;let u=Qw(n);Sx(u);let p=null;for(let m=0;p==null&&m<u.length;++m){let y=Vx(l);p=Mx(u[m],y,s)}return p}function Qw(n,e=[],t=[],s="",a=!1){let l=(u,p,m=a,y)=>{let v={relativePath:y===void 0?u.path||"":y,caseSensitive:u.caseSensitive===!0,childrenIndex:p,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&m)return;nt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let A=Wr([s,v.relativePath]),E=t.concat(v);u.children&&u.children.length>0&&(nt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),Qw(u.children,e,E,A,m)),!(u.path==null&&!u.index)&&e.push({path:A,score:bx(A,u.index),routesMeta:E})};return n.forEach((u,p)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))l(u,p);else for(let y of Kw(u.path))l(u,p,!0,y)}),e}function Kw(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=Kw(s.join("/")),p=[];return p.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&p.push(...u),p.map(m=>n.startsWith("/")&&m===""?"/":m)}function Sx(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Lx(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Ix=/^:[\w-]+$/,kx=3,Rx=2,Px=1,Nx=10,Dx=-2,Xg=n=>n==="*";function bx(n,e){let t=n.split("/"),s=t.length;return t.some(Xg)&&(s+=Dx),e&&(s+=Rx),t.filter(a=>!Xg(a)).reduce((a,l)=>a+(Ix.test(l)?kx:l===""?Px:Nx),s)}function Lx(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function Mx(n,e,t=!1){let{routesMeta:s}=n,a={},l="/",u=[];for(let p=0;p<s.length;++p){let m=s[p],y=p===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",A=Wu({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},v),E=m.route;if(!A&&y&&t&&!s[s.length-1].route.index&&(A=Wu({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!A)return null;Object.assign(a,A.params),u.push({params:a,pathname:Wr([l,A.pathname]),pathnameBase:zx(Wr([l,A.pathnameBase])),route:E}),A.pathnameBase!=="/"&&(l=Wr([l,A.pathnameBase]))}return u}function Wu(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=Ox(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:s.reduce((y,{paramName:v,isOptional:A},E)=>{if(v==="*"){let B=p[E]||"";u=l.slice(0,l.length-B.length).replace(/(.)\/+$/,"$1")}const P=p[E];return A&&!P?y[v]=void 0:y[v]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:u,pattern:n}}function Ox(n,e=!1,t=!0){$n(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function Vx(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Qr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}var jx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Ux(n,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof n=="string"?to(n):n,l;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?l=Zg(t.substring(1),"/"):l=Zg(t,e)):l=e,{pathname:l,search:$x(s),hash:Hx(a)}}function Zg(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function _p(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Bx(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function fh(n){let e=Bx(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function gh(n,e,t,s=!1){let a;typeof n=="string"?a=to(n):(a={...n},nt(!a.pathname||!a.pathname.includes("?"),_p("?","pathname","search",a)),nt(!a.pathname||!a.pathname.includes("#"),_p("#","pathname","hash",a)),nt(!a.search||!a.search.includes("#"),_p("#","search","hash",a)));let l=n===""||a.pathname==="",u=l?"/":a.pathname,p;if(u==null)p=t;else{let A=e.length-1;if(!s&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),A-=1;a.pathname=E.join("/")}p=A>=0?e[A]:"/"}let m=Ux(a,p),y=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(y||v)&&(m.pathname+="/"),m}var Wr=n=>n.join("/").replace(/\/\/+/g,"/"),zx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),$x=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Hx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,qx=class{constructor(n,e,t,s=!1){this.status=n,this.statusText=e||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Wx(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Qx(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Gw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Yw(n,e){let t=n;if(typeof t!="string"||!jx.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,a=!1;if(Gw)try{let l=new URL(window.location.href),u=t.startsWith("//")?new URL(l.protocol+t):new URL(t),p=Qr(u.pathname,e);u.origin===l.origin&&p!=null?t=p+u.search+u.hash:a=!0}catch{$n(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Jw=["POST","PUT","PATCH","DELETE"];new Set(Jw);var Kx=["GET",...Jw];new Set(Kx);var no=b.createContext(null);no.displayName="DataRouter";var md=b.createContext(null);md.displayName="DataRouterState";var Gx=b.createContext(!1),Xw=b.createContext({isTransitioning:!1});Xw.displayName="ViewTransition";var Yx=b.createContext(new Map);Yx.displayName="Fetchers";var Jx=b.createContext(null);Jx.displayName="Await";var yn=b.createContext(null);yn.displayName="Navigation";var Ul=b.createContext(null);Ul.displayName="Location";var Er=b.createContext({outlet:null,matches:[],isDataRoute:!1});Er.displayName="Route";var yh=b.createContext(null);yh.displayName="RouteError";var Zw="REACT_ROUTER_ERROR",Xx="REDIRECT",Zx="ROUTE_ERROR_RESPONSE";function eA(n){if(n.startsWith(`${Zw}:${Xx}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function tA(n){if(n.startsWith(`${Zw}:${Zx}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new qx(e.status,e.statusText,e.data)}catch{}}function nA(n,{relative:e}={}){nt(ro(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=b.useContext(yn),{hash:a,pathname:l,search:u}=Bl(n,{relative:e}),p=l;return t!=="/"&&(p=l==="/"?t:Wr([t,l])),s.createHref({pathname:p,search:u,hash:a})}function ro(){return b.useContext(Ul)!=null}function Zs(){return nt(ro(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Ul).location}var e_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function t_(n){b.useContext(yn).static||b.useLayoutEffect(n)}function fd(){let{isDataRoute:n}=b.useContext(Er);return n?fA():rA()}function rA(){nt(ro(),"useNavigate() may be used only in the context of a <Router> component.");let n=b.useContext(no),{basename:e,navigator:t}=b.useContext(yn),{matches:s}=b.useContext(Er),{pathname:a}=Zs(),l=JSON.stringify(fh(s)),u=b.useRef(!1);return t_(()=>{u.current=!0}),b.useCallback((m,y={})=>{if($n(u.current,e_),!u.current)return;if(typeof m=="number"){t.go(m);return}let v=gh(m,JSON.parse(l),a,y.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Wr([e,v.pathname])),(y.replace?t.replace:t.push)(v,y.state,y)},[e,t,l,a,n])}b.createContext(null);function Bl(n,{relative:e}={}){let{matches:t}=b.useContext(Er),{pathname:s}=Zs(),a=JSON.stringify(fh(t));return b.useMemo(()=>gh(n,JSON.parse(a),s,e==="path"),[n,a,s,e])}function sA(n,e){return n_(n,e)}function n_(n,e,t,s,a){var Y;nt(ro(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=b.useContext(yn),{matches:u}=b.useContext(Er),p=u[u.length-1],m=p?p.params:{},y=p?p.pathname:"/",v=p?p.pathnameBase:"/",A=p&&p.route;{let Q=A&&A.path||"";s_(y,!A||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let E=Zs(),P;if(e){let Q=typeof e=="string"?to(e):e;nt(v==="/"||((Y=Q.pathname)==null?void 0:Y.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),P=Q}else P=E;let B=P.pathname||"/",z=B;if(v!=="/"){let Q=v.replace(/^\//,"").split("/");z="/"+B.replace(/^\//,"").split("/").slice(Q.length).join("/")}let M=Ww(n,{pathname:z});$n(A||M!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),$n(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=cA(M&&M.map(Q=>Object.assign({},Q,{params:Object.assign({},m,Q.params),pathname:Wr([v,l.encodeLocation?l.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?v:Wr([v,l.encodeLocation?l.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),u,t,s,a);return e&&K?b.createElement(Ul.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},K):K}function iA(){let n=mA(),e=Wx(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:l},"ErrorBoundary")," or"," ",b.createElement("code",{style:l},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),t?b.createElement("pre",{style:a},t):null,u)}var aA=b.createElement(iA,null),r_=class extends b.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=tA(n.digest);t&&(n=t)}let e=n!==void 0?b.createElement(Er.Provider,{value:this.props.routeContext},b.createElement(yh.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?b.createElement(oA,{error:n},e):e}};r_.contextType=Gx;var vp=new WeakMap;function oA({children:n,error:e}){let{basename:t}=b.useContext(yn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=eA(e.digest);if(s){let a=vp.get(e);if(a)throw a;let l=Yw(s.location,t);if(Gw&&!vp.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw vp.set(e,u),u}return b.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function lA({routeContext:n,match:e,children:t}){let s=b.useContext(no);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Er.Provider,{value:n},t)}function cA(n,e=[],t=null,s=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=t==null?void 0:t.errors;if(u!=null){let v=l.findIndex(A=>A.route.id&&(u==null?void 0:u[A.route.id])!==void 0);nt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let p=!1,m=-1;if(t)for(let v=0;v<l.length;v++){let A=l[v];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(m=v),A.route.id){let{loaderData:E,errors:P}=t,B=A.route.loader&&!E.hasOwnProperty(A.route.id)&&(!P||P[A.route.id]===void 0);if(A.route.lazy||B){p=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let y=t&&s?(v,A)=>{var E,P;s(v,{location:t.location,params:((P=(E=t.matches)==null?void 0:E[0])==null?void 0:P.params)??{},unstable_pattern:Qx(t.matches),errorInfo:A})}:void 0;return l.reduceRight((v,A,E)=>{let P,B=!1,z=null,M=null;t&&(P=u&&A.route.id?u[A.route.id]:void 0,z=A.route.errorElement||aA,p&&(m<0&&E===0?(s_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),B=!0,M=null):m===E&&(B=!0,M=A.route.hydrateFallbackElement||null)));let K=e.concat(l.slice(0,E+1)),Y=()=>{let Q;return P?Q=z:B?Q=M:A.route.Component?Q=b.createElement(A.route.Component,null):A.route.element?Q=A.route.element:Q=v,b.createElement(lA,{match:A,routeContext:{outlet:v,matches:K,isDataRoute:t!=null},children:Q})};return t&&(A.route.ErrorBoundary||A.route.errorElement||E===0)?b.createElement(r_,{location:t.location,revalidation:t.revalidation,component:z,error:P,children:Y(),routeContext:{outlet:null,matches:K,isDataRoute:!0},onError:y}):Y()},null)}function wh(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uA(n){let e=b.useContext(no);return nt(e,wh(n)),e}function dA(n){let e=b.useContext(md);return nt(e,wh(n)),e}function pA(n){let e=b.useContext(Er);return nt(e,wh(n)),e}function _h(n){let e=pA(n),t=e.matches[e.matches.length-1];return nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function hA(){return _h("useRouteId")}function mA(){var s;let n=b.useContext(yh),e=dA("useRouteError"),t=_h("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function fA(){let{router:n}=uA("useNavigate"),e=_h("useNavigate"),t=b.useRef(!1);return t_(()=>{t.current=!0}),b.useCallback(async(a,l={})=>{$n(t.current,e_),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var ey={};function s_(n,e,t){!e&&!ey[n]&&(ey[n]=!0,$n(!1,t))}b.memo(gA);function gA({routes:n,future:e,state:t,onError:s}){return n_(n,void 0,t,s,e)}function i_({to:n,replace:e,state:t,relative:s}){nt(ro(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=b.useContext(yn);$n(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=b.useContext(Er),{pathname:u}=Zs(),p=fd(),m=gh(n,fh(l),u,s==="path"),y=JSON.stringify(m);return b.useEffect(()=>{p(JSON.parse(y),{replace:e,state:t,relative:s})},[p,y,s,e,t]),null}function Tn(n){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yA({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){nt(!ro(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=n.replace(/^\/*/,"/"),m=b.useMemo(()=>({basename:p,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[p,a,l,u]);typeof t=="string"&&(t=to(t));let{pathname:y="/",search:v="",hash:A="",state:E=null,key:P="default"}=t,B=b.useMemo(()=>{let z=Qr(y,p);return z==null?null:{location:{pathname:z,search:v,hash:A,state:E,key:P},navigationType:s}},[p,y,v,A,E,P,s]);return $n(B!=null,`<Router basename="${p}"> is not able to match the URL "${y}${v}${A}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:b.createElement(yn.Provider,{value:m},b.createElement(Ul.Provider,{children:e,value:B}))}function wA({children:n,location:e}){return sA(Up(n),e)}function Up(n,e=[]){let t=[];return b.Children.forEach(n,(s,a)=>{if(!b.isValidElement(s))return;let l=[...e,a];if(s.type===b.Fragment){t.push.apply(t,Up(s.props.children,l));return}nt(s.type===Tn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Up(s.props.children,l)),t.push(u)}),t}var Du="get",bu="application/x-www-form-urlencoded";function gd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function _A(n){return gd(n)&&n.tagName.toLowerCase()==="button"}function vA(n){return gd(n)&&n.tagName.toLowerCase()==="form"}function xA(n){return gd(n)&&n.tagName.toLowerCase()==="input"}function AA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function EA(n,e){return n.button===0&&(!e||e==="_self")&&!AA(n)}var Eu=null;function FA(){if(Eu===null)try{new FormData(document.createElement("form"),0),Eu=!1}catch{Eu=!0}return Eu}var CA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xp(n){return n!=null&&!CA.has(n)?($n(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bu}"`),null):n}function TA(n,e){let t,s,a,l,u;if(vA(n)){let p=n.getAttribute("action");s=p?Qr(p,e):null,t=n.getAttribute("method")||Du,a=xp(n.getAttribute("enctype"))||bu,l=new FormData(n)}else if(_A(n)||xA(n)&&(n.type==="submit"||n.type==="image")){let p=n.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||p.getAttribute("action");if(s=m?Qr(m,e):null,t=n.getAttribute("formmethod")||p.getAttribute("method")||Du,a=xp(n.getAttribute("formenctype"))||xp(p.getAttribute("enctype"))||bu,l=new FormData(p,n),!FA()){let{name:y,type:v,value:A}=n;if(v==="image"){let E=y?`${y}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else y&&l.append(y,A)}}else{if(gd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Du,s=null,a=bu,u=n}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vh(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function SA(n,e,t,s){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&Qr(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function IA(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kA(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function RA(n,e,t){let s=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await IA(l,t);return u.links?u.links():[]}return[]}));return bA(s.flat(1).filter(kA).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function ty(n,e,t,s,a,l){let u=(m,y)=>t[y]?m.route.id!==t[y].route.id:!0,p=(m,y)=>{var v;return t[y].pathname!==m.pathname||((v=t[y].route.path)==null?void 0:v.endsWith("*"))&&t[y].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,y)=>u(m,y)||p(m,y)):l==="data"?e.filter((m,y)=>{var A;let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,y)||p(m,y))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function PA(n,e,{includeHydrateFallback:t}={}){return NA(n.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function NA(n){return[...new Set(n)]}function DA(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function bA(n,e){let t=new Set;return new Set(e),n.reduce((s,a)=>{let l=JSON.stringify(DA(a));return t.has(l)||(t.add(l),s.push({key:l,link:a})),s},[])}function a_(){let n=b.useContext(no);return vh(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function LA(){let n=b.useContext(md);return vh(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var xh=b.createContext(void 0);xh.displayName="FrameworkContext";function o_(){let n=b.useContext(xh);return vh(n,"You must render this element inside a <HydratedRouter> element"),n}function MA(n,e){let t=b.useContext(xh),[s,a]=b.useState(!1),[l,u]=b.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:y,onMouseLeave:v,onTouchStart:A}=e,E=b.useRef(null);b.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let z=K=>{K.forEach(Y=>{u(Y.isIntersecting)})},M=new IntersectionObserver(z,{threshold:.5});return E.current&&M.observe(E.current),()=>{M.disconnect()}}},[n]),b.useEffect(()=>{if(s){let z=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(z)}}},[s]);let P=()=>{a(!0)},B=()=>{a(!1),u(!1)};return t?n!=="intent"?[l,E,{}]:[l,E,{onFocus:ll(p,P),onBlur:ll(m,B),onMouseEnter:ll(y,P),onMouseLeave:ll(v,B),onTouchStart:ll(A,P)}]:[!1,E,{}]}function ll(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function OA({page:n,...e}){let{router:t}=a_(),s=b.useMemo(()=>Ww(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?b.createElement(jA,{page:n,matches:s,...e}):null}function VA(n){let{manifest:e,routeModules:t}=o_(),[s,a]=b.useState([]);return b.useEffect(()=>{let l=!1;return RA(n,e,t).then(u=>{l||a(u)}),()=>{l=!0}},[n,e,t]),s}function jA({page:n,matches:e,...t}){let s=Zs(),{future:a,manifest:l,routeModules:u}=o_(),{basename:p}=a_(),{loaderData:m,matches:y}=LA(),v=b.useMemo(()=>ty(n,e,y,l,s,"data"),[n,e,y,l,s]),A=b.useMemo(()=>ty(n,e,y,l,s,"assets"),[n,e,y,l,s]),E=b.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let z=new Set,M=!1;if(e.forEach(Y=>{var se;let Q=l.routes[Y.route.id];!Q||!Q.hasLoader||(!v.some(ue=>ue.route.id===Y.route.id)&&Y.route.id in m&&((se=u[Y.route.id])!=null&&se.shouldRevalidate)||Q.hasClientLoader?M=!0:z.add(Y.route.id))}),z.size===0)return[];let K=SA(n,p,a.unstable_trailingSlashAwareDataRequests,"data");return M&&z.size>0&&K.searchParams.set("_routes",e.filter(Y=>z.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[K.pathname+K.search]},[p,a.unstable_trailingSlashAwareDataRequests,m,s,l,v,e,n,u]),P=b.useMemo(()=>PA(A,l),[A,l]),B=VA(A);return b.createElement(b.Fragment,null,E.map(z=>b.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...t})),P.map(z=>b.createElement("link",{key:z,rel:"modulepreload",href:z,...t})),B.map(({key:z,link:M})=>b.createElement("link",{key:z,nonce:t.nonce,...M,crossOrigin:M.crossOrigin??t.crossOrigin})))}function UA(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var BA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BA&&(window.__reactRouterVersion="7.13.0")}catch{}function zA({basename:n,children:e,unstable_useTransitions:t,window:s}){let a=b.useRef();a.current==null&&(a.current=Ax({window:s,v5Compat:!0}));let l=a.current,[u,p]=b.useState({action:l.action,location:l.location}),m=b.useCallback(y=>{t===!1?p(y):b.startTransition(()=>p(y))},[t]);return b.useLayoutEffect(()=>l.listen(m),[l,m]),b.createElement(yA,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:t})}var l_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qu=b.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:p,target:m,to:y,preventScrollReset:v,viewTransition:A,unstable_defaultShouldRevalidate:E,...P},B){let{basename:z,unstable_useTransitions:M}=b.useContext(yn),K=typeof y=="string"&&l_.test(y),Y=Yw(y,z);y=Y.to;let Q=nA(y,{relative:a}),[se,ue,me]=MA(s,P),S=qA(y,{replace:u,state:p,target:m,preventScrollReset:v,relative:a,viewTransition:A,unstable_defaultShouldRevalidate:E,unstable_useTransitions:M});function C(N){e&&e(N),N.defaultPrevented||S(N)}let T=b.createElement("a",{...P,...me,href:Y.absoluteURL||Q,onClick:Y.isExternal||l?e:C,ref:UA(B,ue),target:m,"data-discover":!K&&t==="render"?"true":void 0});return se&&!K?b.createElement(b.Fragment,null,T,b.createElement(OA,{page:Q})):T});Qu.displayName="Link";var c_=b.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:p,children:m,...y},v){let A=Bl(u,{relative:y.relative}),E=Zs(),P=b.useContext(md),{navigator:B,basename:z}=b.useContext(yn),M=P!=null&&YA(A)&&p===!0,K=B.encodeLocation?B.encodeLocation(A).pathname:A.pathname,Y=E.pathname,Q=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;t||(Y=Y.toLowerCase(),Q=Q?Q.toLowerCase():null,K=K.toLowerCase()),Q&&z&&(Q=Qr(Q,z)||Q);const se=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let ue=Y===K||!a&&Y.startsWith(K)&&Y.charAt(se)==="/",me=Q!=null&&(Q===K||!a&&Q.startsWith(K)&&Q.charAt(K.length)==="/"),S={isActive:ue,isPending:me,isTransitioning:M},C=ue?e:void 0,T;typeof s=="function"?T=s(S):T=[s,ue?"active":null,me?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(S):l;return b.createElement(Qu,{...y,"aria-current":C,className:T,ref:v,style:N,to:u,viewTransition:p},typeof m=="function"?m(S):m)});c_.displayName="NavLink";var $A=b.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:l,method:u=Du,action:p,onSubmit:m,relative:y,preventScrollReset:v,viewTransition:A,unstable_defaultShouldRevalidate:E,...P},B)=>{let{unstable_useTransitions:z}=b.useContext(yn),M=KA(),K=GA(p,{relative:y}),Y=u.toLowerCase()==="get"?"get":"post",Q=typeof p=="string"&&l_.test(p),se=ue=>{if(m&&m(ue),ue.defaultPrevented)return;ue.preventDefault();let me=ue.nativeEvent.submitter,S=(me==null?void 0:me.getAttribute("formmethod"))||u,C=()=>M(me||ue.currentTarget,{fetcherKey:e,method:S,navigate:t,replace:a,state:l,relative:y,preventScrollReset:v,viewTransition:A,unstable_defaultShouldRevalidate:E});z&&t!==!1?b.startTransition(()=>C()):C()};return b.createElement("form",{ref:B,method:Y,action:K,onSubmit:s?m:se,...P,"data-discover":!Q&&n==="render"?"true":void 0})});$A.displayName="Form";function HA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u_(n){let e=b.useContext(no);return nt(e,HA(n)),e}function qA(n,{target:e,replace:t,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:p,unstable_useTransitions:m}={}){let y=fd(),v=Zs(),A=Bl(n,{relative:l});return b.useCallback(E=>{if(EA(E,e)){E.preventDefault();let P=t!==void 0?t:Tl(v)===Tl(A),B=()=>y(n,{replace:P,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:p});m?b.startTransition(()=>B()):B()}},[v,y,A,t,s,e,n,a,l,u,p,m])}var WA=0,QA=()=>`__${String(++WA)}__`;function KA(){let{router:n}=u_("useSubmit"),{basename:e}=b.useContext(yn),t=hA(),s=n.fetch,a=n.navigate;return b.useCallback(async(l,u={})=>{let{action:p,method:m,encType:y,formData:v,body:A}=TA(l,e);if(u.navigate===!1){let E=u.fetcherKey||QA();await s(E,t,u.action||p,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:A,formMethod:u.method||m,formEncType:u.encType||y,flushSync:u.flushSync})}else await a(u.action||p,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:v,body:A,formMethod:u.method||m,formEncType:u.encType||y,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,t])}function GA(n,{relative:e}={}){let{basename:t}=b.useContext(yn),s=b.useContext(Er);nt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Bl(n||".",{relative:e})},u=Zs();if(n==null){l.search=u.search;let p=new URLSearchParams(l.search),m=p.getAll("index");if(m.some(v=>v==="")){p.delete("index"),m.filter(A=>A).forEach(A=>p.append("index",A));let v=p.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Wr([t,l.pathname])),Tl(l)}function YA(n,{relative:e}={}){let t=b.useContext(Xw);nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=u_("useViewTransitionState"),a=Bl(n,{relative:e});if(!t.isTransitioning)return!1;let l=Qr(t.currentLocation.pathname,s)||t.currentLocation.pathname,u=Qr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Wu(a.pathname,u)!=null||Wu(a.pathname,l)!=null}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XA=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),ny=n=>{const e=XA(n);return e.charAt(0).toUpperCase()+e.slice(1)},d_=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),ZA=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=b.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...p},m)=>b.createElement("svg",{ref:m,...eE,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:d_("lucide",a),...!l&&!ZA(p)&&{"aria-hidden":"true"},...p},[...u.map(([y,v])=>b.createElement(y,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(n,e)=>{const t=b.forwardRef(({className:s,...a},l)=>b.createElement(tE,{ref:l,iconNode:e,className:d_(`lucide-${JA(ny(n))}`,`lucide-${n}`,s),...a}));return t.displayName=ny(n),t};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],rE=$e("arrow-right",nE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],iE=$e("award",sE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],oE=$e("bell",aE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],cE=$e("book-open",lE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],dE=$e("calendar",uE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],p_=$e("chart-no-axes-column-increasing",pE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],mE=$e("check",hE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gE=$e("circle-check-big",fE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],wE=$e("circle-x",yE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],vE=$e("dollar-sign",_E);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],AE=$e("file-check",xE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],FE=$e("file-spreadsheet",EE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ku=$e("file-text",CE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],SE=$e("graduation-cap",TE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],kE=$e("image",IE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],PE=$e("layout-dashboard",RE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],DE=$e("list",NE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],LE=$e("lock",bE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],OE=$e("log-out",ME);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],h_=$e("mail",VE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],m_=$e("megaphone",jE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],f_=$e("pen",UE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zl=$e("plus",BE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],Bp=$e("school",zE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yd=$e("search",$E);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],$l=$e("trash-2",HE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],g_=$e("user",qE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ry=$e("users",WE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],KE=$e("video",QE);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],YE=$e("x",GE),JE=()=>{};var sy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},XE=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],u=n[t++],p=n[t++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],u=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},w_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,p=u?n[a+1]:0,m=a+2<n.length,y=m?n[a+2]:0,v=l>>2,A=(l&3)<<4|p>>4;let E=(p&15)<<2|y>>6,P=y&63;m||(P=64,u||(E=64)),s.push(t[v],t[A],t[E],t[P])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(y_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):XE(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],p=a<n.length?t[n.charAt(a)]:0;++a;const y=a<n.length?t[n.charAt(a)]:64;++a;const A=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||p==null||y==null||A==null)throw new ZE;const E=l<<2|p>>4;if(s.push(E),y!==64){const P=p<<4&240|y>>2;if(s.push(P),A!==64){const B=y<<6&192|A;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ZE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eF=function(n){const e=y_(n);return w_.encodeByteArray(e,!0)},Gu=function(n){return eF(n).replace(/\./g,"")},__=function(n){try{return w_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=()=>tF().__FIREBASE_DEFAULTS__,rF=()=>{if(typeof process>"u"||typeof sy>"u")return;const n=sy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sF=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&__(n[1]);return e&&JSON.parse(e)},wd=()=>{try{return JE()||nF()||rF()||sF()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},v_=n=>{var e,t;return(t=(e=wd())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},x_=n=>{const e=v_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},A_=()=>{var n;return(n=wd())==null?void 0:n.config},E_=n=>{var e;return(e=wd())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ah(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Gu(JSON.stringify(t)),Gu(JSON.stringify(u)),""].join(".")}const _l={};function aF(){const n={prod:[],emulator:[]};for(const e of Object.keys(_l))_l[e]?n.emulator.push(e):n.prod.push(e);return n}function oF(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let iy=!1;function Eh(n,e){if(typeof window>"u"||typeof document>"u"||!ei(window.location.host)||_l[n]===e||_l[n]||iy)return;_l[n]=e;function t(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=aF().prod.length>0;function u(){const E=document.getElementById(s);E&&E.remove()}function p(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,P){E.setAttribute("width","24"),E.setAttribute("id",P),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function y(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{iy=!0,u()},E}function v(E,P){E.setAttribute("id",P),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function A(){const E=oF(s),P=t("text"),B=document.getElementById(P)||document.createElement("span"),z=t("learnmore"),M=document.getElementById(z)||document.createElement("a"),K=t("preprendIcon"),Y=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const Q=E.element;p(Q),v(M,z);const se=y();m(Y,K),Q.append(Y,B,M,se),document.body.appendChild(Q)}l?(B.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function cF(){var e;const n=(e=wd())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dF(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function pF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hF(){const n=qt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function mF(){return!cF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fF(){try{return typeof indexedDB=="object"}catch{return!1}}function gF(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF="FirebaseError";class Fr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=yF,Object.setPrototypeOf(this,Fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?wF(l,s):"Error",p=`${this.serviceName}: ${u} (${a}).`;return new Fr(a,p,s)}}function wF(n,e){return n.replace(_F,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const _F=/\{\$([^}]+)}/g;function vF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Oi(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=n[a],u=e[a];if(ay(l)&&ay(u)){if(!Oi(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function ay(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function hl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function ml(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function xF(n,e){const t=new AF(n,e);return t.subscribe.bind(t)}class AF{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");EF(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=Ap),a.error===void 0&&(a.error=Ap),a.complete===void 0&&(a.complete=Ap);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EF(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ap(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(n){return n&&n._delegate?n._delegate:n}class zs{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new iF;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TF(e))try{this.getOrInitializeService({instanceIdentifier:Di})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Di){return this.instances.has(e)}getOptions(e=Di){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,u]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(l);s===p&&u.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:CF(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Di){return this.component?this.component.multipleInstances?e:Di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CF(n){return n===Di?void 0:n}function TF(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new FF(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Pe||(Pe={}));const IF={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},kF=Pe.INFO,RF={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},PF=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=RF[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fh{constructor(e){this.name=e,this._logLevel=kF,this._logHandler=PF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const NF=(n,e)=>e.some(t=>n instanceof t);let oy,ly;function DF(){return oy||(oy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bF(){return ly||(ly=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C_=new WeakMap,zp=new WeakMap,T_=new WeakMap,Ep=new WeakMap,Ch=new WeakMap;function LF(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(Ms(n.result)),a()},u=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&C_.set(t,n)}).catch(()=>{}),Ch.set(e,n),e}function MF(n){if(zp.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});zp.set(n,e)}let $p={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return zp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||T_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ms(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function OF(n){$p=n($p)}function VF(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Fp(this),e,...t);return T_.set(s,e.sort?e.sort():[e]),Ms(s)}:bF().includes(n)?function(...e){return n.apply(Fp(this),e),Ms(C_.get(this))}:function(...e){return Ms(n.apply(Fp(this),e))}}function jF(n){return typeof n=="function"?VF(n):(n instanceof IDBTransaction&&MF(n),NF(n,DF())?new Proxy(n,$p):n)}function Ms(n){if(n instanceof IDBRequest)return LF(n);if(Ep.has(n))return Ep.get(n);const e=jF(n);return e!==n&&(Ep.set(n,e),Ch.set(e,n)),e}const Fp=n=>Ch.get(n);function UF(n,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(n,e),p=Ms(u);return s&&u.addEventListener("upgradeneeded",m=>{s(Ms(u.result),m.oldVersion,m.newVersion,Ms(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),p.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",y=>a(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const BF=["get","getKey","getAll","getAllKeys","count"],zF=["put","add","delete","clear"],Cp=new Map;function cy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Cp.get(e))return Cp.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=zF.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||BF.includes(t)))return;const l=async function(u,...p){const m=this.transaction(u,a?"readwrite":"readonly");let y=m.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[t](...p),a&&m.done]))[0]};return Cp.set(e,l),l}OF(n=>({...n,get:(e,t,s)=>cy(e,t)||n.get(e,t,s),has:(e,t)=>!!cy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(HF(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function HF(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hp="@firebase/app",uy="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new Fh("@firebase/app"),qF="@firebase/app-compat",WF="@firebase/analytics-compat",QF="@firebase/analytics",KF="@firebase/app-check-compat",GF="@firebase/app-check",YF="@firebase/auth",JF="@firebase/auth-compat",XF="@firebase/database",ZF="@firebase/data-connect",eC="@firebase/database-compat",tC="@firebase/functions",nC="@firebase/functions-compat",rC="@firebase/installations",sC="@firebase/installations-compat",iC="@firebase/messaging",aC="@firebase/messaging-compat",oC="@firebase/performance",lC="@firebase/performance-compat",cC="@firebase/remote-config",uC="@firebase/remote-config-compat",dC="@firebase/storage",pC="@firebase/storage-compat",hC="@firebase/firestore",mC="@firebase/ai",fC="@firebase/firestore-compat",gC="firebase",yC="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="[DEFAULT]",wC={[Hp]:"fire-core",[qF]:"fire-core-compat",[QF]:"fire-analytics",[WF]:"fire-analytics-compat",[GF]:"fire-app-check",[KF]:"fire-app-check-compat",[YF]:"fire-auth",[JF]:"fire-auth-compat",[XF]:"fire-rtdb",[ZF]:"fire-data-connect",[eC]:"fire-rtdb-compat",[tC]:"fire-fn",[nC]:"fire-fn-compat",[rC]:"fire-iid",[sC]:"fire-iid-compat",[iC]:"fire-fcm",[aC]:"fire-fcm-compat",[oC]:"fire-perf",[lC]:"fire-perf-compat",[cC]:"fire-rc",[uC]:"fire-rc-compat",[dC]:"fire-gcs",[pC]:"fire-gcs-compat",[hC]:"fire-fst",[fC]:"fire-fst-compat",[mC]:"fire-vertex","fire-js":"fire-js",[gC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new Map,_C=new Map,Wp=new Map;function dy(n,e){try{n.container.addComponent(e)}catch(t){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vi(n){const e=n.name;if(Wp.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;Wp.set(e,n);for(const t of Yu.values())dy(t,n);for(const t of _C.values())dy(t,n);return!0}function _d(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Sn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Os=new Hl("app","Firebase",vC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=yC;function S_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:qp,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Os.create("bad-app-name",{appName:String(a)});if(t||(t=A_()),!t)throw Os.create("no-options");const l=Yu.get(a);if(l){if(Oi(t,l.options)&&Oi(s,l.config))return l;throw Os.create("duplicate-app",{appName:a})}const u=new SF(a);for(const m of Wp.values())u.addComponent(m);const p=new xC(t,s,u);return Yu.set(a,p),p}function Th(n=qp){const e=Yu.get(n);if(!e&&n===qp&&A_())return S_();if(!e)throw Os.create("no-app",{appName:n});return e}function mr(n,e,t){let s=wC[n]??n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(u.join(" "));return}Vi(new zs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="firebase-heartbeat-database",EC=1,Sl="firebase-heartbeat-store";let Tp=null;function I_(){return Tp||(Tp=UF(AC,EC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Sl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Os.create("idb-open",{originalErrorMessage:n.message})})),Tp}async function FC(n){try{const t=(await I_()).transaction(Sl),s=await t.objectStore(Sl).get(k_(n));return await t.done,s}catch(e){if(e instanceof Fr)Kr.warn(e.message);else{const t=Os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kr.warn(t.message)}}}async function py(n,e){try{const s=(await I_()).transaction(Sl,"readwrite");await s.objectStore(Sl).put(e,k_(n)),await s.done}catch(t){if(t instanceof Fr)Kr.warn(t.message);else{const s=Os.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Kr.warn(s.message)}}}function k_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=1024,TC=30;class SC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new kC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=hy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>TC){const u=RC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Kr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=hy(),{heartbeatsToSend:s,unsentEntries:a}=IC(this._heartbeatsCache.heartbeats),l=Gu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Kr.warn(t),""}}}function hy(){return new Date().toISOString().substring(0,10)}function IC(n,e=CC){const t=[];let s=n.slice();for(const a of n){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),my(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),my(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class kC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fF()?gF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await FC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return py(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return py(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function my(n){return Gu(JSON.stringify({version:2,heartbeats:n})).length}function RC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(n){Vi(new zs("platform-logger",e=>new $F(e),"PRIVATE")),Vi(new zs("heartbeat",e=>new SC(e),"PRIVATE")),mr(Hp,uy,n),mr(Hp,uy,"esm2020"),mr("fire-js","")}PC("");var NC="firebase",DC="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(NC,DC,"app");function R_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bC=R_,P_=new Hl("auth","Firebase",R_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Fh("@firebase/auth");function LC(n,...e){Ju.logLevel<=Pe.WARN&&Ju.warn(`Auth (${qi}): ${n}`,...e)}function Lu(n,...e){Ju.logLevel<=Pe.ERROR&&Ju.error(`Auth (${qi}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(n,...e){throw Sh(n,...e)}function fr(n,...e){return Sh(n,...e)}function N_(n,e,t){const s={...bC(),[e]:t};return new Hl("auth","Firebase",s).create(e,{appName:n.name})}function Vs(n){return N_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sh(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return P_.create(n,...e)}function ve(n,e,...t){if(!n)throw Sh(e,...t)}function Hr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Lu(e),new Error(e)}function Gr(n,e){n||Hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function MC(){return fy()==="http:"||fy()==="https:"}function fy(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MC()||dF()||"connection"in navigator)?navigator.onLine:!0}function VC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gr(t>e,"Short delay should be less than long delay!"),this.isMobile=lF()||pF()}get(){return OC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(n,e){Gr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],BC=new Wl(3e4,6e4);function Wi(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ti(n,e,t,s,a={}){return b_(n,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const p=ql({key:n.config.apiKey,...u}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const y={method:e,headers:m,...l};return uF()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&ei(n.emulatorConfig.host)&&(y.credentials="include"),D_.fetch()(await L_(n,n.config.apiHost,t,p),y)})}async function b_(n,e,t){n._canInitEmulator=!1;const s={...jC,...e};try{const a=new $C(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Fu(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const p=l.ok?u.errorMessage:u.error.message,[m,y]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fu(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Fu(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw Fu(n,"user-disabled",u);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw N_(n,v,y);Hn(n,v)}}catch(a){if(a instanceof Fr)throw a;Hn(n,"network-request-failed",{message:String(a)})}}async function vd(n,e,t,s,a={}){const l=await ti(n,e,t,s,a);return"mfaPendingCredential"in l&&Hn(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function L_(n,e,t,s){const a=`${e}${t}?${s}`,l=n,u=l.config.emulator?Ih(n.config,a):`${n.config.apiScheme}://${a}`;return UC.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function zC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $C{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(fr(this.auth,"network-request-failed")),BC.get())})}}function Fu(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=fr(n,e,s);return a.customData._tokenResponse=t,a}function gy(n){return n!==void 0&&n.enterprise!==void 0}class HC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return zC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qC(n,e){return ti(n,"GET","/v2/recaptchaConfig",Wi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(n,e){return ti(n,"POST","/v1/accounts:delete",e)}async function Xu(n,e){return ti(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QC(n,e=!1){const t=ct(n),s=await t.getIdToken(e),a=kh(s);ve(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:vl(Sp(a.auth_time)),issuedAtTime:vl(Sp(a.iat)),expirationTime:vl(Sp(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Sp(n){return Number(n)*1e3}function kh(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Lu("JWT malformed, contained fewer than 3 sections"),null;try{const a=__(t);return a?JSON.parse(a):(Lu("Failed to decode base64 JWT payload"),null)}catch(a){return Lu("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function yy(n){const e=kh(n);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Fr&&KC(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function KC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=vl(this.lastLoginAt),this.creationTime=vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu(n){var A;const e=n.auth,t=await n.getIdToken(),s=await Il(n,Xu(e,{idToken:t}));ve(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const l=(A=a.providerUserInfo)!=null&&A.length?M_(a.providerUserInfo):[],u=JC(n.providerData,l),p=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(u!=null&&u.length),y=p?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Kp(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,v)}async function YC(n){const e=ct(n);await Zu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JC(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function M_(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XC(n,e){const t=await b_(n,{},async()=>{const s=ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await L_(n,a,"/v1/token",`key=${l}`),p=await n._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:s};return n.emulatorConfig&&ei(n.emulatorConfig.host)&&(m.credentials="include"),D_.fetch()(u,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ZC(n,e){return ti(n,"POST","/v2/accounts:revokeToken",Wi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const t=yy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await XC(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,u=new $a;return s&&(ve(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(ve(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(ve(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(n,e){ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class jn{constructor({uid:e,auth:t,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new GC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Kp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Il(this,this.stsTokenManager.getToken(this.auth,e));return ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return QC(this,e)}reload(){return YC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new jn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Zu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject(Vs(this.auth));const e=await this.getIdToken();return await Il(this,WC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,p=t.tenantId??void 0,m=t._redirectEventId??void 0,y=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:A,emailVerified:E,isAnonymous:P,providerData:B,stsTokenManager:z}=t;ve(A&&z,e,"internal-error");const M=$a.fromJSON(this.name,z);ve(typeof A=="string",e,"internal-error"),Is(s,e.name),Is(a,e.name),ve(typeof E=="boolean",e,"internal-error"),ve(typeof P=="boolean",e,"internal-error"),Is(l,e.name),Is(u,e.name),Is(p,e.name),Is(m,e.name),Is(y,e.name),Is(v,e.name);const K=new jn({uid:A,auth:e,email:a,emailVerified:E,displayName:s,isAnonymous:P,photoURL:u,phoneNumber:l,tenantId:p,stsTokenManager:M,createdAt:y,lastLoginAt:v});return B&&Array.isArray(B)&&(K.providerData=B.map(Y=>({...Y}))),m&&(K._redirectEventId=m),K}static async _fromIdTokenResponse(e,t,s=!1){const a=new $a;a.updateFromServerResponse(t);const l=new jn({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Zu(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];ve(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?M_(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),p=new $a;p.updateFromIdToken(s);const m=new jn({uid:a.localId,auth:e,stsTokenManager:p,isAnonymous:u}),y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Kp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,y),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=new Map;function qr(n){Gr(n instanceof Function,"Expected a class definition");let e=wy.get(n);return e?(Gr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,wy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}O_.type="NONE";const _y=O_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(n,e,t){return`firebase:${n}:${e}:${t}`}class Ha{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Mu(this.userKey,a.apiKey,l),this.fullPersistenceKey=Mu("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Xu(this.auth,{idToken:e}).catch(()=>{});return t?jn._fromGetAccountInfoResponse(this.auth,t,e):null}return jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Ha(qr(_y),e,s);const a=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=a[0]||qr(_y);const u=Mu(s,e.config.apiKey,e.name);let p=null;for(const y of t)try{const v=await y._get(u);if(v){let A;if(typeof v=="string"){const E=await Xu(e,{idToken:v}).catch(()=>{});if(!E)break;A=await jn._fromGetAccountInfoResponse(e,E,v)}else A=jn._fromJSON(e,v);y!==l&&(p=A),l=y;break}}catch{}const m=a.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Ha(l,e,s):(l=m[0],p&&await l._set(u,p.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(u)}catch{}})),new Ha(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(B_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(V_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($_(e))return"Blackberry";if(H_(e))return"Webos";if(j_(e))return"Safari";if((e.includes("chrome/")||U_(e))&&!e.includes("edge/"))return"Chrome";if(z_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function V_(n=qt()){return/firefox\//i.test(n)}function j_(n=qt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function U_(n=qt()){return/crios\//i.test(n)}function B_(n=qt()){return/iemobile/i.test(n)}function z_(n=qt()){return/android/i.test(n)}function $_(n=qt()){return/blackberry/i.test(n)}function H_(n=qt()){return/webos/i.test(n)}function Rh(n=qt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function eT(n=qt()){var e;return Rh(n)&&!!((e=window.navigator)!=null&&e.standalone)}function tT(){return hF()&&document.documentMode===10}function q_(n=qt()){return Rh(n)||z_(n)||H_(n)||$_(n)||/windows phone/i.test(n)||B_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(n,e=[]){let t;switch(n){case"Browser":t=vy(qt());break;case"Worker":t=`${vy(qt())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${qi}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((u,p)=>{try{const m=e(l);u(m)}catch(m){p(m)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rT(n,e={}){return ti(n,"GET","/v2/passwordPolicy",Wi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=6;class iT{constructor(e){var s;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??sT,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xy(this),this.idTokenSubscription=new xy(this),this.beforeStateQueue=new nT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qr(t)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await Ha.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Xu(this,{idToken:e}),s=await jn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(Sn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(p,p))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(l=this.redirectUser)==null?void 0:l._redirectEventId,p=s==null?void 0:s._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===p)&&(m!=null&&m.user)&&(s=m.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Zu(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sn(this.app))return Promise.reject(Vs(this));const t=e?ct(e):null;return t&&ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sn(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rT(this),t=new iT(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hl("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await ZC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&qr(e)||this._popupRedirectResolver;ve(t,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[qr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(p,this,"internal-error"),p.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,s,a);return()=>{u=!0,m()}}else{const m=e.addObserver(t);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=W_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&LC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function so(n){return ct(n)}class xy{constructor(e){this.auth=e,this.observer=null,this.addObserver=xF(t=>this.observer=t)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oT(n){xd=n}function Q_(n){return xd.loadJS(n)}function lT(){return xd.recaptchaEnterpriseScript}function cT(){return xd.gapiScript}function uT(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class dT{constructor(){this.enterprise=new pT}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class pT{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const hT="recaptcha-enterprise",K_="NO_RECAPTCHA";class mT{constructor(e){this.type=hT,this.auth=so(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,p)=>{qC(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new HC(m);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,u(y.siteKey)}}).catch(m=>{p(m)})})}function a(l,u,p){const m=window.grecaptcha;gy(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(y=>{u(y)}).catch(()=>{u(K_)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dT().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(p=>{if(!t&&gy(window.grecaptcha))a(p,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=lT();m.length!==0&&(m+=p),Q_(m).then(()=>{a(p,l,u)}).catch(y=>{u(y)})}}).catch(p=>{u(p)})})}}async function Ay(n,e,t,s=!1,a=!1){const l=new mT(n);let u;if(a)u=K_;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const p={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:y,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:u}):Object.assign(p,{captchaResponse:u}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Ey(n,e,t,s,a){var l;if((l=n._getRecaptchaConfig())!=null&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Ay(n,e,t,t==="getOobCode");return s(n,u)}else return s(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await Ay(n,e,t,t==="getOobCode");return s(n,p)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(n,e){const t=_d(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Oi(l,e??{}))return a;Hn(a,"already-initialized")}return t.initialize({options:e})}function gT(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(qr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function yT(n,e,t){const s=so(n);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=G_(e),{host:u,port:p}=wT(e),m=p===null?"":`:${p}`,y={url:`${l}//${u}${m}/`},v=Object.freeze({host:u,port:p,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Oi(y,s.config.emulator)&&Oi(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,ei(u)?(Ah(`${l}//${u}${m}`),Eh("Auth",!0)):_T()}function G_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function wT(n){const e=G_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Fy(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:Fy(u)}}}function Fy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function _T(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,t){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}async function vT(n,e){return ti(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xT(n,e){return vd(n,"POST","/v1/accounts:signInWithPassword",Wi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AT(n,e){return vd(n,"POST","/v1/accounts:signInWithEmailLink",Wi(n,e))}async function ET(n,e){return vd(n,"POST","/v1/accounts:signInWithEmailLink",Wi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Ph{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new kl(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new kl(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ey(e,t,"signInWithPassword",xT);case"emailLink":return AT(e,{email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ey(e,s,"signUpPassword",vT);case"emailLink":return ET(e,{idToken:t,email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(n,e){return vd(n,"POST","/v1/accounts:signInWithIdp",Wi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="http://localhost";class ji extends Ph{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ji(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=t;if(!s||!a)return null;const u=new ji(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return qa(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,qa(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qa(e,t)}buildRequest(){const e={requestUri:FT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ql(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TT(n){const e=hl(ml(n)).link,t=e?hl(ml(e)).deep_link_id:null,s=hl(ml(n)).deep_link_id;return(s?hl(ml(s)).link:null)||s||t||e||n}class Nh{constructor(e){const t=hl(ml(e)),s=t.apiKey??null,a=t.oobCode??null,l=CT(t.mode??null);ve(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=TT(e);try{return new Nh(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.providerId=io.PROVIDER_ID}static credential(e,t){return kl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Nh.parseLink(t);return ve(s,"argument-error"),kl._fromEmailAndCode(e,s.code,s.tenantId)}}io.PROVIDER_ID="password";io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends Y_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Ql{constructor(){super("facebook.com")}static credential(e){return ji._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ji._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Rs.credential(t,s)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Ql{constructor(){super("github.com")}static credential(e){return ji._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.GITHUB_SIGN_IN_METHOD="github.com";Ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Ql{constructor(){super("twitter.com")}static credential(e,t){return ji._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Ns.credential(t,s)}catch{return null}}}Ns.TWITTER_SIGN_IN_METHOD="twitter.com";Ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await jn._fromIdTokenResponse(e,s,a),u=Cy(s);return new Ga({user:l,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=Cy(s);return new Ga({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function Cy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends Fr{constructor(e,t,s,a){super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,ed.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new ed(e,t,s,a)}}function J_(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ed._fromErrorAndOperation(n,l,e,s):l})}async function ST(n,e,t=!1){const s=await Il(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ga._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IT(n,e,t=!1){const{auth:s}=n;if(Sn(s.app))return Promise.reject(Vs(s));const a="reauthenticate";try{const l=await Il(n,J_(s,a,e,n),t);ve(l.idToken,s,"internal-error");const u=kh(l.idToken);ve(u,s,"internal-error");const{sub:p}=u;return ve(n.uid===p,s,"user-mismatch"),Ga._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Hn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X_(n,e,t=!1){if(Sn(n.app))return Promise.reject(Vs(n));const s="signIn",a=await J_(n,s,e),l=await Ga._fromIdTokenResponse(n,s,a);return t||await n._updateCurrentUser(l.user),l}async function kT(n,e){return X_(so(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RT(n){const e=so(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function PT(n,e,t){return Sn(n.app)?Promise.reject(Vs(n)):kT(ct(n),io.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&RT(n),s})}function NT(n,e,t,s){return ct(n).onIdTokenChanged(e,t,s)}function DT(n,e,t){return ct(n).beforeAuthStateChanged(e,t)}function bT(n,e,t,s){return ct(n).onAuthStateChanged(e,t,s)}const td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(td,"1"),this.storage.removeItem(td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=1e3,MT=10;class ev extends Z_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=q_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,p,m)=>{this.notifyListeners(u,m)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);tT()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,MT):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},LT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ev.type="LOCAL";const OT=ev;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv extends Z_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}tv.type="SESSION";const nv=tv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new Ad(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const p=Array.from(u).map(async y=>y(t.origin,l)),m=await VT(p);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((p,m)=>{const y=Dh("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(A){const E=A;if(E.data.eventId===y)switch(E.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(E.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function UT(n){gr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function BT(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zT(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function $T(){return rv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="firebaseLocalStorageDb",HT=1,nd="firebaseLocalStorage",iv="fbase_key";class Kl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ed(n,e){return n.transaction([nd],e?"readwrite":"readonly").objectStore(nd)}function qT(){const n=indexedDB.deleteDatabase(sv);return new Kl(n).toPromise()}function Gp(){const n=indexedDB.open(sv,HT);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(nd,{keyPath:iv})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(nd)?e(s):(s.close(),await qT(),e(await Gp()))})})}async function Ty(n,e,t){const s=Ed(n,!0).put({[iv]:e,value:t});return new Kl(s).toPromise()}async function WT(n,e){const t=Ed(n,!1).get(e),s=await new Kl(t).toPromise();return s===void 0?null:s.value}function Sy(n,e){const t=Ed(n,!0).delete(e);return new Kl(t).toPromise()}const QT=800,KT=3;class av{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>KT)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ad._getInstance($T()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await BT(),!this.activeServiceWorker)return;this.sender=new jT(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zT()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gp();return await Ty(e,td,"1"),await Sy(e,td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Ty(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>WT(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Sy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Ed(a,!1).getAll();return new Kl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}av.type="LOCAL";const GT=av;new Wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(n,e){return e?qr(e):(ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends Ph{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function JT(n){return X_(n.auth,new bh(n),n.bypassAuthState)}function XT(n){const{auth:e,user:t}=n;return ve(t,e,"internal-error"),IT(t,new bh(n),n.bypassAuthState)}async function ZT(n){const{auth:e,user:t}=n;return ve(t,e,"internal-error"),ST(t,new bh(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:u,type:p}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JT;case"linkViaPopup":case"linkViaRedirect":return ZT;case"reauthViaPopup":case"reauthViaRedirect":return XT;default:Hn(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new Wl(2e3,1e4);class za extends ov{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,za.currentPopupAction&&za.currentPopupAction.cancel(),za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=Dh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(fr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(fr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if((s=(t=this.authWindow)==null?void 0:t.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eS.get())};e()}}za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="pendingRedirect",Ou=new Map;class nS extends ov{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Ou.get(this.auth._key());if(!e){try{const s=await rS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Ou.set(this.auth._key(),e)}return this.bypassAuthState||Ou.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rS(n,e){const t=aS(e),s=iS(n);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function sS(n,e){Ou.set(n._key(),e)}function iS(n){return qr(n._redirectPersistence)}function aS(n){return Mu(tS,n.config.apiKey,n.name)}async function oS(n,e,t=!1){if(Sn(n.app))return Promise.reject(Vs(n));const s=so(n),a=YT(s,e),u=await new nS(s,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=600*1e3;class cS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uS(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!lv(e)){const a=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";t.onError(fr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lS&&this.cachedEventUids.clear(),this.cachedEventUids.has(Iy(e))}saveEventToCache(e){this.cachedEventUids.add(Iy(e)),this.lastProcessedEventTime=Date.now()}}function Iy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function lv({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uS(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lv(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dS(n,e={}){return ti(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hS=/^https?/;async function mS(n){if(n.config.emulator)return;const{authorizedDomains:e}=await dS(n);for(const t of e)try{if(fS(t))return}catch{}Hn(n,"unauthorized-domain")}function fS(n){const e=Qp(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!hS.test(t))return!1;if(pS.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=new Wl(3e4,6e4);function ky(){const n=gr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function yS(n){return new Promise((e,t)=>{var a,l,u;function s(){ky(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ky(),t(fr(n,"network-request-failed"))},timeout:gS.get()})}if((l=(a=gr().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((u=gr().gapi)!=null&&u.load)s();else{const p=uT("iframefcb");return gr()[p]=()=>{gapi.load?s():t(fr(n,"network-request-failed"))},Q_(`${cT()}?onload=${p}`).catch(m=>t(m))}}).catch(e=>{throw Vu=null,e})}let Vu=null;function wS(n){return Vu=Vu||yS(n),Vu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=new Wl(5e3,15e3),vS="__/auth/iframe",xS="emulator/auth/iframe",AS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ES=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FS(n){const e=n.config;ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ih(e,xS):`https://${n.config.authDomain}/${vS}`,s={apiKey:e.apiKey,appName:n.name,v:qi},a=ES.get(n.config.apiHost);a&&(s.eid=a);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${ql(s).slice(1)}`}async function CS(n){const e=await wS(n),t=gr().gapi;return ve(t,n,"internal-error"),e.open({where:document.body,url:FS(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AS,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=fr(n,"network-request-failed"),p=gr().setTimeout(()=>{l(u)},_S.get());function m(){gr().clearTimeout(p),a(s)}s.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SS=500,IS=600,kS="_blank",RS="http://localhost";class Ry{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PS(n,e,t,s=SS,a=IS){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m={...TS,width:s.toString(),height:a.toString(),top:l,left:u},y=qt().toLowerCase();t&&(p=U_(y)?kS:t),V_(y)&&(e=e||RS,m.scrollbars="yes");const v=Object.entries(m).reduce((E,[P,B])=>`${E}${P}=${B},`,"");if(eT(y)&&p!=="_self")return NS(e||"",p),new Ry(null);const A=window.open(e||"",p,v);ve(A,n,"popup-blocked");try{A.focus()}catch{}return new Ry(A)}function NS(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="__/auth/handler",bS="emulator/auth/handler",LS=encodeURIComponent("fac");async function Py(n,e,t,s,a,l){ve(n.config.authDomain,n,"auth-domain-config-required"),ve(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:qi,eventId:a};if(e instanceof Y_){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",vF(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,A]of Object.entries({}))u[v]=A}if(e instanceof Ql){const v=e.getScopes().filter(A=>A!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const p=u;for(const v of Object.keys(p))p[v]===void 0&&delete p[v];const m=await n._getAppCheckToken(),y=m?`#${LS}=${encodeURIComponent(m)}`:"";return`${MS(n)}?${ql(p).slice(1)}${y}`}function MS({config:n}){return n.emulator?Ih(n,bS):`https://${n.authDomain}/${DS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="webStorageSupport";class OS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nv,this._completeRedirectFn=oS,this._overrideRedirectResult=sS}async _openPopup(e,t,s,a){var u;Gr((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const l=await Py(e,t,s,Qp(),a);return PS(e,l,Dh())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await Py(e,t,s,Qp(),a);return UT(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Gr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await CS(e),s=new cS(e);return t.register("authEvent",a=>(ve(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ip,{type:Ip},a=>{var u;const l=(u=a==null?void 0:a[0])==null?void 0:u[Ip];l!==void 0&&t(!!l),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=mS(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return q_()||j_()||Rh()}}const VS=OS;var Ny="@firebase/auth",Dy="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BS(n){Vi(new zs("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:p}=s.options;ve(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:W_(n)},y=new aT(s,a,l,m);return gT(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Vi(new zs("auth-internal",e=>{const t=so(e.getProvider("auth").getImmediate());return(s=>new jS(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(Ny,Dy,US(n)),mr(Ny,Dy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=300,$S=E_("authIdTokenMaxAge")||zS;let by=null;const HS=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>$S)return;const a=t==null?void 0:t.token;by!==a&&(by=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function qS(n=Th()){const e=_d(n,"auth");if(e.isInitialized())return e.getImmediate();const t=fT(n,{popupRedirectResolver:VS,persistence:[GT,OT,nv]}),s=E_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=HS(l.toString());DT(t,u,()=>u(t.currentUser)),NT(t,p=>u(p))}}const a=v_("auth");return a&&yT(t,`http://${a}`),t}function WS(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}oT({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const l=fr("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",WS().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BS("Browser");var Ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var js,cv;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,C){function T(){}T.prototype=C.prototype,S.F=C.prototype,S.prototype=new T,S.prototype.constructor=S,S.D=function(N,k,O){for(var R=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)R[qe-2]=arguments[qe];return C.prototype[k].apply(N,R)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(S,C,T){T||(T=0);const N=Array(16);if(typeof C=="string")for(var k=0;k<16;++k)N[k]=C.charCodeAt(T++)|C.charCodeAt(T++)<<8|C.charCodeAt(T++)<<16|C.charCodeAt(T++)<<24;else for(k=0;k<16;++k)N[k]=C[T++]|C[T++]<<8|C[T++]<<16|C[T++]<<24;C=S.g[0],T=S.g[1],k=S.g[2];let O=S.g[3],R;R=C+(O^T&(k^O))+N[0]+3614090360&4294967295,C=T+(R<<7&4294967295|R>>>25),R=O+(k^C&(T^k))+N[1]+3905402710&4294967295,O=C+(R<<12&4294967295|R>>>20),R=k+(T^O&(C^T))+N[2]+606105819&4294967295,k=O+(R<<17&4294967295|R>>>15),R=T+(C^k&(O^C))+N[3]+3250441966&4294967295,T=k+(R<<22&4294967295|R>>>10),R=C+(O^T&(k^O))+N[4]+4118548399&4294967295,C=T+(R<<7&4294967295|R>>>25),R=O+(k^C&(T^k))+N[5]+1200080426&4294967295,O=C+(R<<12&4294967295|R>>>20),R=k+(T^O&(C^T))+N[6]+2821735955&4294967295,k=O+(R<<17&4294967295|R>>>15),R=T+(C^k&(O^C))+N[7]+4249261313&4294967295,T=k+(R<<22&4294967295|R>>>10),R=C+(O^T&(k^O))+N[8]+1770035416&4294967295,C=T+(R<<7&4294967295|R>>>25),R=O+(k^C&(T^k))+N[9]+2336552879&4294967295,O=C+(R<<12&4294967295|R>>>20),R=k+(T^O&(C^T))+N[10]+4294925233&4294967295,k=O+(R<<17&4294967295|R>>>15),R=T+(C^k&(O^C))+N[11]+2304563134&4294967295,T=k+(R<<22&4294967295|R>>>10),R=C+(O^T&(k^O))+N[12]+1804603682&4294967295,C=T+(R<<7&4294967295|R>>>25),R=O+(k^C&(T^k))+N[13]+4254626195&4294967295,O=C+(R<<12&4294967295|R>>>20),R=k+(T^O&(C^T))+N[14]+2792965006&4294967295,k=O+(R<<17&4294967295|R>>>15),R=T+(C^k&(O^C))+N[15]+1236535329&4294967295,T=k+(R<<22&4294967295|R>>>10),R=C+(k^O&(T^k))+N[1]+4129170786&4294967295,C=T+(R<<5&4294967295|R>>>27),R=O+(T^k&(C^T))+N[6]+3225465664&4294967295,O=C+(R<<9&4294967295|R>>>23),R=k+(C^T&(O^C))+N[11]+643717713&4294967295,k=O+(R<<14&4294967295|R>>>18),R=T+(O^C&(k^O))+N[0]+3921069994&4294967295,T=k+(R<<20&4294967295|R>>>12),R=C+(k^O&(T^k))+N[5]+3593408605&4294967295,C=T+(R<<5&4294967295|R>>>27),R=O+(T^k&(C^T))+N[10]+38016083&4294967295,O=C+(R<<9&4294967295|R>>>23),R=k+(C^T&(O^C))+N[15]+3634488961&4294967295,k=O+(R<<14&4294967295|R>>>18),R=T+(O^C&(k^O))+N[4]+3889429448&4294967295,T=k+(R<<20&4294967295|R>>>12),R=C+(k^O&(T^k))+N[9]+568446438&4294967295,C=T+(R<<5&4294967295|R>>>27),R=O+(T^k&(C^T))+N[14]+3275163606&4294967295,O=C+(R<<9&4294967295|R>>>23),R=k+(C^T&(O^C))+N[3]+4107603335&4294967295,k=O+(R<<14&4294967295|R>>>18),R=T+(O^C&(k^O))+N[8]+1163531501&4294967295,T=k+(R<<20&4294967295|R>>>12),R=C+(k^O&(T^k))+N[13]+2850285829&4294967295,C=T+(R<<5&4294967295|R>>>27),R=O+(T^k&(C^T))+N[2]+4243563512&4294967295,O=C+(R<<9&4294967295|R>>>23),R=k+(C^T&(O^C))+N[7]+1735328473&4294967295,k=O+(R<<14&4294967295|R>>>18),R=T+(O^C&(k^O))+N[12]+2368359562&4294967295,T=k+(R<<20&4294967295|R>>>12),R=C+(T^k^O)+N[5]+4294588738&4294967295,C=T+(R<<4&4294967295|R>>>28),R=O+(C^T^k)+N[8]+2272392833&4294967295,O=C+(R<<11&4294967295|R>>>21),R=k+(O^C^T)+N[11]+1839030562&4294967295,k=O+(R<<16&4294967295|R>>>16),R=T+(k^O^C)+N[14]+4259657740&4294967295,T=k+(R<<23&4294967295|R>>>9),R=C+(T^k^O)+N[1]+2763975236&4294967295,C=T+(R<<4&4294967295|R>>>28),R=O+(C^T^k)+N[4]+1272893353&4294967295,O=C+(R<<11&4294967295|R>>>21),R=k+(O^C^T)+N[7]+4139469664&4294967295,k=O+(R<<16&4294967295|R>>>16),R=T+(k^O^C)+N[10]+3200236656&4294967295,T=k+(R<<23&4294967295|R>>>9),R=C+(T^k^O)+N[13]+681279174&4294967295,C=T+(R<<4&4294967295|R>>>28),R=O+(C^T^k)+N[0]+3936430074&4294967295,O=C+(R<<11&4294967295|R>>>21),R=k+(O^C^T)+N[3]+3572445317&4294967295,k=O+(R<<16&4294967295|R>>>16),R=T+(k^O^C)+N[6]+76029189&4294967295,T=k+(R<<23&4294967295|R>>>9),R=C+(T^k^O)+N[9]+3654602809&4294967295,C=T+(R<<4&4294967295|R>>>28),R=O+(C^T^k)+N[12]+3873151461&4294967295,O=C+(R<<11&4294967295|R>>>21),R=k+(O^C^T)+N[15]+530742520&4294967295,k=O+(R<<16&4294967295|R>>>16),R=T+(k^O^C)+N[2]+3299628645&4294967295,T=k+(R<<23&4294967295|R>>>9),R=C+(k^(T|~O))+N[0]+4096336452&4294967295,C=T+(R<<6&4294967295|R>>>26),R=O+(T^(C|~k))+N[7]+1126891415&4294967295,O=C+(R<<10&4294967295|R>>>22),R=k+(C^(O|~T))+N[14]+2878612391&4294967295,k=O+(R<<15&4294967295|R>>>17),R=T+(O^(k|~C))+N[5]+4237533241&4294967295,T=k+(R<<21&4294967295|R>>>11),R=C+(k^(T|~O))+N[12]+1700485571&4294967295,C=T+(R<<6&4294967295|R>>>26),R=O+(T^(C|~k))+N[3]+2399980690&4294967295,O=C+(R<<10&4294967295|R>>>22),R=k+(C^(O|~T))+N[10]+4293915773&4294967295,k=O+(R<<15&4294967295|R>>>17),R=T+(O^(k|~C))+N[1]+2240044497&4294967295,T=k+(R<<21&4294967295|R>>>11),R=C+(k^(T|~O))+N[8]+1873313359&4294967295,C=T+(R<<6&4294967295|R>>>26),R=O+(T^(C|~k))+N[15]+4264355552&4294967295,O=C+(R<<10&4294967295|R>>>22),R=k+(C^(O|~T))+N[6]+2734768916&4294967295,k=O+(R<<15&4294967295|R>>>17),R=T+(O^(k|~C))+N[13]+1309151649&4294967295,T=k+(R<<21&4294967295|R>>>11),R=C+(k^(T|~O))+N[4]+4149444226&4294967295,C=T+(R<<6&4294967295|R>>>26),R=O+(T^(C|~k))+N[11]+3174756917&4294967295,O=C+(R<<10&4294967295|R>>>22),R=k+(C^(O|~T))+N[2]+718787259&4294967295,k=O+(R<<15&4294967295|R>>>17),R=T+(O^(k|~C))+N[9]+3951481745&4294967295,S.g[0]=S.g[0]+C&4294967295,S.g[1]=S.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+O&4294967295}s.prototype.v=function(S,C){C===void 0&&(C=S.length);const T=C-this.blockSize,N=this.C;let k=this.h,O=0;for(;O<C;){if(k==0)for(;O<=T;)a(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<C;)if(N[k++]=S.charCodeAt(O++),k==this.blockSize){a(this,N),k=0;break}}else for(;O<C;)if(N[k++]=S[O++],k==this.blockSize){a(this,N),k=0;break}}this.h=k,this.o+=C},s.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var C=1;C<S.length-8;++C)S[C]=0;C=this.o*8;for(var T=S.length-8;T<S.length;++T)S[T]=C&255,C/=256;for(this.v(S),S=Array(16),C=0,T=0;T<4;++T)for(let N=0;N<32;N+=8)S[C++]=this.g[T]>>>N&255;return S};function l(S,C){var T=p;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=C(S)}function u(S,C){this.h=C;const T=[];let N=!0;for(let k=S.length-1;k>=0;k--){const O=S[k]|0;N&&O==C||(T[k]=O,N=!1)}this.g=T}var p={};function m(S){return-128<=S&&S<128?l(S,function(C){return new u([C|0],C<0?-1:0)}):new u([S|0],S<0?-1:0)}function y(S){if(isNaN(S)||!isFinite(S))return A;if(S<0)return M(y(-S));const C=[];let T=1;for(let N=0;S>=T;N++)C[N]=S/T|0,T*=4294967296;return new u(C,0)}function v(S,C){if(S.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(S.charAt(0)=="-")return M(v(S.substring(1),C));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const T=y(Math.pow(C,8));let N=A;for(let O=0;O<S.length;O+=8){var k=Math.min(8,S.length-O);const R=parseInt(S.substring(O,O+k),C);k<8?(k=y(Math.pow(C,k)),N=N.j(k).add(y(R))):(N=N.j(T),N=N.add(y(R)))}return N}var A=m(0),E=m(1),P=m(16777216);n=u.prototype,n.m=function(){if(z(this))return-M(this).m();let S=0,C=1;for(let T=0;T<this.g.length;T++){const N=this.i(T);S+=(N>=0?N:4294967296+N)*C,C*=4294967296}return S},n.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(B(this))return"0";if(z(this))return"-"+M(this).toString(S);const C=y(Math.pow(S,6));var T=this;let N="";for(;;){const k=se(T,C).g;T=K(T,k.j(C));let O=((T.g.length>0?T.g[0]:T.h)>>>0).toString(S);if(T=k,B(T))return O+N;for(;O.length<6;)O="0"+O;N=O+N}},n.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function B(S){if(S.h!=0)return!1;for(let C=0;C<S.g.length;C++)if(S.g[C]!=0)return!1;return!0}function z(S){return S.h==-1}n.l=function(S){return S=K(this,S),z(S)?-1:B(S)?0:1};function M(S){const C=S.g.length,T=[];for(let N=0;N<C;N++)T[N]=~S.g[N];return new u(T,~S.h).add(E)}n.abs=function(){return z(this)?M(this):this},n.add=function(S){const C=Math.max(this.g.length,S.g.length),T=[];let N=0;for(let k=0;k<=C;k++){let O=N+(this.i(k)&65535)+(S.i(k)&65535),R=(O>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);N=R>>>16,O&=65535,R&=65535,T[k]=R<<16|O}return new u(T,T[T.length-1]&-2147483648?-1:0)};function K(S,C){return S.add(M(C))}n.j=function(S){if(B(this)||B(S))return A;if(z(this))return z(S)?M(this).j(M(S)):M(M(this).j(S));if(z(S))return M(this.j(M(S)));if(this.l(P)<0&&S.l(P)<0)return y(this.m()*S.m());const C=this.g.length+S.g.length,T=[];for(var N=0;N<2*C;N++)T[N]=0;for(N=0;N<this.g.length;N++)for(let k=0;k<S.g.length;k++){const O=this.i(N)>>>16,R=this.i(N)&65535,qe=S.i(k)>>>16,fe=S.i(k)&65535;T[2*N+2*k]+=R*fe,Y(T,2*N+2*k),T[2*N+2*k+1]+=O*fe,Y(T,2*N+2*k+1),T[2*N+2*k+1]+=R*qe,Y(T,2*N+2*k+1),T[2*N+2*k+2]+=O*qe,Y(T,2*N+2*k+2)}for(S=0;S<C;S++)T[S]=T[2*S+1]<<16|T[2*S];for(S=C;S<2*C;S++)T[S]=0;return new u(T,0)};function Y(S,C){for(;(S[C]&65535)!=S[C];)S[C+1]+=S[C]>>>16,S[C]&=65535,C++}function Q(S,C){this.g=S,this.h=C}function se(S,C){if(B(C))throw Error("division by zero");if(B(S))return new Q(A,A);if(z(S))return C=se(M(S),C),new Q(M(C.g),M(C.h));if(z(C))return C=se(S,M(C)),new Q(M(C.g),C.h);if(S.g.length>30){if(z(S)||z(C))throw Error("slowDivide_ only works with positive integers.");for(var T=E,N=C;N.l(S)<=0;)T=ue(T),N=ue(N);var k=me(T,1),O=me(N,1);for(N=me(N,2),T=me(T,2);!B(N);){var R=O.add(N);R.l(S)<=0&&(k=k.add(T),O=R),N=me(N,1),T=me(T,1)}return C=K(S,k.j(C)),new Q(k,C)}for(k=A;S.l(C)>=0;){for(T=Math.max(1,Math.floor(S.m()/C.m())),N=Math.ceil(Math.log(T)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),O=y(T),R=O.j(C);z(R)||R.l(S)>0;)T-=N,O=y(T),R=O.j(C);B(O)&&(O=E),k=k.add(O),S=K(S,R)}return new Q(k,S)}n.B=function(S){return se(this,S).h},n.and=function(S){const C=Math.max(this.g.length,S.g.length),T=[];for(let N=0;N<C;N++)T[N]=this.i(N)&S.i(N);return new u(T,this.h&S.h)},n.or=function(S){const C=Math.max(this.g.length,S.g.length),T=[];for(let N=0;N<C;N++)T[N]=this.i(N)|S.i(N);return new u(T,this.h|S.h)},n.xor=function(S){const C=Math.max(this.g.length,S.g.length),T=[];for(let N=0;N<C;N++)T[N]=this.i(N)^S.i(N);return new u(T,this.h^S.h)};function ue(S){const C=S.g.length+1,T=[];for(let N=0;N<C;N++)T[N]=S.i(N)<<1|S.i(N-1)>>>31;return new u(T,S.h)}function me(S,C){const T=C>>5;C%=32;const N=S.g.length-T,k=[];for(let O=0;O<N;O++)k[O]=C>0?S.i(O+T)>>>C|S.i(O+T+1)<<32-C:S.i(O+T);return new u(k,S.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,cv=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=v,js=u}).apply(typeof Ly<"u"?Ly:typeof self<"u"?self:typeof window<"u"?window:{});var Cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uv,fl,dv,ju,Yp,pv,hv,mv;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cu=="object"&&Cu];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function a(c,g){if(g)e:{var _=s;c=c.split(".");for(var F=0;F<c.length-1;F++){var U=c[F];if(!(U in _))break e;_=_[U]}c=c[c.length-1],F=_[c],g=g(F),g!=F&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}a("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(c){return c||function(g){var _=[],F;for(F in g)Object.prototype.hasOwnProperty.call(g,F)&&_.push([F,g[F]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function m(c,g,_){return c.call.apply(c.bind,arguments)}function y(c,g,_){return y=m,y.apply(null,arguments)}function v(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var F=_.slice();return F.push.apply(F,arguments),c.apply(this,F)}}function A(c,g){function _(){}_.prototype=g.prototype,c.Z=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(F,U,q){for(var ne=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ne[Ce-2]=arguments[Ce];return g.prototype[U].apply(F,ne)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const g=c.length;if(g>0){const _=Array(g);for(let F=0;F<g;F++)_[F]=c[F];return _}return[]}function B(c,g){for(let F=1;F<arguments.length;F++){const U=arguments[F];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=c.length||0;const q=U.length||0;c.length=_+q;for(let ne=0;ne<q;ne++)c[_+ne]=U[ne]}else c.push(U)}}class z{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function M(c){u.setTimeout(()=>{throw c},0)}function K(){var c=S;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Y{constructor(){this.h=this.g=null}add(g,_){const F=Q.get();F.set(g,_),this.h?this.h.next=F:this.g=F,this.h=F}}var Q=new z(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,me=!1,S=new Y,C=()=>{const c=Promise.resolve(void 0);ue=()=>{c.then(T)}};function T(){for(var c;c=K();){try{c.h.call(c.g)}catch(_){M(_)}var g=Q;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}me=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};u.addEventListener("test",_,g),u.removeEventListener("test",_,g)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function qe(c,g){k.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}A(qe,k),qe.prototype.init=function(c,g){const _=this.type=c.type,F=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(_=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&qe.Z.h.call(this)},qe.prototype.h=function(){qe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),Ve=0;function et(c,g,_,F,U){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!F,this.ha=U,this.key=++Ve,this.da=this.fa=!1}function re(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ye(c,g,_){for(const F in c)g.call(_,c[F],F,c)}function le(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function V(c){const g={};for(const _ in c)g[_]=c[_];return g}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Te(c,g){let _,F;for(let U=1;U<arguments.length;U++){F=arguments[U];for(_ in F)c[_]=F[_];for(let q=0;q<J.length;q++)_=J[q],Object.prototype.hasOwnProperty.call(F,_)&&(c[_]=F[_])}}function Se(c){this.src=c,this.g={},this.h=0}Se.prototype.add=function(c,g,_,F,U){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const ne=Re(c,g,F,U);return ne>-1?(g=c[ne],_||(g.fa=!1)):(g=new et(g,this.src,q,!!F,U),g.fa=_,c.push(g)),g};function ke(c,g){const _=g.type;if(_ in c.g){var F=c.g[_],U=Array.prototype.indexOf.call(F,g,void 0),q;(q=U>=0)&&Array.prototype.splice.call(F,U,1),q&&(re(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Re(c,g,_,F){for(let U=0;U<c.length;++U){const q=c[U];if(!q.da&&q.listener==g&&q.capture==!!_&&q.ha==F)return U}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Me={};function We(c,g,_,F,U){if(Array.isArray(g)){for(let q=0;q<g.length;q++)We(c,g[q],_,F,U);return null}return _=mo(_),c&&c[fe]?c.J(g,_,p(F)?!!F.capture:!1,U):Wt(c,g,_,!1,F,U)}function Wt(c,g,_,F,U,q){if(!g)throw Error("Invalid event type");const ne=p(U)?!!U.capture:!!U;let Ce=Zi(c);if(Ce||(c[ze]=Ce=new Se(c)),_=Ce.add(g,_,F,ne,q),_.proxy)return _;if(F=Ji(),_.proxy=F,F.src=c,F.listener=_,c.addEventListener)O||(U=ne),U===void 0&&(U=!1),c.addEventListener(g.toString(),F,U);else if(c.attachEvent)c.attachEvent(Xi(g.toString()),F);else if(c.addListener&&c.removeListener)c.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ji(){function c(_){return g.call(c.src,c.listener,_)}const g=ac;return c}function ho(c,g,_,F,U){if(Array.isArray(g))for(var q=0;q<g.length;q++)ho(c,g[q],_,F,U);else F=p(F)?!!F.capture:!!F,_=mo(_),c&&c[fe]?(c=c.i,q=String(g).toString(),q in c.g&&(g=c.g[q],_=Re(g,_,F,U),_>-1&&(re(g[_]),Array.prototype.splice.call(g,_,1),g.length==0&&(delete c.g[q],c.h--)))):c&&(c=Zi(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Re(g,_,F,U)),(_=c>-1?g[c]:null)&&Xr(_))}function Xr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[fe])ke(g.i,c);else{var _=c.type,F=c.proxy;g.removeEventListener?g.removeEventListener(_,F,c.capture):g.detachEvent?g.detachEvent(Xi(_),F):g.addListener&&g.removeListener&&g.removeListener(F),(_=Zi(g))?(ke(_,c),_.h==0&&(_.src=null,g[ze]=null)):re(c)}}}function Xi(c){return c in Me?Me[c]:Me[c]="on"+c}function ac(c,g){if(c.da)c=!0;else{g=new qe(g,this);const _=c.listener,F=c.ha||c.src;c.fa&&Xr(c),c=_.call(F,g)}return c}function Zi(c){return c=c[ze],c instanceof Se?c:null}var ai="__closure_events_fn_"+(Math.random()*1e9>>>0);function mo(c){return typeof c=="function"?c:(c[ai]||(c[ai]=function(g){return c.handleEvent(g)}),c[ai])}function gt(){N.call(this),this.i=new Se(this),this.M=this,this.G=null}A(gt,N),gt.prototype[fe]=!0,gt.prototype.removeEventListener=function(c,g,_,F){ho(this,c,g,_,F)};function pt(c,g){var _,F=c.G;if(F)for(_=[];F;F=F.G)_.push(F);if(c=c.M,F=g.type||g,typeof g=="string")g=new k(g,c);else if(g instanceof k)g.target=g.target||c;else{var U=g;g=new k(F,c),Te(g,U)}U=!0;let q,ne;if(_)for(ne=_.length-1;ne>=0;ne--)q=g.g=_[ne],U=kn(q,F,!0,g)&&U;if(q=g.g=c,U=kn(q,F,!0,g)&&U,U=kn(q,F,!1,g)&&U,_)for(ne=0;ne<_.length;ne++)q=g.g=_[ne],U=kn(q,F,!1,g)&&U}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const _=c.g[g];for(let F=0;F<_.length;F++)re(_[F]);delete c.g[g],c.h--}}this.G=null},gt.prototype.J=function(c,g,_,F){return this.i.add(String(c),g,!1,_,F)},gt.prototype.K=function(c,g,_,F){return this.i.add(String(c),g,!0,_,F)};function kn(c,g,_,F){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let U=!0;for(let q=0;q<g.length;++q){const ne=g[q];if(ne&&!ne.da&&ne.capture==_){const Ce=ne.listener,ht=ne.ha||ne.src;ne.fa&&ke(c.i,ne),U=Ce.call(ht,F)!==!1&&U}}return U&&!F.defaultPrevented}function fo(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:u.setTimeout(c,g||0)}function go(c){c.g=fo(()=>{c.g=null,c.i&&(c.i=!1,go(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class oc extends N{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:go(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(c){N.call(this),this.h=c,this.g={}}A(Zr,N);var yo=[];function ea(c){ye(c.g,function(g,_){this.g.hasOwnProperty(_)&&Xr(g)},c),c.g={}}Zr.prototype.N=function(){Zr.Z.N.call(this),ea(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var es=u.JSON.stringify,lc=u.JSON.parse,oi=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function ts(){}function cc(){}var ns={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ta(){k.call(this,"d")}A(ta,k);function wo(){k.call(this,"c")}A(wo,k);var Rn={},na=null;function rs(){return na=na||new gt}Rn.Ia="serverreachability";function ra(c){k.call(this,Rn.Ia,c)}A(ra,k);function Tr(c){const g=rs();pt(g,new ra(g))}Rn.STAT_EVENT="statevent";function Sr(c,g){k.call(this,Rn.STAT_EVENT,c),this.stat=g}A(Sr,k);function ot(c){const g=rs();pt(g,new Sr(g,c))}Rn.Ja="timingevent";function _o(c,g){k.call(this,Rn.Ja,c),this.size=g}A(_o,k);function ss(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},g)}function is(){this.g=!0}is.prototype.ua=function(){this.g=!1};function uc(c,g,_,F,U,q){c.info(function(){if(c.g)if(q){var ne="",Ce=q.split("&");for(let He=0;He<Ce.length;He++){var ht=Ce[He].split("=");if(ht.length>1){const yt=ht[0];ht=ht[1];const dn=yt.split("_");ne=dn.length>=2&&dn[1]=="type"?ne+(yt+"="+ht+"&"):ne+(yt+"=redacted&")}}}else ne=null;else ne=q;return"XMLHTTP REQ ("+F+") [attempt "+U+"]: "+g+`
`+_+`
`+ne})}function dc(c,g,_,F,U,q,ne){c.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+U+"]: "+g+`
`+_+`
`+q+" "+ne})}function Wn(c,g,_,F){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+li(c,_)+(F?" "+F:"")})}function pc(c,g){c.info(function(){return"TIMEOUT: "+g})}is.prototype.info=function(){};function li(c,g){if(!c.g)return g;if(!g)return null;try{const q=JSON.parse(g);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var _=q[c];if(!(_.length<2)){var F=_[1];if(Array.isArray(F)&&!(F.length<1)){var U=F[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ne=1;ne<F.length;ne++)F[ne]=""}}}}return es(q)}catch{return g}}var as={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},os={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hc;function Ir(){}A(Ir,ts),Ir.prototype.g=function(){return new XMLHttpRequest},hc=new Ir;function Qn(c){return encodeURIComponent(String(c))}function sa(c){var g=1;c=c.split(":");const _=[];for(;g>0&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function wn(c,g,_,F){this.j=c,this.i=g,this.l=_,this.S=F||1,this.V=new Zr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new mc}function mc(){this.i=null,this.g="",this.h=!1}var fc={},vo={};function Pn(c,g,_){c.M=1,c.A=Rr(_n(g)),c.u=_,c.R=!0,xo(c,null)}function xo(c,g){c.F=Date.now(),ci(c),c.B=_n(c.A);var _=c.B,F=c.S;Array.isArray(F)||(F=[String(F)]),Po(_.i,"t",F),c.C=0,_=c.j.L,c.h=new mc,c.g=Cc(c.j,_?g:null,!c.u),c.P>0&&(c.O=new oc(y(c.Y,c,c.g),c.P)),g=c.V,_=c.g,F=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(yo[0]=U.toString()),U=yo);for(let q=0;q<U.length;q++){const ne=We(_,U[q],F||g.handleEvent,!1,g.h||g);if(!ne)break;g.g[ne.key]=ne}g=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),Tr(),uc(c.i,c.v,c.B,c.l,c.S,c.u)}wn.prototype.ba=function(c){c=c.target;const g=this.O;g&&er(c)==3?g.j():this.Y(c)},wn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=er(this.g),ht=this.g.ya(),He=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Ec(this.g)))){this.K||Ce!=4||ht==7||(ht==8||He<=0?Tr(3):Tr(2)),ia(this);var g=this.g.ca();this.X=g;var _=gc(this);if(this.o=g==200,dc(this.i,this.v,this.B,this.l,this.S,Ce,g),this.o){if(this.U&&!this.L){t:{if(this.g){var F,U=this.g;if((F=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(F)){var q=F;break t}}q=null}if(c=q)Wn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ye(this,c);else{this.o=!1,this.m=3,ot(12),kr(this),ui(this);break e}}if(this.R){c=!0;let yt;for(;!this.K&&this.C<_.length;)if(yt=wc(this,_),yt==vo){Ce==4&&(this.m=4,ot(14),c=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==fc){this.m=4,ot(15),Wn(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else Wn(this.i,this.l,yt,null),Ye(this,yt);if(yc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||_.length!=0||this.h.h||(this.m=1,ot(16),c=!1),this.o=this.o&&c,!c)Wn(this.i,this.l,_,"[Invalid Chunked Response]"),kr(this),ui(this);else if(_.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),_i(ne),ne.P=!0,ot(11))}}else Wn(this.i,this.l,_,null),Ye(this,_);Ce==4&&kr(this),this.o&&!this.K&&(Ce==4?fa(this.j,this):(this.o=!1,ci(this)))}else Do(this.g),g==400&&_.indexOf("Unknown SID")>0?(this.m=3,ot(12)):(this.m=0,ot(13)),kr(this),ui(this)}}}catch{}finally{}};function gc(c){if(!yc(c))return c.g.la();const g=Ec(c.g);if(g==="")return"";let _="";const F=g.length,U=er(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return kr(c),ui(c),"";c.h.i=new u.TextDecoder}for(let q=0;q<F;q++)c.h.h=!0,_+=c.h.i.decode(g[q],{stream:!(U&&q==F-1)});return g.length=0,c.h.g+=_,c.C=0,c.h.g}function yc(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function wc(c,g){var _=c.C,F=g.indexOf(`
`,_);return F==-1?vo:(_=Number(g.substring(_,F)),isNaN(_)?fc:(F+=1,F+_>g.length?vo:(g=g.slice(F,F+_),c.C=F+_,g)))}wn.prototype.cancel=function(){this.K=!0,kr(this)};function ci(c){c.T=Date.now()+c.H,Ao(c,c.H)}function Ao(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ss(y(c.aa,c),g)}function ia(c){c.D&&(u.clearTimeout(c.D),c.D=null)}wn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(pc(this.i,this.B),this.M!=2&&(Tr(),ot(17)),kr(this),this.m=2,ui(this)):Ao(this,this.T-c)};function ui(c){c.j.I==0||c.K||fa(c.j,c)}function kr(c){ia(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,ea(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function Ye(c,g){try{var _=c.j;if(_.I!=0&&(_.g==c||Fo(_.h,c))){if(!c.L&&Fo(_.h,c)&&_.I==3){try{var F=_.Ba.g.parse(g)}catch{F=null}if(Array.isArray(F)&&F.length==3){var U=F;if(U[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)ma(_),cn(_);else break e;rr(_),ot(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ss(y(_.Va,_),6e3));di(_.h)<=1&&_.ta&&(_.ta=void 0)}else un(_,11)}else if((c.L||_.g==c)&&ma(_),!R(g))for(U=_.Ba.g.parse(g),g=0;g<U.length;g++){let He=U[g];const yt=He[0];if(!(yt<=_.K))if(_.K=yt,He=He[1],_.I==2)if(He[0]=="c"){_.M=He[1],_.ba=He[2];const dn=He[3];dn!=null&&(_.ka=dn,_.j.info("VER="+_.ka));const Lr=He[4];Lr!=null&&(_.za=Lr,_.j.info("SVER="+_.za));const sr=He[5];sr!=null&&typeof sr=="number"&&sr>0&&(F=1.5*sr,_.O=F,_.j.info("backChannelRequestTimeoutMs_="+F)),F=_;const ir=c.g;if(ir){const wa=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wa){var q=F.h;q.g||wa.indexOf("spdy")==-1&&wa.indexOf("quic")==-1&&wa.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(oa(q,q.h),q.h=null))}if(F.G){const Mo=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;Mo&&(F.wa=Mo,Ue(F.J,F.G,Mo))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),F=_;var ne=c;if(F.na=Lo(F,F.L?F.ba:null,F.W),ne.L){pi(F.h,ne);var Ce=ne,ht=F.O;ht&&(Ce.H=ht),Ce.D&&(ia(Ce),ci(Ce)),F.g=ne}else Ot(F);_.i.length>0&&br(_)}else He[0]!="stop"&&He[0]!="close"||un(_,7);else _.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?un(_,7):pa(_):He[0]!="noop"&&_.l&&_.l.qa(He),_.A=0)}}Tr(4)}catch{}}var qd=class{constructor(c,g){this.g=c,this.map=g}};function aa(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Eo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function di(c){return c.h?1:c.g?c.g.size:0}function Fo(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function oa(c,g){c.g?c.g.add(g):c.h=g}function pi(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}aa.prototype.cancel=function(){if(this.i=an(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function an(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.G);return g}return P(c.i)}var _c=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function on(c,g){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const F=c[_].indexOf("=");let U,q=null;F>=0?(U=c[_].substring(0,F),q=c[_].substring(F+1)):U=c[_],g(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Kn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof Kn?(this.l=c.l,hi(this,c.j),this.o=c.o,this.g=c.g,Gn(this,c.u),this.h=c.h,ls(this,No(c.i)),this.m=c.m):c&&(g=String(c).match(_c))?(this.l=!1,hi(this,g[1]||"",!0),this.o=mi(g[2]||""),this.g=mi(g[3]||"",!0),Gn(this,g[4]),this.h=mi(g[5]||"",!0),ls(this,g[6]||"",!0),this.m=mi(g[7]||"")):(this.l=!1,this.i=new be(null,this.l))}Kn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(fi(g,To,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(fi(g,To,!0),"@"),c.push(Qn(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(fi(_,_.charAt(0)=="/"?gi:So,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",fi(_,Io)),c.join("")},Kn.prototype.resolve=function(c){const g=_n(this);let _=!!c.j;_?hi(g,c.j):_=!!c.o,_?g.o=c.o:_=!!c.g,_?g.g=c.g:_=c.u!=null;var F=c.h;if(_)Gn(g,c.u);else if(_=!!c.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var U=g.h.lastIndexOf("/");U!=-1&&(F=g.h.slice(0,U+1)+F)}if(U=F,U==".."||U==".")F="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){F=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let ne=0;ne<U.length;){const Ce=U[ne++];Ce=="."?F&&ne==U.length&&q.push(""):Ce==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),F&&ne==U.length&&q.push("")):(q.push(Ce),F=!0)}F=q.join("/")}else F=U}return _?g.h=F:_=c.i.toString()!=="",_?ls(g,No(c.i)):_=!!c.m,_&&(g.m=c.m),g};function _n(c){return new Kn(c)}function hi(c,g,_){c.j=_?mi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Gn(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function ls(c,g,_){g instanceof be?(c.i=g,ca(c.i,c.l)):(_||(g=fi(g,Wd)),c.i=new be(g,c.l))}function Ue(c,g,_){c.i.set(g,_)}function Rr(c){return Ue(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function mi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function fi(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Co),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Co(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var To=/[#\/\?@]/g,So=/[#\?:]/g,gi=/[#\?]/g,Wd=/[#\?@]/g,Io=/#/g;function be(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Yn(c){c.g||(c.g=new Map,c.h=0,c.i&&on(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=be.prototype,n.add=function(c,g){Yn(this),this.i=null,c=Jn(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function ko(c,g){Yn(c),g=Jn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function la(c,g){return Yn(c),g=Jn(c,g),c.g.has(g)}n.forEach=function(c,g){Yn(this),this.g.forEach(function(_,F){_.forEach(function(U){c.call(g,U,F,this)},this)},this)};function Ro(c,g){Yn(c);let _=[];if(typeof g=="string")la(c,g)&&(_=_.concat(c.g.get(Jn(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)_=_.concat(c[g]);return _}n.set=function(c,g){return Yn(this),this.i=null,c=Jn(this,c),la(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=Ro(this,c),c.length>0?String(c[0]):g):g};function Po(c,g,_){ko(c,g),_.length>0&&(c.i=null,c.g.set(Jn(c,g),P(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let F=0;F<g.length;F++){var _=g[F];const U=Qn(_);_=Ro(this,_);for(let q=0;q<_.length;q++){let ne=U;_[q]!==""&&(ne+="="+Qn(_[q])),c.push(ne)}}return this.i=c.join("&")};function No(c){const g=new be;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Jn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ca(c,g){g&&!c.j&&(Yn(c),c.i=null,c.g.forEach(function(_,F){const U=F.toLowerCase();F!=U&&(ko(this,F),Po(this,U,_))},c)),c.j=g}function Xn(c,g){const _=new is;if(u.Image){const F=new Image;F.onload=v(Rt,_,"TestLoadImage: loaded",!0,g,F),F.onerror=v(Rt,_,"TestLoadImage: error",!1,g,F),F.onabort=v(Rt,_,"TestLoadImage: abort",!1,g,F),F.ontimeout=v(Rt,_,"TestLoadImage: timeout",!1,g,F),u.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=c}else g(!1)}function Zn(c,g){const _=new is,F=new AbortController,U=setTimeout(()=>{F.abort(),Rt(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:F.signal}).then(q=>{clearTimeout(U),q.ok?Rt(_,"TestPingServer: ok",!0,g):Rt(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),Rt(_,"TestPingServer: error",!1,g)})}function Rt(c,g,_,F,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),F(_)}catch{}}function yi(){this.g=new oi}function Pr(c){this.i=c.Sb||null,this.h=c.ab||!1}A(Pr,ts),Pr.prototype.g=function(){return new ln(this.i,this.h)};function ln(c,g){gt.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(ln,gt),n=ln.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Nn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||u).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Nn(this)),this.g&&(this.readyState=3,Nn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vc(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function vc(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?cs(this):Nn(this),this.readyState==3&&vc(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,cs(this))},n.Na=function(c){this.g&&(this.response=c,cs(this))},n.ga=function(){this.g&&cs(this)};function cs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Nn(c)}n.setRequestHeader=function(c,g){this.A.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Nn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ln.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xc(c){let g="";return ye(c,function(_,F){g+=F,g+=":",g+=_,g+=`\r
`}),g}function ua(c,g,_){e:{for(F in _){var F=!1;break e}F=!0}F||(_=xc(_),typeof c=="string"?_!=null&&Qn(_):Ue(c,g,_))}function Qe(c){gt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Qe,gt);var Ac=/^https?$/i,Qd=["POST","PUT"];n=Qe.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,g,_,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hc.g(),this.g.onreadystatechange=E(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(q){us(this,q);return}if(c=_||"",_=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var U in F)_.set(U,F[U]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const q of F.keys())_.set(q,F.get(q));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),U=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(Qd,g,void 0)>=0)||F||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of _)this.g.setRequestHeader(q,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){us(this,q)}};function us(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,ds(c),Dr(c)}function ds(c){c.A||(c.A=!0,pt(c,"complete"),pt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,pt(this,"complete"),pt(this,"abort"),Dr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dr(this,!0)),Qe.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Nr(this):this.Xa())},n.Xa=function(){Nr(this)};function Nr(c){if(c.h&&typeof l<"u"){if(c.v&&er(c)==4)setTimeout(c.Ca.bind(c),0);else if(pt(c,"readystatechange"),er(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var F;if(F=q===0){let ne=String(c.D).match(_c)[1]||null;!ne&&u.self&&u.self.location&&(ne=u.self.location.protocol.slice(0,-1)),F=!Ac.test(ne?ne.toLowerCase():"")}_=F}if(_)pt(c,"complete"),pt(c,"success");else{c.o=6;try{var U=er(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",ds(c)}}finally{Dr(c)}}}}function Dr(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,g||pt(c,"ready");try{_.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function er(c){return c.g?c.g.readyState:0}n.ca=function(){try{return er(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),lc(g)}};function Ec(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Do(c){const g={};c=(c.g&&er(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<c.length;F++){if(R(c[F]))continue;var _=sa(c[F]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=g[U]||[];g[U]=q,q.push(_)}le(g,function(F){return F.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function tr(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function da(c){this.za=0,this.i=[],this.j=new is,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=tr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=tr("baseRetryDelayMs",5e3,c),this.Za=tr("retryDelaySeedMs",1e4,c),this.Ta=tr("forwardChannelMaxRetries",2,c),this.va=tr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new aa(c&&c.concurrentRequestLimit),this.Ba=new yi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=da.prototype,n.ka=8,n.I=1,n.connect=function(c,g,_,F){ot(0),this.W=c,this.H=g||{},_&&F!==void 0&&(this.H.OSID=_,this.H.OAID=F),this.F=this.X,this.J=Lo(this,null,this.W),br(this)};function pa(c){if(ha(c),c.I==3){var g=c.V++,_=_n(c.J);if(Ue(_,"SID",c.M),Ue(_,"RID",g),Ue(_,"TYPE","terminate"),nr(c,_),g=new wn(c,c.j,g),g.M=2,g.A=Rr(_n(_)),_=!1,u.navigator&&u.navigator.sendBeacon)try{_=u.navigator.sendBeacon(g.A.toString(),"")}catch{}!_&&u.Image&&(new Image().src=g.A,_=!0),_||(g.g=Cc(g.j,null),g.g.ea(g.A)),g.F=Date.now(),ci(g)}vi(c)}function cn(c){c.g&&(_i(c),c.g.cancel(),c.g=null)}function ha(c){cn(c),c.v&&(u.clearTimeout(c.v),c.v=null),ma(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function br(c){if(!Eo(c.h)&&!c.m){c.m=!0;var g=c.Ea;ue||C(),me||(ue(),me=!0),S.add(g,c),c.D=0}}function Fc(c,g){return di(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ss(y(c.Ea,c,g),ga(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new wn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=V(q),Te(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var F=this.i[_];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(g+=F,g>4096){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=bo(this,U,g),_=_n(this.J),Ue(_,"RID",c),Ue(_,"CVER",22),this.G&&Ue(_,"X-HTTP-Session-Id",this.G),nr(this,_),q&&(this.R?g="headers="+Qn(xc(q))+"&"+g:this.u&&ua(_,this.u,q)),oa(this.h,U),this.Ra&&Ue(_,"TYPE","init"),this.S?(Ue(_,"$req",g),Ue(_,"SID","null"),U.U=!0,Pn(U,_,null)):Pn(U,_,g),this.I=2}}else this.I==3&&(c?wi(this,c):this.i.length==0||Eo(this.h)||wi(this))};function wi(c,g){var _;g?_=g.l:_=c.V++;const F=_n(c.J);Ue(F,"SID",c.M),Ue(F,"RID",_),Ue(F,"AID",c.K),nr(c,F),c.u&&c.o&&ua(F,c.u,c.o),_=new wn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),g&&(c.i=g.G.concat(c.i)),g=bo(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),oa(c.h,_),Pn(_,F,g)}function nr(c,g){c.H&&ye(c.H,function(_,F){Ue(g,F,_)}),c.l&&ye({},function(_,F){Ue(g,F,_)})}function bo(c,g,_){_=Math.min(c.i.length,_);const F=c.l?y(c.l.Ka,c.l,c):null;e:{var U=c.i;let Ce=-1;for(;;){const ht=["count="+_];Ce==-1?_>0?(Ce=U[0].g,ht.push("ofs="+Ce)):Ce=0:ht.push("ofs="+Ce);let He=!0;for(let yt=0;yt<_;yt++){var q=U[yt].g;const dn=U[yt].map;if(q-=Ce,q<0)Ce=Math.max(0,U[yt].g-100),He=!1;else try{q="req"+q+"_"||"";try{var ne=dn instanceof Map?dn:Object.entries(dn);for(const[Lr,sr]of ne){let ir=sr;p(sr)&&(ir=es(sr)),ht.push(q+Lr+"="+encodeURIComponent(ir))}}catch(Lr){throw ht.push(q+"type="+encodeURIComponent("_badmap")),Lr}}catch{F&&F(dn)}}if(He){ne=ht.join("&");break e}}ne=void 0}return c=c.i.splice(0,_),g.G=c,ne}function Ot(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;ue||C(),me||(ue(),me=!0),S.add(g,c),c.A=0}}function rr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ss(y(c.Da,c),ga(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,ps(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ss(y(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ot(10),cn(this),ps(this))};function _i(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function ps(c){c.g=new wn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=_n(c.na);Ue(g,"RID","rpc"),Ue(g,"SID",c.M),Ue(g,"AID",c.K),Ue(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ue(g,"TO",c.ia),Ue(g,"TYPE","xmlhttp"),nr(c,g),c.u&&c.o&&ua(g,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=Rr(_n(g)),_.u=null,_.R=!0,xo(_,c)}n.Va=function(){this.C!=null&&(this.C=null,cn(this),rr(this),ot(19))};function ma(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function fa(c,g){var _=null;if(c.g==g){ma(c),_i(c),c.g=null;var F=2}else if(Fo(c.h,g))_=g.G,pi(c.h,g),F=1;else return;if(c.I!=0){if(g.o)if(F==1){_=g.u?g.u.length:0,g=Date.now()-g.F;var U=c.D;F=rs(),pt(F,new _o(F,_)),br(c)}else Ot(c);else if(U=g.m,U==3||U==0&&g.X>0||!(F==1&&Fc(c,g)||F==2&&rr(c)))switch(_&&_.length>0&&(g=c.h,g.i=g.i.concat(_)),U){case 1:un(c,5);break;case 4:un(c,10);break;case 3:un(c,6);break;default:un(c,2)}}}function ga(c,g){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*g}function un(c,g){if(c.j.info("Error code "+g),g==2){var _=y(c.bb,c),F=c.Ua;const U=!F;F=new Kn(F||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||hi(F,"https"),Rr(F),U?Xn(F.toString(),_):Zn(F.toString(),_)}else ot(2);c.I=0,c.l&&c.l.pa(g),vi(c),ha(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function vi(c){if(c.I=0,c.ja=[],c.l){const g=an(c.h);(g.length!=0||c.i.length!=0)&&(B(c.ja,g),B(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function Lo(c,g,_){var F=_ instanceof Kn?_n(_):new Kn(_);if(F.g!="")g&&(F.g=g+"."+F.g),Gn(F,F.u);else{var U=u.location;F=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;const q=new Kn(null);F&&hi(q,F),g&&(q.g=g),U&&Gn(q,U),_&&(q.h=_),F=q}return _=c.G,g=c.wa,_&&g&&Ue(F,_,g),Ue(F,"VER",c.ka),nr(c,F),F}function Cc(c,g,_){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Qe(new Pr({ab:_})):new Qe(c.ma),g.Fa(c.L),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tc(){}n=Tc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ya(){}ya.prototype.g=function(c,g){return new Pt(c,g)};function Pt(c,g){gt.call(this),this.g=new da(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!R(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!R(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new hs(this)}A(Pt,gt),Pt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){pa(this.g)},Pt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=es(c),c=_);g.i.push(new qd(g.Ya++,c)),g.I==3&&br(g)},Pt.prototype.N=function(){this.g.l=null,delete this.j,pa(this.g),delete this.g,Pt.Z.N.call(this)};function Sc(c){ta.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}A(Sc,ta);function Ic(){wo.call(this),this.status=1}A(Ic,wo);function hs(c){this.g=c}A(hs,Tc),hs.prototype.ra=function(){pt(this.g,"a")},hs.prototype.qa=function(c){pt(this.g,new Sc(c))},hs.prototype.pa=function(c){pt(this.g,new Ic)},hs.prototype.oa=function(){pt(this.g,"b")},ya.prototype.createWebChannel=ya.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,mv=function(){return new ya},hv=function(){return rs()},pv=Rn,Yp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},as.NO_ERROR=0,as.TIMEOUT=8,as.HTTP_ERROR=6,ju=as,os.COMPLETE="complete",dv=os,cc.EventType=ns,ns.OPEN="a",ns.CLOSE="b",ns.ERROR="c",ns.MESSAGE="d",gt.prototype.listen=gt.prototype.J,fl=cc,Qe.prototype.listenOnce=Qe.prototype.K,Qe.prototype.getLastError=Qe.prototype.Ha,Qe.prototype.getLastErrorCode=Qe.prototype.ya,Qe.prototype.getStatus=Qe.prototype.ca,Qe.prototype.getResponseJson=Qe.prototype.La,Qe.prototype.getResponseText=Qe.prototype.la,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Fa,uv=Qe}).apply(typeof Cu<"u"?Cu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="12.9.0";function QS(n){ao=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new Fh("@firebase/firestore");function ja(){return Ui.logLevel}function oe(n,...e){if(Ui.logLevel<=Pe.DEBUG){const t=e.map(Lh);Ui.debug(`Firestore (${ao}): ${n}`,...t)}}function Yr(n,...e){if(Ui.logLevel<=Pe.ERROR){const t=e.map(Lh);Ui.error(`Firestore (${ao}): ${n}`,...t)}}function Bi(n,...e){if(Ui.logLevel<=Pe.WARN){const t=e.map(Lh);Ui.warn(`Firestore (${ao}): ${n}`,...t)}}function Lh(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,fv(n,s,t)}function fv(n,e,t){let s=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Yr(s),new Error(s)}function Be(n,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,n||fv(e,a,s)}function Ee(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Fr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t($t.UNAUTHENTICATED)))}shutdown(){}}class GS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class YS{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,t(m)):Promise.resolve();let l=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new yr,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},p=m=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>p(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new yr)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Be(typeof s.accessToken=="string",31837,{l:s}),new gv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class JS{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class XS{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new JS(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class My{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZS{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Be(this.o===void 0,3512);const s=l=>{l.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,oe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new My(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Be(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new My(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=eI(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function Ne(n,e){return n<e?-1:n>e?1:0}function Jp(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const a=n.charAt(s),l=e.charAt(s);if(a!==l)return kp(a)===kp(l)?Ne(a,l):kp(a)?1:-1}return Ne(n.length,e.length)}const tI=55296,nI=57343;function kp(n){const e=n.charCodeAt(0);return e>=tI&&e<=nI}function Ya(n,e,t){return n.length===e.length&&n.every(((s,a)=>t(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="__name__";class pr{constructor(e,t,s){t===void 0?t=0:t>e.length&&xe(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&xe(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return pr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=pr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Ne(e.length,t.length)}static compareSegments(e,t){const s=pr.isNumericId(e),a=pr.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?pr.extractNumericId(e).compare(pr.extractNumericId(t)):Jp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return js.fromString(e.substring(4,e.length-2))}}class Ge extends pr{construct(e,t,s){return new Ge(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ie(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new Ge(t)}static emptyPath(){return new Ge([])}}const rI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends pr{construct(e,t,s){return new Lt(e,t,s)}static isValidIdentifier(e){return rI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Oy}static keyField(){return new Lt([Oy])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ie(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;a<e.length;){const p=e[a];if(p==="\\"){if(a+1===e.length)throw new ie(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ie(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else p==="`"?(u=!u,a++):p!=="."||u?(s+=p,a++):(l(),a++)}if(l(),u)throw new ie(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(t)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Ge.fromString(e))}static fromName(e){return new ge(Ge.fromString(e).popFirst(5))}static empty(){return new ge(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Ge(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(n,e,t){if(!t)throw new ie(W.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function sI(n,e,t,s){if(e===!0&&s===!0)throw new ie(W.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Vy(n){if(!ge.isDocumentKey(n))throw new ie(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jy(n){if(ge.isDocumentKey(n))throw new ie(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wv(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Fd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":xe(12329,{type:typeof n})}function xr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ie(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Fd(n);throw new ie(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function iI(n,e){if(e<=0)throw new ie(W.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Gl(n,e){if(!wv(n))throw new ie(W.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const u=n[s];if(a&&typeof u!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new ie(W.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=-62135596800,By=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*By);return new Ze(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Uy)throw new ie(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/By}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gl(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Uy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:xt("string",Ze._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new Ze(0,0))}static max(){return new Fe(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=-1;function aI(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=Fe.fromTimestamp(s===1e9?new Ze(t+1,0):new Ze(t,s));return new $s(a,ge.empty(),e)}function oI(n){return new $s(n.readTime,n.key,Rl)}class $s{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new $s(Fe.min(),ge.empty(),Rl)}static max(){return new $s(Fe.max(),ge.empty(),Rl)}}function lI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(n.documentKey,e.documentKey),t!==0?t:Ne(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(n){if(n.code!==W.FAILED_PRECONDITION||n.message!==cI)throw n;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):G.reject(t)}static resolve(e){return new G(((t,s)=>{t(e)}))}static reject(e){return new G(((t,s)=>{s(e)}))}static waitFor(e){return new G(((t,s)=>{let a=0,l=0,u=!1;e.forEach((p=>{++a,p.next((()=>{++l,u&&l===a&&t()}),(m=>s(m)))})),u=!0,l===a&&t()}))}static or(e){let t=G.resolve(!1);for(const s of e)t=t.next((a=>a?G.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,l)=>{s.push(t.call(this,a,l))})),this.waitFor(s)}static mapArray(e,t){return new G(((s,a)=>{const l=e.length,u=new Array(l);let p=0;for(let m=0;m<l;m++){const y=m;t(e[y]).next((v=>{u[y]=v,++p,p===l&&s(u)}),(v=>a(v)))}}))}static doWhile(e,t){return new G(((s,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):s()};l()}))}}function dI(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function lo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Cd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=-1;function Td(n){return n==null}function rd(n){return n===0&&1/n==-1/0}function pI(n){return typeof n=="number"&&Number.isInteger(n)&&!rd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="";function hI(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=zy(e)),e=mI(n.get(t),e);return zy(e)}function mI(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case _v:t+="";break;default:t+=l}}return t}function zy(n){return n+_v+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ni(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fI(n,e){const t=[];for(const s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.push(e(n[s],s,n));return t}function vv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||bt.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tu(this.root,e,this.comparator,!0)}}class Tu{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??bt.RED,this.left=a??bt.EMPTY,this.right=l??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new bt(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return bt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,t,s,a,l){return this}insert(e,t,s){return new bt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hy(this.data.getIterator())}getIteratorFrom(e){return new Hy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ct(this.comparator);return t.data=e,t}}class Hy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new fn([])}unionWith(e){let t=new Ct(Lt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ya(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new xv("Invalid base64 string: "+l):l}})(e);return new Mt(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new Mt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const gI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(n){if(Be(!!n,39018),typeof n=="string"){let e=0;const t=gI.exec(n);if(Be(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ft(n.seconds),nanos:ft(n.nanos)}}function ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qs(n){return typeof n=="string"?Mt.fromBase64String(n):Mt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="server_timestamp",Ev="__type__",Fv="__previous_value__",Cv="__local_write_time__";function Vh(n){var t,s;return((s=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Ev])==null?void 0:s.stringValue)===Av}function Sd(n){const e=n.mapValue.fields[Fv];return Vh(e)?Sd(e):e}function Pl(n){const e=Hs(n.mapValue.fields[Cv].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,t,s,a,l,u,p,m,y,v,A){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=y,this.isUsingEmulator=v,this.apiKey=A}}const sd="(default)";class Nl{constructor(e,t){this.projectId=e,this.database=t||sd}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===sd}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}function wI(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ie(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="__type__",_I="__max__",Su={mapValue:{}},Sv="__vector__",id="value";function Ws(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vh(n)?4:xI(n)?9007199254740991:vI(n)?10:11:xe(28295,{value:n})}function Ar(n,e){if(n===e)return!0;const t=Ws(n);if(t!==Ws(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pl(n).isEqual(Pl(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Hs(a.timestampValue),p=Hs(l.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return qs(a.bytesValue).isEqual(qs(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return ft(a.geoPointValue.latitude)===ft(l.geoPointValue.latitude)&&ft(a.geoPointValue.longitude)===ft(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return ft(a.integerValue)===ft(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=ft(a.doubleValue),p=ft(l.doubleValue);return u===p?rd(u)===rd(p):isNaN(u)&&isNaN(p)}return!1})(n,e);case 9:return Ya(n.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},p=l.mapValue.fields||{};if($y(u)!==$y(p))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(p[m]===void 0||!Ar(u[m],p[m])))return!1;return!0})(n,e);default:return xe(52216,{left:n})}}function Dl(n,e){return(n.values||[]).find((t=>Ar(t,e)))!==void 0}function Ja(n,e){if(n===e)return 0;const t=Ws(n),s=Ws(e);if(t!==s)return Ne(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(n.booleanValue,e.booleanValue);case 2:return(function(l,u){const p=ft(l.integerValue||l.doubleValue),m=ft(u.integerValue||u.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1})(n,e);case 3:return qy(n.timestampValue,e.timestampValue);case 4:return qy(Pl(n),Pl(e));case 5:return Jp(n.stringValue,e.stringValue);case 6:return(function(l,u){const p=qs(l),m=qs(u);return p.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(l,u){const p=l.split("/"),m=u.split("/");for(let y=0;y<p.length&&y<m.length;y++){const v=Ne(p[y],m[y]);if(v!==0)return v}return Ne(p.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,u){const p=Ne(ft(l.latitude),ft(u.latitude));return p!==0?p:Ne(ft(l.longitude),ft(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Wy(n.arrayValue,e.arrayValue);case 10:return(function(l,u){var E,P,B,z;const p=l.fields||{},m=u.fields||{},y=(E=p[id])==null?void 0:E.arrayValue,v=(P=m[id])==null?void 0:P.arrayValue,A=Ne(((B=y==null?void 0:y.values)==null?void 0:B.length)||0,((z=v==null?void 0:v.values)==null?void 0:z.length)||0);return A!==0?A:Wy(y,v)})(n.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Su.mapValue&&u===Su.mapValue)return 0;if(l===Su.mapValue)return 1;if(u===Su.mapValue)return-1;const p=l.fields||{},m=Object.keys(p),y=u.fields||{},v=Object.keys(y);m.sort(),v.sort();for(let A=0;A<m.length&&A<v.length;++A){const E=Jp(m[A],v[A]);if(E!==0)return E;const P=Ja(p[m[A]],y[v[A]]);if(P!==0)return P}return Ne(m.length,v.length)})(n.mapValue,e.mapValue);default:throw xe(23264,{he:t})}}function qy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ne(n,e);const t=Hs(n),s=Hs(e),a=Ne(t.seconds,s.seconds);return a!==0?a:Ne(t.nanos,s.nanos)}function Wy(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=Ja(t[a],s[a]);if(l)return l}return Ne(t.length,s.length)}function Xa(n){return Xp(n)}function Xp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Hs(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return qs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ge.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=Xp(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${Xp(t.fields[u])}`;return a+"}"})(n.mapValue):xe(61005,{value:n})}function Uu(n){switch(Ws(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sd(n);return e?16+Uu(e):16;case 5:return 2*n.stringValue.length;case 6:return qs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Uu(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let a=0;return ni(s.fields,((l,u)=>{a+=l.length+Uu(u)})),a})(n.mapValue);default:throw xe(13486,{value:n})}}function Qy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Zp(n){return!!n&&"integerValue"in n}function jh(n){return!!n&&"arrayValue"in n}function Ky(n){return!!n&&"nullValue"in n}function Gy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bu(n){return!!n&&"mapValue"in n}function vI(n){var t,s;return((s=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Tv])==null?void 0:s.stringValue)===Sv}function xl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ni(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=xl(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xl(n.arrayValue.values[t]);return e}return{...n}}function xI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===_I}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Bu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(t)}setAll(e){let t=Lt.emptyPath(),s={},a=[];e.forEach(((u,p)=>{if(!t.isImmediateParentOf(p)){const m=this.getFieldsMap(t);this.applyChanges(m,s,a),s={},a=[],t=p.popLast()}u?s[p.lastSegment()]=xl(u):a.push(p.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());Bu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Bu(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){ni(t,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Yt(xl(this.value))}}function Iv(n){const e=[];return ni(n.fields,((t,s)=>{const a=new Lt([t]);if(Bu(s)){const l=Iv(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t,s,a,l,u,p){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=p}static newInvalidDocument(e){return new Ht(e,0,Fe.min(),Fe.min(),Fe.min(),Yt.empty(),0)}static newFoundDocument(e,t,s,a){return new Ht(e,1,t,Fe.min(),s,a,0)}static newNoDocument(e,t){return new Ht(e,2,t,Fe.min(),Fe.min(),Yt.empty(),0)}static newUnknownDocument(e,t){return new Ht(e,3,t,Fe.min(),Fe.min(),Yt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,t){this.position=e,this.inclusive=t}}function Yy(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],u=n.position[a];if(l.field.isKeyField()?s=ge.comparator(ge.fromName(u.referenceValue),t.key):s=Ja(u,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Jy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ar(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,t="asc"){this.field=e,this.dir=t}}function AI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{}class vt extends kv{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new FI(e,t,s):t==="array-contains"?new SI(e,s):t==="in"?new II(e,s):t==="not-in"?new kI(e,s):t==="array-contains-any"?new RI(e,s):new vt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new CI(e,s):new TI(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ja(t,this.value)):t!==null&&Ws(this.value)===Ws(t)&&this.matchesComparison(Ja(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends kv{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new qn(e,t)}matches(e){return Rv(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Rv(n){return n.op==="and"}function Pv(n){return EI(n)&&Rv(n)}function EI(n){for(const e of n.filters)if(e instanceof qn)return!1;return!0}function eh(n){if(n instanceof vt)return n.field.canonicalString()+n.op.toString()+Xa(n.value);if(Pv(n))return n.filters.map((e=>eh(e))).join(",");{const e=n.filters.map((t=>eh(t))).join(",");return`${n.op}(${e})`}}function Nv(n,e){return n instanceof vt?(function(s,a){return a instanceof vt&&s.op===a.op&&s.field.isEqual(a.field)&&Ar(s.value,a.value)})(n,e):n instanceof qn?(function(s,a){return a instanceof qn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,p)=>l&&Nv(u,a.filters[p])),!0):!1})(n,e):void xe(19439)}function Dv(n){return n instanceof vt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Xa(t.value)}`})(n):n instanceof qn?(function(t){return t.op.toString()+" {"+t.getFilters().map(Dv).join(" ,")+"}"})(n):"Filter"}class FI extends vt{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class CI extends vt{constructor(e,t){super(e,"in",t),this.keys=bv("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class TI extends vt{constructor(e,t){super(e,"not-in",t),this.keys=bv("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function bv(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((s=>ge.fromName(s.referenceValue)))}class SI extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jh(t)&&Dl(t.arrayValue,this.value)}}class II extends vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Dl(this.value.arrayValue,t)}}class kI extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Dl(this.value.arrayValue,t)}}class RI extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jh(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Dl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,t=null,s=[],a=[],l=null,u=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=p,this.Te=null}}function Xy(n,e=null,t=[],s=[],a=null,l=null,u=null){return new PI(n,e,t,s,a,l,u)}function Uh(n){const e=Ee(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>eh(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Td(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Xa(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Xa(s))).join(",")),e.Te=t}return e.Te}function Bh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!AI(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Nv(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Jy(n.startAt,e.startAt)&&Jy(n.endAt,e.endAt)}function th(n){return ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,t=null,s=[],a=[],l=null,u="F",p=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function NI(n,e,t,s,a,l,u,p){return new co(n,e,t,s,a,l,u,p)}function zh(n){return new co(n)}function Zy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function DI(n){return ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Lv(n){return n.collectionGroup!==null}function Al(n){const e=Ee(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let p=new Ct(Lt.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new bl(l,s))})),t.has(Lt.keyField().canonicalString())||e.Ie.push(new bl(Lt.keyField(),s))}return e.Ie}function wr(n){const e=Ee(n);return e.Ee||(e.Ee=Mv(e,Al(n))),e.Ee}function bI(n){const e=Ee(n);return e.Re||(e.Re=Mv(e,n.explicitOrderBy)),e.Re}function Mv(n,e){if(n.limitType==="F")return Xy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new bl(a.field,l)}));const t=n.endAt?new ad(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new ad(n.startAt.position,n.startAt.inclusive):null;return Xy(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function nh(n,e){const t=n.filters.concat([e]);return new co(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function LI(n,e){const t=n.explicitOrderBy.concat([e]);return new co(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function od(n,e,t){return new co(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Id(n,e){return Bh(wr(n),wr(e))&&n.limitType===e.limitType}function Ov(n){return`${Uh(wr(n))}|lt:${n.limitType}`}function Ua(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>Dv(a))).join(", ")}]`),Td(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>Xa(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>Xa(a))).join(",")),`Target(${s})`})(wr(n))}; limitType=${n.limitType})`}function kd(n,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ge.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,e)&&(function(s,a){for(const l of Al(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(s,a){return!(s.startAt&&!(function(u,p,m){const y=Yy(u,p,m);return u.inclusive?y<=0:y<0})(s.startAt,Al(s),a)||s.endAt&&!(function(u,p,m){const y=Yy(u,p,m);return u.inclusive?y>=0:y>0})(s.endAt,Al(s),a))})(n,e)}function MI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Vv(n){return(e,t)=>{let s=!1;for(const a of Al(n)){const l=OI(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function OI(n,e,t){const s=n.field.isKeyField()?ge.comparator(e.key,t.key):(function(l,u,p){const m=u.data.field(l),y=p.data.field(l);return m!==null&&y!==null?Ja(m,y):xe(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return xe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ni(this.inner,((t,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return vv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=new it(ge.comparator);function Jr(){return VI}const jv=new it(ge.comparator);function gl(...n){let e=jv;for(const t of n)e=e.insert(t.key,t);return e}function Uv(n){let e=jv;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function bi(){return El()}function Bv(){return El()}function El(){return new Qi((n=>n.toString()),((n,e)=>n.isEqual(e)))}const jI=new it(ge.comparator),UI=new Ct(ge.comparator);function De(...n){let e=UI;for(const t of n)e=e.add(t);return e}const BI=new Ct(Ne);function zI(){return BI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(e)?"-0":e}}function zv(n){return{integerValue:""+n}}function $I(n,e){return pI(e)?zv(e):$h(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(){this._=void 0}}function HI(n,e,t){return n instanceof Ll?(function(a,l){const u={fields:{[Ev]:{stringValue:Av},[Cv]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Vh(l)&&(l=Sd(l)),l&&(u.fields[Fv]=l),{mapValue:u}})(t,e):n instanceof Ml?Hv(n,e):n instanceof Ol?qv(n,e):(function(a,l){const u=$v(a,l),p=ew(u)+ew(a.Ae);return Zp(u)&&Zp(a.Ae)?zv(p):$h(a.serializer,p)})(n,e)}function qI(n,e,t){return n instanceof Ml?Hv(n,e):n instanceof Ol?qv(n,e):t}function $v(n,e){return n instanceof ld?(function(s){return Zp(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Ll extends Rd{}class Ml extends Rd{constructor(e){super(),this.elements=e}}function Hv(n,e){const t=Wv(e);for(const s of n.elements)t.some((a=>Ar(a,s)))||t.push(s);return{arrayValue:{values:t}}}class Ol extends Rd{constructor(e){super(),this.elements=e}}function qv(n,e){let t=Wv(e);for(const s of n.elements)t=t.filter((a=>!Ar(a,s)));return{arrayValue:{values:t}}}class ld extends Rd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ew(n){return ft(n.integerValue||n.doubleValue)}function Wv(n){return jh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,t){this.field=e,this.transform=t}}function QI(n,e){return n.field.isEqual(e.field)&&(function(s,a){return s instanceof Ml&&a instanceof Ml||s instanceof Ol&&a instanceof Ol?Ya(s.elements,a.elements,Ar):s instanceof ld&&a instanceof ld?Ar(s.Ae,a.Ae):s instanceof Ll&&a instanceof Ll})(n.transform,e.transform)}class KI{constructor(e,t){this.version=e,this.transformResults=t}}class Un{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Un}static exists(e){return new Un(void 0,e)}static updateTime(e){return new Un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zu(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Pd{}function Qv(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Hh(n.key,Un.none()):new Yl(n.key,n.data,Un.none());{const t=n.data,s=Yt.empty();let a=new Ct(Lt.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new ri(n.key,s,new fn(a.toArray()),Un.none())}}function GI(n,e,t){n instanceof Yl?(function(a,l,u){const p=a.value.clone(),m=nw(a.fieldTransforms,l,u.transformResults);p.setAll(m),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(n,e,t):n instanceof ri?(function(a,l,u){if(!zu(a.precondition,l))return void l.convertToUnknownDocument(u.version);const p=nw(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(Kv(a)),m.setAll(p),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,e,t):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Fl(n,e,t,s){return n instanceof Yl?(function(l,u,p,m){if(!zu(l.precondition,u))return p;const y=l.value.clone(),v=rw(l.fieldTransforms,m,u);return y.setAll(v),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(n,e,t,s):n instanceof ri?(function(l,u,p,m){if(!zu(l.precondition,u))return p;const y=rw(l.fieldTransforms,m,u),v=u.data;return v.setAll(Kv(l)),v.setAll(y),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),p===null?null:p.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((A=>A.field)))})(n,e,t,s):(function(l,u,p){return zu(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p})(n,e,t)}function YI(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=$v(s.transform,a||null);l!=null&&(t===null&&(t=Yt.empty()),t.set(s.field,l))}return t||null}function tw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ya(s,a,((l,u)=>QI(l,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Yl extends Pd{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ri extends Pd{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Kv(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function nw(n,e,t){const s=new Map;Be(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let a=0;a<t.length;a++){const l=n[a],u=l.transform,p=e.data.field(l.field);s.set(l.field,qI(u,p,t[a]))}return s}function rw(n,e,t){const s=new Map;for(const a of n){const l=a.transform,u=t.data.field(a.field);s.set(a.field,HI(l,u,e))}return s}class Hh extends Pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JI extends Pd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&GI(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Fl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Fl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Bv();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let p=this.applyToLocalView(u,l.mutatedFields);p=t.has(a.key)?null:p;const m=Qv(u,p);m!==null&&s.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Fe.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),De())}isEqual(e){return this.batchId===e.batchId&&Ya(this.mutations,e.mutations,((t,s)=>tw(t,s)))&&Ya(this.baseMutations,e.baseMutations,((t,s)=>tw(t,s)))}}class qh{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Be(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return jI})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new qh(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,t,s){this.alias=e,this.aggregateType=t,this.fieldPath=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Le;function nk(n){switch(n){case W.OK:return xe(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return xe(15467,{code:n})}}function Gv(n){if(n===void 0)return Yr("GRPC error has no .code"),W.UNKNOWN;switch(n){case _t.OK:return W.OK;case _t.CANCELLED:return W.CANCELLED;case _t.UNKNOWN:return W.UNKNOWN;case _t.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case _t.INTERNAL:return W.INTERNAL;case _t.UNAVAILABLE:return W.UNAVAILABLE;case _t.UNAUTHENTICATED:return W.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case _t.NOT_FOUND:return W.NOT_FOUND;case _t.ALREADY_EXISTS:return W.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return W.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case _t.ABORTED:return W.ABORTED;case _t.OUT_OF_RANGE:return W.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return W.UNIMPLEMENTED;case _t.DATA_LOSS:return W.DATA_LOSS;default:return xe(39323,{code:n})}}(Le=_t||(_t={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=new js([4294967295,4294967295],0);function sw(n){const e=rk().encode(n),t=new cv;return t.update(e),new Uint8Array(t.digest())}function iw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new js([t,s],0),new js([a,l],0)]}class Wh{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new yl(`Invalid padding: ${t}`);if(s<0)throw new yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new yl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=js.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(js.fromNumber(s)));return a.compare(sk)===1&&(a=new js([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=sw(e),[s,a]=iw(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Wh(l,a,t);return s.forEach((p=>u.insert(p))),u}insert(e){if(this.ge===0)return;const t=sw(e),[s,a]=iw(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.be(u)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Nd(Fe.min(),a,new it(Ne),Jr(),De())}}class Jl{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Jl(s,t,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,t,s,a){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=a}}class Yv{constructor(e,t){this.targetId=e,this.Ce=t}}class Jv{constructor(e,t,s=Mt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class aw{constructor(){this.ve=0,this.Fe=ow(),this.Me=Mt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=De(),t=De(),s=De();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:xe(38017,{changeType:l})}})),new Jl(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=ow()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ik{constructor(e){this.Ge=e,this.ze=new Map,this.je=Jr(),this.He=Iu(),this.Je=Iu(),this.Ze=new it(Ne)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(th(l))if(s===0){const u=new ge(l.path);this.et(t,u,Ht.newNoDocument(u,Fe.min()))}else Be(s===1,20013,{expectedCount:s});else{const u=this._t(t);if(u!==s){const p=this.ut(e),m=p?this.ct(p,e,u):1;if(m!==0){this.it(t);const y=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let u,p;try{u=qs(s).toUint8Array()}catch(m){if(m instanceof xv)return Bi("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new Wh(u,a,l)}catch(m){return Bi(m instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),p=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(p)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const p=this.ot(u);if(p){if(l.current&&th(p.target)){const m=new ge(p.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,Ht.newNoDocument(m,e))}l.Be&&(t.set(u,l.ke()),l.Ke())}}));let s=De();this.Je.forEach(((l,u)=>{let p=!0;u.forEachWhile((m=>{const y=this.ot(m);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Nd(e,t,this.Ze,this.je,s);return this.je=Jr(),this.He=Iu(),this.Je=Iu(),this.Ze=new it(Ne),a}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new aw,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Ct(Ne),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Ct(Ne),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||oe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new aw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Iu(){return new it(ge.comparator)}function ow(){return new it(ge.comparator)}const ak={asc:"ASCENDING",desc:"DESCENDING"},ok={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lk={and:"AND",or:"OR"};class ck{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rh(n,e){return n.useProto3Json||Td(e)?e:{value:e}}function cd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xv(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function uk(n,e){return cd(n,e.toTimestamp())}function _r(n){return Be(!!n,49232),Fe.fromTimestamp((function(t){const s=Hs(t);return new Ze(s.seconds,s.nanos)})(n))}function Qh(n,e){return sh(n,e).canonicalString()}function sh(n,e){const t=(function(a){return new Ge(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Zv(n){const e=Ge.fromString(n);return Be(i1(e),10190,{key:e.toString()}),e}function ih(n,e){return Qh(n.databaseId,e.path)}function Rp(n,e){const t=Zv(e);if(t.get(1)!==n.databaseId.projectId)throw new ie(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ie(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge(t1(t))}function e1(n,e){return Qh(n.databaseId,e)}function dk(n){const e=Zv(n);return e.length===4?Ge.emptyPath():t1(e)}function ah(n){return new Ge(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function t1(n){return Be(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function lw(n,e,t){return{name:ih(n,e),fields:t.value.mapValue.fields}}function pk(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:xe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(y,v){return y.useProto3Json?(Be(v===void 0||typeof v=="string",58123),Mt.fromBase64String(v||"")):(Be(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Mt.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&(function(y){const v=y.code===void 0?W.UNKNOWN:Gv(y.code);return new ie(v,y.message||"")})(u);t=new Jv(s,a,l,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Rp(n,s.document.name),l=_r(s.document.updateTime),u=s.document.createTime?_r(s.document.createTime):Fe.min(),p=new Yt({mapValue:{fields:s.document.fields}}),m=Ht.newFoundDocument(a,l,u,p),y=s.targetIds||[],v=s.removedTargetIds||[];t=new $u(y,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Rp(n,s.document),l=s.readTime?_r(s.readTime):Fe.min(),u=Ht.newNoDocument(a,l),p=s.removedTargetIds||[];t=new $u([],p,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Rp(n,s.document),l=s.removedTargetIds||[];t=new $u([],l,a,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new tk(a,l),p=s.targetId;t=new Yv(p,u)}}return t}function hk(n,e){let t;if(e instanceof Yl)t={update:lw(n,e.key,e.value)};else if(e instanceof Hh)t={delete:ih(n,e.key)};else if(e instanceof ri)t={update:lw(n,e.key,e.data),updateMask:Ak(e.fieldMask)};else{if(!(e instanceof JI))return xe(16599,{dt:e.type});t={verify:ih(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const p=u.transform;if(p instanceof Ll)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ml)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ol)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ld)return{fieldPath:u.field.canonicalString(),increment:p.Ae};throw xe(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:uk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xe(27497)})(n,e.precondition)),t}function mk(n,e){return n&&n.length>0?(Be(e!==void 0,14353),n.map((t=>(function(a,l){let u=a.updateTime?_r(a.updateTime):_r(l);return u.isEqual(Fe.min())&&(u=_r(l)),new KI(u,a.transformResults||[])})(t,e)))):[]}function fk(n,e){return{documents:[e1(n,e.path)]}}function n1(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=e1(n,a);const l=(function(y){if(y.length!==0)return s1(qn.create(y,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(y){if(y.length!==0)return y.map((v=>(function(E){return{field:Ds(E.field),direction:_k(E.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const p=rh(n,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:a}}function gk(n,e,t,s){const{ft:a,parent:l}=n1(n,e),u={},p=[];let m=0;return t.forEach((y=>{const v="aggregate_"+m++;u[v]=y.alias,y.aggregateType==="count"?p.push({alias:v,count:{}}):y.aggregateType==="avg"?p.push({alias:v,avg:{field:Ds(y.fieldPath)}}):y.aggregateType==="sum"&&p.push({alias:v,sum:{field:Ds(y.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:p,structuredQuery:a.structuredQuery},parent:a.parent},gt:u,parent:l}}function yk(n){let e=dk(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Be(s===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(A){const E=r1(A);return E instanceof qn&&Pv(E)?E.getFilters():[E]})(t.where));let u=[];t.orderBy&&(u=(function(A){return A.map((E=>(function(B){return new bl(Ba(B.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(E)))})(t.orderBy));let p=null;t.limit&&(p=(function(A){let E;return E=typeof A=="object"?A.value:A,Td(E)?null:E})(t.limit));let m=null;t.startAt&&(m=(function(A){const E=!!A.before,P=A.values||[];return new ad(P,E)})(t.startAt));let y=null;return t.endAt&&(y=(function(A){const E=!A.before,P=A.values||[];return new ad(P,E)})(t.endAt)),NI(e,a,u,l,p,"F",m,y)}function wk(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function r1(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Ba(t.unaryFilter.field);return vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ba(t.unaryFilter.field);return vt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ba(t.unaryFilter.field);return vt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ba(t.unaryFilter.field);return vt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return vt.create(Ba(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return qn.create(t.compositeFilter.filters.map((s=>r1(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(t.compositeFilter.op))})(n):xe(30097,{filter:n})}function _k(n){return ak[n]}function vk(n){return ok[n]}function xk(n){return lk[n]}function Ds(n){return{fieldPath:n.canonicalString()}}function Ba(n){return Lt.fromServerFormat(n.fieldPath)}function s1(n){return n instanceof vt?(function(t){if(t.op==="=="){if(Gy(t.value))return{unaryFilter:{field:Ds(t.field),op:"IS_NAN"}};if(Ky(t.value))return{unaryFilter:{field:Ds(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Gy(t.value))return{unaryFilter:{field:Ds(t.field),op:"IS_NOT_NAN"}};if(Ky(t.value))return{unaryFilter:{field:Ds(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(t.field),op:vk(t.op),value:t.value}}})(n):n instanceof qn?(function(t){const s=t.getFilters().map((a=>s1(a)));return s.length===1?s[0]:{compositeFilter:{op:xk(t.op),filters:s}}})(n):xe(54877,{filter:n})}function Ak(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function i1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function a1(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t,s,a,l=Fe.min(),u=Fe.min(),p=Mt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new Ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.yt=e}}function Fk(n){const e=yk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?od(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(){this.Sn=new Tk}addToCollectionParentIndex(e,t){return this.Sn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve($s.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve($s.min())}updateCollectionGroup(e,t,s){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class Tk{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Ct(Ge.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ct(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},o1=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(o1,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Za(0)}static ar(){return new Za(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="LruGarbageCollector",Sk=1048576;function dw([n,e],[t,s]){const a=Ne(n,t);return a===0?Ne(e,s):a}class Ik{constructor(e){this.Pr=e,this.buffer=new Ct(dw),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();dw(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class kk{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){oe(uw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){lo(t)?oe(uw,"Ignoring IndexedDB error during garbage collection: ",t):await oo(t)}await this.Ar(3e5)}))}}class Rk{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return G.resolve(Cd.ce);const s=new Ik(t);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(cw)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cw):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,a,l,u,p,m,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),a=this.params.maximumSequenceNumbersToCollect):a=A,u=Date.now(),this.nthSequenceNumber(e,a)))).next((A=>(s=A,p=Date.now(),this.removeTargets(e,s,t)))).next((A=>(l=A,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(y=Date.now(),ja()<=Pe.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(p-u)+`ms
	Removed ${l} targets in `+(m-p)+`ms
	Removed ${A} documents in `+(y-m)+`ms
Total Duration: ${y-v}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:A}))))}}function Pk(n,e){return new Rk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.changes=new Qi((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?G.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&Fl(s.mutation,a,fn.empty(),Ze.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,De()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=De()){const a=bi();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((l=>{let u=gl();return l.forEach(((p,m)=>{u=u.insert(p,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const s=bi();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,De())))}populateOverlays(e,t,s){const a=[];return s.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,p)=>{t.set(u,p)}))}))}computeViews(e,t,s,a){let l=Jr();const u=El(),p=(function(){return El()})();return t.forEach(((m,y)=>{const v=s.get(y.key);a.has(y.key)&&(v===void 0||v.mutation instanceof ri)?l=l.insert(y.key,y):v!==void 0?(u.set(y.key,v.mutation.getFieldMask()),Fl(v.mutation,y,v.mutation.getFieldMask(),Ze.now())):u.set(y.key,fn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((y,v)=>u.set(y,v))),t.forEach(((y,v)=>p.set(y,new Dk(v,u.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,t){const s=El();let a=new it(((u,p)=>u-p)),l=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const p of u)p.keys().forEach((m=>{const y=t.get(m);if(y===null)return;let v=s.get(m)||fn.empty();v=p.applyToLocalView(y,v),s.set(m,v);const A=(a.get(p.batchId)||De()).add(m);a=a.insert(p.batchId,A)}))})).next((()=>{const u=[],p=a.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),y=m.key,v=m.value,A=Bv();v.forEach((E=>{if(!l.has(E)){const P=Qv(t.get(E),s.get(E));P!==null&&A.set(E,P),l=l.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,A))}return G.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return DI(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Lv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):G.resolve(bi());let p=Rl,m=l;return u.next((y=>G.forEach(y,((v,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),l.get(v)?G.resolve():this.remoteDocumentCache.getEntry(e,v).next((E=>{m=m.insert(v,E)}))))).next((()=>this.populateOverlays(e,y,l))).next((()=>this.computeViews(e,m,y,De()))).next((v=>({batchId:p,changes:Uv(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next((s=>{let a=gl();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let u=gl();return this.indexManager.getCollectionParents(e,l).next((p=>G.forEach(p,(m=>{const y=(function(A,E){return new co(E,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,s,a).next((v=>{v.forEach(((A,E)=>{u=u.insert(A,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a)))).next((u=>{l.forEach(((m,y)=>{const v=y.getKey();u.get(v)===null&&(u=u.insert(v,Ht.newInvalidDocument(v)))}));let p=gl();return u.forEach(((m,y)=>{const v=l.get(m);v!==void 0&&Fl(v.mutation,y,fn.empty(),Ze.now()),kd(t,y)&&(p=p.insert(m,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return G.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:_r(a.createTime)}})(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:Fk(a.bundledQuery),readTime:_r(a.readTime)}})(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.overlays=new it(ge.comparator),this.Lr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const s=bi();return G.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,l)=>{this.bt(e,t,l)})),G.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),G.resolve()}getOverlaysForCollection(e,t,s){const a=bi(),l=t.length+1,u=new ge(t.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const m=p.getNext().value,y=m.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return G.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new it(((y,v)=>y-v));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let v=l.get(y.largestBatchId);v===null&&(v=bi(),l=l.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const p=bi(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((y,v)=>p.set(y,v))),!(p.size()>=a)););return G.resolve(p)}bt(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new ZI(t,s));let l=this.Lr.get(t);l===void 0&&(l=De(),this.Lr.set(t,l)),this.Lr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this.kr=new Ct(kt.Kr),this.qr=new Ct(kt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new kt(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new kt(e,t))}Qr(e,t){e.forEach((s=>this.removeReference(s,t)))}Gr(e){const t=new ge(new Ge([])),s=new kt(t,e),a=new kt(t,e+1),l=[];return this.qr.forEachInRange([s,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new ge(new Ge([])),s=new kt(t,e),a=new kt(t,e+1);let l=De();return this.qr.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new kt(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return ge.comparator(e.key,t.key)||Ne(e.Hr,t.Hr)}static Ur(e,t){return Ne(e.Hr,t.Hr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Ct(kt.Kr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new XI(l,t,s,a);this.mutationQueue.push(u);for(const p of a)this.Jr=this.Jr.add(new kt(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return G.resolve(u)}lookupMutationBatch(e,t){return G.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.Xr(s),l=a<0?0:a;return G.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?Oh:this.Yn-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new kt(t,0),a=new kt(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(u=>{const p=this.Zr(u.Hr);l.push(p)})),G.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ct(Ne);return t.forEach((a=>{const l=new kt(a,0),u=new kt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(p=>{s=s.add(p.Hr)}))})),G.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;ge.isDocumentKey(l)||(l=l.child(""));const u=new kt(new ge(l),0);let p=new Ct(Ne);return this.Jr.forEachWhile((m=>{const y=m.key.path;return!!s.isPrefixOf(y)&&(y.length===a&&(p=p.add(m.Hr)),!0)}),u),G.resolve(this.Yr(p))}Yr(e){const t=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Be(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return G.forEach(t.mutations,(a=>{const l=new kt(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,t){const s=new kt(t,0),a=this.Jr.firstAfterOrEqual(s);return G.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.ti=e,this.docs=(function(){return new it(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,u=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return G.resolve(s?s.document.mutableCopy():Ht.newInvalidDocument(t))}getEntries(e,t){let s=Jr();return t.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Ht.newInvalidDocument(a))})),G.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=Jr();const u=t.path,p=new ge(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:y,value:{document:v}}=m.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||lI(oI(v),s)<=0||(a.has(v.key)||kd(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return G.resolve(l)}getAllFromCollectionGroup(e,t,s,a){xe(9500)}ni(e,t){return G.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new Uk(this)}getSize(e){return G.resolve(this.size)}}class Uk extends Nk{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),G.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.persistence=e,this.ri=new Qi((t=>Uh(t)),Bh),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.ii=0,this.si=new Kh,this.targetCount=0,this.oi=Za._r()}forEachTarget(e,t){return this.ri.forEach(((s,a)=>t(a))),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),G.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Za(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.lr(t),G.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.ri.forEach(((u,p)=>{p.sequenceNumber<=t&&s.get(p.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),a++)})),G.waitFor(l).next((()=>a))}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return G.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),G.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),G.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return G.resolve(s)}containsKey(e,t){return G.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,t){this._i={},this.overlays={},this.ai=new Cd(0),this.ui=!1,this.ui=!0,this.ci=new Ok,this.referenceDelegate=e(this),this.li=new Bk(this),this.indexManager=new Ck,this.remoteDocumentCache=(function(a){return new jk(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new Ek(t),this.Pi=new Lk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Mk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new Vk(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){oe("MemoryPersistence","Starting transaction:",e);const a=new zk(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,t){return G.or(Object.values(this._i).map((s=>()=>s.containsKey(e,t))))}}class zk extends uI{constructor(e){super(),this.currentSequenceNumber=e}}class Gh{constructor(e){this.persistence=e,this.Ri=new Kh,this.Ai=null}static Vi(e){return new Gh(e)}get di(){if(this.Ai)return this.Ai;throw xe(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),G.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),G.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.di,(s=>{const a=ge.fromPath(s);return this.mi(e,a).next((l=>{l||t.removeEntry(a,Fe.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return G.or([()=>G.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class ud{constructor(e,t){this.persistence=e,this.fi=new Qi((s=>hI(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=Pk(this,t)}static Vi(e,t){return new ud(e,t)}Ti(){}Ii(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}mr(e,t){return G.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?G.resolve():t(a)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,t).next((p=>{p||(s++,l.removeEntry(u,Fe.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),G.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),G.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Uu(e.data.value)),t}wr(e,t,s){return G.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return G.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=a}static Es(e,t){let s=De(),a=De();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Yh(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return mF()?8:dI(qt())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.gs(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,t,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new $k;return this.ys(e,t,u).next((p=>{if(l.result=p,this.As)return this.ws(e,t,u,p.size)}))})).next((()=>l.result))}ws(e,t,s,a){return s.documentReadCount<this.Vs?(ja()<=Pe.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Ua(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),G.resolve()):(ja()<=Pe.DEBUG&&oe("QueryEngine","Query:",Ua(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(ja()<=Pe.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Ua(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(t))):G.resolve())}gs(e,t){if(Zy(t))return G.resolve(null);let s=wr(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=od(t,null,"F"),s=wr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=De(...l);return this.fs.getDocuments(e,u).next((p=>this.indexManager.getMinOffset(e,s).next((m=>{const y=this.bs(t,p);return this.Ss(t,y,u,m.readTime)?this.gs(e,od(t,null,"F")):this.Ds(e,y,t,m)}))))})))))}ps(e,t,s,a){return Zy(t)||a.isEqual(Fe.min())?G.resolve(null):this.fs.getDocuments(e,s).next((l=>{const u=this.bs(t,l);return this.Ss(t,u,s,a)?G.resolve(null):(ja()<=Pe.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ua(t)),this.Ds(e,u,t,aI(a,Rl)).next((p=>p)))}))}bs(e,t){let s=new Ct(Vv(e));return t.forEach(((a,l)=>{kd(e,l)&&(s=s.add(l))})),s}Ss(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,t,s){return ja()<=Pe.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Ua(t)),this.fs.getDocumentsMatchingQuery(e,t,$s.min(),s)}Ds(e,t,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="LocalStore",qk=3e8;class Wk{constructor(e,t,s,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new it(Ne),this.Fs=new Qi((l=>Uh(l)),Bh),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bk(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function Qk(n,e,t,s){return new Wk(n,e,t,s)}async function c1(n,e){const t=Ee(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,t.Os(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],p=[];let m=De();for(const y of a){u.push(y.batchId);for(const v of y.mutations)m=m.add(v.key)}for(const y of l){p.push(y.batchId);for(const v of y.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(s,m).next((y=>({Ns:y,removedBatchIds:u,addedBatchIds:p})))}))}))}function Kk(n,e){const t=Ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(p,m,y,v){const A=y.batch,E=A.keys();let P=G.resolve();return E.forEach((B=>{P=P.next((()=>v.getEntry(m,B))).next((z=>{const M=y.docVersions.get(B);Be(M!==null,48541),z.version.compareTo(M)<0&&(A.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),v.addEntry(z)))}))})),P.next((()=>p.mutationQueue.removeMutationBatch(m,A)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let m=De();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(m=m.add(p.batch.mutations[y].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(s,a)))}))}function u1(n){const e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function Gk(n,e){const t=Ee(n),s=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const p=[];e.targetChanges.forEach(((v,A)=>{const E=a.get(A);if(!E)return;p.push(t.li.removeMatchingKeys(l,v.removedDocuments,A).next((()=>t.li.addMatchingKeys(l,v.addedDocuments,A))));let P=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(A)!==null?P=P.withResumeToken(Mt.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):v.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(v.resumeToken,s)),a=a.insert(A,P),(function(z,M,K){return z.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=qk?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(E,P,v)&&p.push(t.li.updateTargetData(l,P))}));let m=Jr(),y=De();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),p.push(Yk(l,u,e.documentUpdates).next((v=>{m=v.Bs,y=v.Ls}))),!s.isEqual(Fe.min())){const v=t.li.getLastRemoteSnapshotVersion(l).next((A=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));p.push(v)}return G.waitFor(p).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,y))).next((()=>m))})).then((l=>(t.vs=a,l)))}function Yk(n,e,t){let s=De(),a=De();return t.forEach((l=>s=s.add(l))),e.getEntries(n,s).next((l=>{let u=Jr();return t.forEach(((p,m)=>{const y=l.get(p);m.isFoundDocument()!==y.isFoundDocument()&&(a=a.add(p)),m.isNoDocument()&&m.version.isEqual(Fe.min())?(e.removeEntry(p,m.readTime),u=u.insert(p,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||m.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(m),u=u.insert(p,m)):oe(Jh,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",m.version)})),{Bs:u,Ls:a}}))}function Jk(n,e){const t=Ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Oh),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function Xk(n,e){const t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.li.getTargetData(s,e).next((l=>l?(a=l,G.resolve(a)):t.li.allocateTargetId(s).next((u=>(a=new Ls(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s}))}async function oh(n,e,t){const s=Ee(n),a=s.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!lo(u))throw u;oe(Jh,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function pw(n,e,t){const s=Ee(n);let a=Fe.min(),l=De();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,y,v){const A=Ee(m),E=A.Fs.get(v);return E!==void 0?G.resolve(A.vs.get(E)):A.li.getTargetData(y,v)})(s,u,wr(e)).next((p=>{if(p)return a=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,p.targetId).next((m=>{l=m}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,t?a:Fe.min(),t?l:De()))).next((p=>(Zk(s,MI(e),p),{documents:p,ks:l})))))}function Zk(n,e,t){let s=n.Ms.get(e)||Fe.min();t.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Ms.set(e,s)}class hw{constructor(){this.activeTargetIds=zI()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class e3{constructor(){this.vo=new hw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new hw,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="ConnectivityMonitor";class fw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){oe(mw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){oe(mw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku=null;function lh(){return ku===null?ku=(function(){return 268435456+Math.round(2147483648*Math.random())})():ku++,"0x"+ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="RestConnection",n3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class r3{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===sd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,t,s,a,l){const u=lh(),p=this.Qo(e,t.toUriEncodedString());oe(Pp,`Sending RPC '${e}' ${u}:`,p,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:y}=new URL(p),v=ei(y);return this.zo(e,p,m,s,v).then((A=>(oe(Pp,`Received RPC '${e}' ${u}: `,A),A)),(A=>{throw Bi(Pp,`RPC '${e}' ${u} failed with error: `,A,"url: ",p,"request:",s),A}))}jo(e,t,s,a,l,u){return this.Wo(e,t,s,a,l)}Go(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ao})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,t){const s=n3[e];let a=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection",cl=(n,e,t)=>{n.listen(e,(s=>{try{t(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Wa extends r3{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Wa.c_){const e=hv();cl(e,pv.STAT_EVENT,(t=>{t.stat===Yp.PROXY?oe(zt,"STAT_EVENT: detected buffering proxy"):t.stat===Yp.NOPROXY&&oe(zt,"STAT_EVENT: detected no buffering proxy")})),Wa.c_=!0}}zo(e,t,s,a,l){const u=lh();return new Promise(((p,m)=>{const y=new uv;y.setWithCredentials(!0),y.listenOnce(dv.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case ju.NO_ERROR:const A=y.getResponseJson();oe(zt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(A)),p(A);break;case ju.TIMEOUT:oe(zt,`RPC '${e}' ${u} timed out`),m(new ie(W.DEADLINE_EXCEEDED,"Request time out"));break;case ju.HTTP_ERROR:const E=y.getStatus();if(oe(zt,`RPC '${e}' ${u} failed with status:`,E,"response text:",y.getResponseText()),E>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const B=P==null?void 0:P.error;if(B&&B.status&&B.message){const z=(function(K){const Y=K.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Y)>=0?Y:W.UNKNOWN})(B.status);m(new ie(z,B.message))}else m(new ie(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new ie(W.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(zt,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(a);oe(zt,`RPC '${e}' ${u} sending request:`,a),y.send(t,"POST",v,s,15)}))}T_(e,t,s){const a=lh(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const y=l.join("");oe(zt,`Creating RPC '${e}' stream ${a}: ${y}`,p);const v=u.createWebChannel(y,p);this.I_(v);let A=!1,E=!1;const P=new s3({Ho:B=>{E?oe(zt,`Not sending because RPC '${e}' stream ${a} is closed:`,B):(A||(oe(zt,`Opening RPC '${e}' stream ${a} transport.`),v.open(),A=!0),oe(zt,`RPC '${e}' stream ${a} sending:`,B),v.send(B))},Jo:()=>v.close()});return cl(v,fl.EventType.OPEN,(()=>{E||(oe(zt,`RPC '${e}' stream ${a} transport opened.`),P.i_())})),cl(v,fl.EventType.CLOSE,(()=>{E||(E=!0,oe(zt,`RPC '${e}' stream ${a} transport closed`),P.o_(),this.E_(v))})),cl(v,fl.EventType.ERROR,(B=>{E||(E=!0,Bi(zt,`RPC '${e}' stream ${a} transport errored. Name:`,B.name,"Message:",B.message),P.o_(new ie(W.UNAVAILABLE,"The operation could not be completed")))})),cl(v,fl.EventType.MESSAGE,(B=>{var z;if(!E){const M=B.data[0];Be(!!M,16349);const K=M,Y=(K==null?void 0:K.error)||((z=K[0])==null?void 0:z.error);if(Y){oe(zt,`RPC '${e}' stream ${a} received error:`,Y);const Q=Y.status;let se=(function(S){const C=_t[S];if(C!==void 0)return Gv(C)})(Q),ue=Y.message;Q==="NOT_FOUND"&&ue.includes("database")&&ue.includes("does not exist")&&ue.includes(this.databaseId.database)&&Bi(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),se===void 0&&(se=W.INTERNAL,ue="Unknown error status: "+Q+" with message "+Y.message),E=!0,P.o_(new ie(se,ue)),v.close()}else oe(zt,`RPC '${e}' stream ${a} received:`,M),P.__(M)}})),Wa.u_(),setTimeout((()=>{P.s_()}),0),P}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return mv()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(n){return new Wa(n)}function Np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(n){return new ck(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wa.c_=!1;class d1{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&oe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="PersistentStream";class p1{constructor(e,t,s,a,l,u,p,m){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new d1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(Yr(t.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===t&&this.G_(s,a)}),(s=>{e((()=>{const a=new ie(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(gw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(oe(gw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class a3 extends p1{constructor(e,t,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=pk(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Fe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Fe.min():u.readTime?_r(u.readTime):Fe.min()})(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=ah(this.serializer),t.addTarget=(function(l,u){let p;const m=u.target;if(p=th(m)?{documents:fk(l,m)}:{query:n1(l,m).ft},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=Xv(l,u.resumeToken);const y=rh(l,u.expectedCount);y!==null&&(p.expectedCount=y)}else if(u.snapshotVersion.compareTo(Fe.min())>0){p.readTime=cd(l,u.snapshotVersion.toTimestamp());const y=rh(l,u.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=wk(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=ah(this.serializer),t.removeTarget=e,this.K_(t)}}class o3 extends p1{constructor(e,t,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=mk(e.writeResults,e.commitTime),s=_r(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=ah(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>hk(this.serializer,s)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{}class c3 extends l3{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ie(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,sh(t,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ie(W.UNKNOWN,l.toString())}))}jo(e,t,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,p])=>this.connection.jo(e,sh(t,s),a,u,p,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ie(W.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function u3(n,e,t,s){return new c3(n,e,t,s)}class d3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yr(t),this.aa=!1):oe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="RemoteStore";class p3{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{Ki(this)&&(oe(zi,"Restarting streams for network reachability change."),await(async function(m){const y=Ee(m);y.Ea.add(4),await Xl(y),y.Va.set("Unknown"),y.Ea.delete(4),await bd(y)})(this))}))})),this.Va=new d3(s,a)}}async function bd(n){if(Ki(n))for(const e of n.Ra)await e(!0)}async function Xl(n){for(const e of n.Ra)await e(!1)}function h1(n,e){const t=Ee(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),tm(t)?em(t):uo(t).O_()&&Zh(t,e))}function Xh(n,e){const t=Ee(n),s=uo(t);t.Ia.delete(e),s.O_()&&m1(t,e),t.Ia.size===0&&(s.O_()?s.L_():Ki(t)&&t.Va.set("Unknown"))}function Zh(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}uo(n).Z_(e)}function m1(n,e){n.da.$e(e),uo(n).X_(e)}function em(n){n.da=new ik({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),uo(n).start(),n.Va.ua()}function tm(n){return Ki(n)&&!uo(n).x_()&&n.Ia.size>0}function Ki(n){return Ee(n).Ea.size===0}function f1(n){n.da=void 0}async function h3(n){n.Va.set("Online")}async function m3(n){n.Ia.forEach(((e,t)=>{Zh(n,e)}))}async function f3(n,e){f1(n),tm(n)?(n.Va.ha(e),em(n)):n.Va.set("Unknown")}async function g3(n,e,t){if(n.Va.set("Online"),e instanceof Jv&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const p of l.targetIds)a.Ia.has(p)&&(await a.remoteSyncer.rejectListen(p,u),a.Ia.delete(p),a.da.removeTarget(p))})(n,e)}catch(s){oe(zi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await dd(n,s)}else if(e instanceof $u?n.da.Xe(e):e instanceof Yv?n.da.st(e):n.da.tt(e),!t.isEqual(Fe.min()))try{const s=await u1(n.localStore);t.compareTo(s)>=0&&await(function(l,u){const p=l.da.Tt(u);return p.targetChanges.forEach(((m,y)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(y);v&&l.Ia.set(y,v.withResumeToken(m.resumeToken,u))}})),p.targetMismatches.forEach(((m,y)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(Mt.EMPTY_BYTE_STRING,v.snapshotVersion)),m1(l,m);const A=new Ls(v.target,m,y,v.sequenceNumber);Zh(l,A)})),l.remoteSyncer.applyRemoteEvent(p)})(n,t)}catch(s){oe(zi,"Failed to raise snapshot:",s),await dd(n,s)}}async function dd(n,e,t){if(!lo(e))throw e;n.Ea.add(1),await Xl(n),n.Va.set("Offline"),t||(t=()=>u1(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{oe(zi,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await bd(n)}))}function g1(n,e){return e().catch((t=>dd(n,t,e)))}async function Ld(n){const e=Ee(n),t=Qs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Oh;for(;y3(e);)try{const a=await Jk(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,w3(e,a)}catch(a){await dd(e,a)}y1(e)&&w1(e)}function y3(n){return Ki(n)&&n.Ta.length<10}function w3(n,e){n.Ta.push(e);const t=Qs(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function y1(n){return Ki(n)&&!Qs(n).x_()&&n.Ta.length>0}function w1(n){Qs(n).start()}async function _3(n){Qs(n).ra()}async function v3(n){const e=Qs(n);for(const t of n.Ta)e.ea(t.mutations)}async function x3(n,e,t){const s=n.Ta.shift(),a=qh.from(s,e,t);await g1(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Ld(n)}async function A3(n,e){e&&Qs(n).Y_&&await(async function(s,a){if((function(u){return nk(u)&&u!==W.ABORTED})(a.code)){const l=s.Ta.shift();Qs(s).B_(),await g1(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Ld(s)}})(n,e),y1(n)&&w1(n)}async function yw(n,e){const t=Ee(n);t.asyncQueue.verifyOperationInProgress(),oe(zi,"RemoteStore received new credentials");const s=Ki(t);t.Ea.add(3),await Xl(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await bd(t)}async function E3(n,e){const t=Ee(n);e?(t.Ea.delete(2),await bd(t)):e||(t.Ea.add(2),await Xl(t),t.Va.set("Unknown"))}function uo(n){return n.ma||(n.ma=(function(t,s,a){const l=Ee(t);return l.sa(),new a3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:h3.bind(null,n),Yo:m3.bind(null,n),t_:f3.bind(null,n),J_:g3.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),tm(n)?em(n):n.Va.set("Unknown")):(await n.ma.stop(),f1(n))}))),n.ma}function Qs(n){return n.fa||(n.fa=(function(t,s,a){const l=Ee(t);return l.sa(),new o3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:_3.bind(null,n),t_:A3.bind(null,n),ta:v3.bind(null,n),na:x3.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Ld(n)):(await n.fa.stop(),n.Ta.length>0&&(oe(zi,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const u=Date.now()+s,p=new nm(e,t,u,a,l);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rm(n,e){if(Yr("AsyncQueue",`${e}: ${n}`),lo(n))return new ie(W.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{static emptySet(e){return new Qa(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=gl(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Qa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.ga=new it(ge.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):xe(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class eo{constructor(e,t,s,a,l,u,p,m,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,a,l){const u=[];return t.forEach((p=>{u.push({type:0,doc:p})})),new eo(e,t,Qa.emptySet(t),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class C3{constructor(){this.queries=_w(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=Ee(t),l=a.queries;a.queries=_w(),l.forEach(((u,p)=>{for(const m of p.ba)m.onError(s)}))})(this,new ie(W.ABORTED,"Firestore shutting down"))}}function _w(){return new Qi((n=>Ov(n)),Id)}async function _1(n,e){const t=Ee(n);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new F3,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const p=rm(u,`Initialization of query '${Ua(e.query)}' failed`);return void e.onError(p)}t.queries.set(a,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&sm(t)}async function v1(n,e){const t=Ee(n),s=e.query;let a=3;const l=t.queries.get(s);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function T3(n,e){const t=Ee(n);let s=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const p of u.ba)p.Fa(a)&&(s=!0);u.wa=a}}s&&sm(t)}function S3(n,e,t){const s=Ee(n),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(t);s.queries.delete(e)}function sm(n){n.Ca.forEach((e=>{e.next()}))}var ch,vw;(vw=ch||(ch={})).Ma="default",vw.Cache="cache";class x1{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ch.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.key=e}}class E1{constructor(e){this.key=e}}class I3{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=De(),this.mutatedKeys=De(),this.eu=Vv(e),this.tu=new Qa(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new ww,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,p=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,y=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,A)=>{const E=a.get(v),P=kd(this.query,A)?A:null,B=!!E&&this.mutatedKeys.has(E.key),z=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let M=!1;E&&P?E.data.isEqual(P.data)?B!==z&&(s.track({type:3,doc:P}),M=!0):this.su(E,P)||(s.track({type:2,doc:P}),M=!0,(m&&this.eu(P,m)>0||y&&this.eu(P,y)<0)&&(p=!0)):!E&&P?(s.track({type:0,doc:P}),M=!0):E&&!P&&(s.track({type:1,doc:E}),M=!0,(m||y)&&(p=!0)),M&&(P?(u=u.add(P),l=z?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:u,iu:s,Ss:p,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,A)=>(function(P,B){const z=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:M})}};return z(P)-z(B)})(v.type,A.type)||this.eu(v.doc,A.doc))),this.ou(s),a=a??!1;const p=t&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,y=m!==this.Xa;return this.Xa=m,u.length!==0||y?{snapshot:new eo(this.query,e.tu,l,u,e.mutatedKeys,m===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ww,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=De(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const t=[];return e.forEach((s=>{this.Ya.has(s)||t.push(new E1(s))})),this.Ya.forEach((s=>{e.has(s)||t.push(new A1(s))})),t}cu(e){this.Za=e.ks,this.Ya=De();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const im="SyncEngine";class k3{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class R3{constructor(e){this.key=e,this.hu=!1}}class P3{constructor(e,t,s,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Qi((p=>Ov(p)),Id),this.Iu=new Map,this.Eu=new Set,this.Ru=new it(ge.comparator),this.Au=new Map,this.Vu=new Kh,this.du={},this.mu=new Map,this.fu=Za.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function N3(n,e,t=!0){const s=k1(n);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await F1(s,e,t,!0),a}async function D3(n,e){const t=k1(n);await F1(t,e,!0,!1)}async function F1(n,e,t,s){const a=await Xk(n.localStore,wr(e)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let p;return s&&(p=await b3(n,e,l,u==="current",a.resumeToken)),n.isPrimaryClient&&t&&h1(n.remoteStore,a),p}async function b3(n,e,t,s,a){n.pu=(A,E,P)=>(async function(z,M,K,Y){let Q=M.view.ru(K);Q.Ss&&(Q=await pw(z.localStore,M.query,!1).then((({documents:S})=>M.view.ru(S,Q))));const se=Y&&Y.targetChanges.get(M.targetId),ue=Y&&Y.targetMismatches.get(M.targetId)!=null,me=M.view.applyChanges(Q,z.isPrimaryClient,se,ue);return Aw(z,M.targetId,me.au),me.snapshot})(n,A,E,P);const l=await pw(n.localStore,e,!0),u=new I3(e,l.ks),p=u.ru(l.documents),m=Jl.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),y=u.applyChanges(p,n.isPrimaryClient,m);Aw(n,t,y.au);const v=new k3(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),y.snapshot}async function L3(n,e,t){const s=Ee(n),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Id(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await oh(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&Xh(s.remoteStore,a.targetId),uh(s,a.targetId)})).catch(oo)):(uh(s,a.targetId),await oh(s.localStore,a.targetId,!0))}async function M3(n,e){const t=Ee(n),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Xh(t.remoteStore,s.targetId))}async function O3(n,e,t){const s=H3(n);try{const a=await(function(u,p){const m=Ee(u),y=Ze.now(),v=p.reduce(((P,B)=>P.add(B.key)),De());let A,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let B=Jr(),z=De();return m.xs.getEntries(P,v).next((M=>{B=M,B.forEach(((K,Y)=>{Y.isValidDocument()||(z=z.add(K))}))})).next((()=>m.localDocuments.getOverlayedDocuments(P,B))).next((M=>{A=M;const K=[];for(const Y of p){const Q=YI(Y,A.get(Y.key).overlayedDocument);Q!=null&&K.push(new ri(Y.key,Q,Iv(Q.value.mapValue),Un.exists(!0)))}return m.mutationQueue.addMutationBatch(P,y,K,p)})).next((M=>{E=M;const K=M.applyToLocalDocumentSet(A,z);return m.documentOverlayCache.saveOverlays(P,M.batchId,K)}))})).then((()=>({batchId:E.batchId,changes:Uv(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,p,m){let y=u.du[u.currentUser.toKey()];y||(y=new it(Ne)),y=y.insert(p,m),u.du[u.currentUser.toKey()]=y})(s,a.batchId,t),await Zl(s,a.changes),await Ld(s.remoteStore)}catch(a){const l=rm(a,"Failed to persist write");t.reject(l)}}async function C1(n,e){const t=Ee(n);try{const s=await Gk(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=t.Au.get(l);u&&(Be(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Be(u.hu,14607):a.removedDocuments.size>0&&(Be(u.hu,42227),u.hu=!1))})),await Zl(t,s,e)}catch(s){await oo(s)}}function xw(n,e,t){const s=Ee(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach(((l,u)=>{const p=u.view.va(e);p.snapshot&&a.push(p.snapshot)})),(function(u,p){const m=Ee(u);m.onlineState=p;let y=!1;m.queries.forEach(((v,A)=>{for(const E of A.ba)E.va(p)&&(y=!0)})),y&&sm(m)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function V3(n,e,t){const s=Ee(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new it(ge.comparator);u=u.insert(l,Ht.newNoDocument(l,Fe.min()));const p=De().add(l),m=new Nd(Fe.min(),new Map,new it(Ne),u,p);await C1(s,m),s.Ru=s.Ru.remove(l),s.Au.delete(e),am(s)}else await oh(s.localStore,e,!1).then((()=>uh(s,e,t))).catch(oo)}async function j3(n,e){const t=Ee(n),s=e.batch.batchId;try{const a=await Kk(t.localStore,e);S1(t,s,null),T1(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Zl(t,a)}catch(a){await oo(a)}}async function U3(n,e,t){const s=Ee(n);try{const a=await(function(u,p){const m=Ee(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return m.mutationQueue.lookupMutationBatch(y,p).next((A=>(Be(A!==null,37113),v=A.keys(),m.mutationQueue.removeMutationBatch(y,A)))).next((()=>m.mutationQueue.performConsistencyCheck(y))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(y,v,p))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>m.localDocuments.getDocuments(y,v)))}))})(s.localStore,e);S1(s,e,t),T1(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Zl(s,a)}catch(a){await oo(a)}}function T1(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function S1(n,e,t){const s=Ee(n);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function uh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((s=>{n.Vu.containsKey(s)||I1(n,s)}))}function I1(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(Xh(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),am(n))}function Aw(n,e,t){for(const s of t)s instanceof A1?(n.Vu.addReference(s.key,e),B3(n,s)):s instanceof E1?(oe(im,"Document no longer in limbo: "+s.key),n.Vu.removeReference(s.key,e),n.Vu.containsKey(s.key)||I1(n,s.key)):xe(19791,{wu:s})}function B3(n,e){const t=e.key,s=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(s)||(oe(im,"New document in limbo: "+t),n.Eu.add(s),am(n))}function am(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ge(Ge.fromString(e)),s=n.fu.next();n.Au.set(s,new R3(t)),n.Ru=n.Ru.insert(t,s),h1(n.remoteStore,new Ls(wr(zh(t.path)),s,"TargetPurposeLimboResolution",Cd.ce))}}async function Zl(n,e,t){const s=Ee(n),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,m)=>{u.push(s.pu(m,e,t).then((y=>{var v;if((y||t)&&s.isPrimaryClient){const A=y?!y.fromCache:(v=t==null?void 0:t.targetChanges.get(m.targetId))==null?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,A?"current":"not-current")}if(y){a.push(y);const A=Yh.Es(m.targetId,y);l.push(A)}})))})),await Promise.all(u),s.Pu.J_(a),await(async function(m,y){const v=Ee(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>G.forEach(y,(E=>G.forEach(E.Ts,(P=>v.persistence.referenceDelegate.addReference(A,E.targetId,P))).next((()=>G.forEach(E.Is,(P=>v.persistence.referenceDelegate.removeReference(A,E.targetId,P)))))))))}catch(A){if(!lo(A))throw A;oe(Jh,"Failed to update sequence numbers: "+A)}for(const A of y){const E=A.targetId;if(!A.fromCache){const P=v.vs.get(E),B=P.snapshotVersion,z=P.withLastLimboFreeSnapshotVersion(B);v.vs=v.vs.insert(E,z)}}})(s.localStore,l))}async function z3(n,e){const t=Ee(n);if(!t.currentUser.isEqual(e)){oe(im,"User change. New user:",e.toKey());const s=await c1(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((p=>{p.forEach((m=>{m.reject(new ie(W.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Zl(t,s.Ns)}}function $3(n,e){const t=Ee(n),s=t.Au.get(e);if(s&&s.hu)return De().add(s.key);{let a=De();const l=t.Iu.get(e);if(!l)return a;for(const u of l){const p=t.Tu.get(u);a=a.unionWith(p.view.nu)}return a}}function k1(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=C1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=V3.bind(null,e),e.Pu.J_=T3.bind(null,e.eventManager),e.Pu.yu=S3.bind(null,e.eventManager),e}function H3(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U3.bind(null,e),e}class pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Qk(this.persistence,new Hk,e.initialUser,this.serializer)}Cu(e){return new l1(Gh.Vi,this.serializer)}Du(e){return new e3}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pd.provider={build:()=>new pd};class q3 extends pd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Be(this.persistence.referenceDelegate instanceof ud,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new kk(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new l1((s=>ud.Vi(s,t)),this.serializer)}}class dh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>xw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=z3.bind(null,this.syncEngine),await E3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new C3})()}createDatastore(e){const t=Dd(e.databaseInfo.databaseId),s=i3(e.databaseInfo);return u3(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,l,u,p){return new p3(s,a,l,u,p)})(this.localStore,this.datastore,e.asyncQueue,(t=>xw(this.syncEngine,t,0)),(function(){return fw.v()?new fw:new t3})())}createSyncEngine(e,t){return(function(a,l,u,p,m,y,v){const A=new P3(a,l,u,p,m,y);return v&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(a){const l=Ee(a);oe(zi,"RemoteStore shutting down."),l.Ea.add(5),await Xl(l),l.Aa.shutdown(),l.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}dh.provider={build:()=>new dh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="FirestoreClient";class W3{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=a,this.user=$t.UNAUTHENTICATED,this.clientId=Mh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{oe(Ks,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(oe(Ks,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=rm(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Dp(n,e){n.asyncQueue.verifyOperationInProgress(),oe(Ks,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async a=>{s.isEqual(a)||(await c1(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Ew(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Q3(n);oe(Ks,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>yw(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,a)=>yw(e.remoteStore,a))),n._onlineComponents=e}async function Q3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){oe(Ks,"Using user provided OfflineComponentProvider");try{await Dp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===W.FAILED_PRECONDITION||a.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Bi("Error using user provided cache. Falling back to memory cache: "+t),await Dp(n,new pd)}}else oe(Ks,"Using default OfflineComponentProvider"),await Dp(n,new q3(void 0));return n._offlineComponents}async function om(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(oe(Ks,"Using user provided OnlineComponentProvider"),await Ew(n,n._uninitializedComponentsProvider._online)):(oe(Ks,"Using default OnlineComponentProvider"),await Ew(n,new dh))),n._onlineComponents}function K3(n){return om(n).then((e=>e.syncEngine))}function G3(n){return om(n).then((e=>e.datastore))}async function P1(n){const e=await om(n),t=e.eventManager;return t.onListen=N3.bind(null,e.syncEngine),t.onUnlisten=L3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=D3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=M3.bind(null,e.syncEngine),t}function Y3(n,e,t={}){const s=new yr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,p,m,y){const v=new R1({next:E=>{v.Nu(),u.enqueueAndForget((()=>v1(l,A)));const P=E.docs.has(p);!P&&E.fromCache?y.reject(new ie(W.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&E.fromCache&&m&&m.source==="server"?y.reject(new ie(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(E)},error:E=>y.reject(E)}),A=new x1(zh(p.path),v,{includeMetadataChanges:!0,Ka:!0});return _1(l,A)})(await P1(n),n.asyncQueue,e,t,s))),s.promise}function J3(n,e,t={}){const s=new yr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,p,m,y){const v=new R1({next:E=>{v.Nu(),u.enqueueAndForget((()=>v1(l,A))),E.fromCache&&m.source==="server"?y.reject(new ie(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(E)},error:E=>y.reject(E)}),A=new x1(p,v,{includeMetadataChanges:!0,Ka:!0});return _1(l,A)})(await P1(n),n.asyncQueue,e,t,s))),s.promise}function X3(n,e,t){const s=new yr;return n.asyncQueue.enqueueAndForget((async()=>{try{const a=await G3(n);s.resolve((async function(u,p,m){var z;const y=Ee(u),{request:v,gt:A,parent:E}=gk(y.serializer,bI(p),m);y.connection.Ko||delete v.parent;const P=(await y.jo("RunAggregationQuery",y.serializer.databaseId,E,v,1)).filter((M=>!!M.result));Be(P.length===1,64727);const B=(z=P[0].result)==null?void 0:z.aggregateFields;return Object.keys(B).reduce(((M,K)=>(M[A[K]]=B[K],M)),{})})(a,e,t))}catch(a){s.reject(a)}})),s.promise}function Z3(n,e){const t=new yr;return n.asyncQueue.enqueueAndForget((async()=>O3(await K3(n),e,t))),t.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="ComponentProvider",Fw=new Map;function tR(n,e,t,s,a){return new yI(n,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,N1(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="firestore.googleapis.com",Cw=!0;class Tw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ie(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=D1,this.ssl=Cw}else this.host=e.host,this.ssl=e.ssl??Cw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=o1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Sk)throw new ie(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Md{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new KS;switch(s.type){case"firstParty":return new XS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ie(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Fw.get(t);s&&(oe(eR,"Removing Datastore"),Fw.delete(t),s.terminate())})(this),Promise.resolve()}}function nR(n,e,t,s={}){var y;n=xr(n,Md);const a=ei(e),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},p=`${e}:${t}`;a&&(Ah(`https://${p}`),Eh("Firestore",!0)),l.host!==D1&&l.host!==p&&Bi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:p,ssl:a,emulatorOptions:s};if(!Oi(m,u)&&(n._setSettings(m),s.mockUserToken)){let v,A;if(typeof s.mockUserToken=="string")v=s.mockUserToken,A=$t.MOCK_USER;else{v=F_(s.mockUserToken,(y=n._app)==null?void 0:y.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new ie(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new $t(E)}n._authCredentials=new GS(new gv(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new si(this.firestore,e,this._query)}}class At{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Gl(t,At._jsonSchema))return new At(e,s||null,new ge(Ge.fromString(t.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:xt("string",At._jsonSchemaVersion),referencePath:xt("string")};class Us extends si{constructor(e,t,s){super(e,t,zh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new ge(e))}withConverter(e){return new Us(this.firestore,e,this._path)}}function sn(n,e,...t){if(n=ct(n),yv("collection","path",e),n instanceof Md){const s=Ge.fromString(e,...t);return jy(s),new Us(n,null,s)}{if(!(n instanceof At||n instanceof Us))throw new ie(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ge.fromString(e,...t));return jy(s),new Us(n.firestore,null,s)}}function Cr(n,e,...t){if(n=ct(n),arguments.length===1&&(e=Mh.newId()),yv("doc","path",e),n instanceof Md){const s=Ge.fromString(e,...t);return Vy(s),new At(n,null,new ge(s))}{if(!(n instanceof At||n instanceof Us))throw new ie(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ge.fromString(e,...t));return Vy(s),new At(n.firestore,n instanceof Us?n.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="AsyncQueue";class Iw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new d1(this,"async_queue_retry"),this._c=()=>{const s=Np();s&&oe(Sw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Np();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Np();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!lo(e))throw e;oe(Sw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Yr("INTERNAL UNHANDLED ERROR: ",kw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=nm.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&xe(47125,{Pc:kw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function kw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Gi extends Md{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new Iw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Iw(e),this._firestoreClient=void 0,await e}}}function rR(n,e){const t=typeof n=="object"?n:Th(),s=typeof n=="string"?n:sd,a=_d(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=x_("firestore");l&&nR(a,...l)}return a}function Od(n){if(n._terminated)throw new ie(W.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||sR(n),n._firestoreClient}function sR(n){var s,a,l,u;const e=n._freezeSettings(),t=tR(n._databaseId,((s=n._app)==null?void 0:s.options.appId)||"",n._persistenceKey,(a=n._app)==null?void 0:a.options.apiKey,e);n._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new W3(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this._byteString=e}static fromBase64String(e){try{return new In(Mt.fromBase64String(e))}catch(t){throw new ie(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new In(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:In._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gl(e,In._jsonSchema))return In.fromBase64String(e.bytes)}}In._jsonSchemaVersion="firestore/bytes/1.0",In._jsonSchema={type:xt("string",In._jsonSchemaVersion),bytes:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ie(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vr._jsonSchemaVersion}}static fromJSON(e){if(Gl(e,vr._jsonSchema))return new vr(e.latitude,e.longitude)}}vr._jsonSchemaVersion="firestore/geoPoint/1.0",vr._jsonSchema={type:xt("string",vr._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gl(e,Bn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Bn(e.vectorValues);throw new ie(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bn._jsonSchemaVersion="firestore/vectorValue/1.0",Bn._jsonSchema={type:xt("string",Bn._jsonSchemaVersion),vectorValues:xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=/^__.*__$/;class aR{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ri(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yl(e,this.data,t,this.fieldTransforms)}}class b1{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ri(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function L1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{dataSource:n})}}class cm{constructor(e,t,s,a,l,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new cm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var a;const t=(a=this.path)==null?void 0:a.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){var a;const t=(a=this.path)==null?void 0:a.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return hd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(L1(this.dataSource)&&iR.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class oR{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Dd(e)}createContext(e,t,s,a=!1){return new cm({dataSource:e,methodName:t,targetDoc:s,path:Lt.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function um(n){const e=n._freezeSettings(),t=Dd(n._databaseId);return new oR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lR(n,e,t,s,a,l={}){const u=n.createContext(l.merge||l.mergeFields?2:0,e,t,a);pm("Data must be an object, but it was:",u,s);const p=M1(s,u);let m,y;if(l.merge)m=new fn(u.fieldMask),y=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const A of l.mergeFields){const E=$i(e,A,t);if(!u.contains(E))throw new ie(W.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);j1(v,E)||v.push(E)}m=new fn(v),y=u.fieldTransforms.filter((A=>m.covers(A.field)))}else m=null,y=u.fieldTransforms;return new aR(new Yt(p),m,y)}class jd extends Vd{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jd}}class dm extends Vd{_toFieldTransform(e){return new WI(e.path,new Ll)}isEqual(e){return e instanceof dm}}function cR(n,e,t,s){const a=n.createContext(1,e,t);pm("Data must be an object, but it was:",a,s);const l=[],u=Yt.empty();ni(s,((m,y)=>{const v=V1(e,m,t);y=ct(y);const A=a.childContextForFieldPath(v);if(y instanceof jd)l.push(v);else{const E=ec(y,A);E!=null&&(l.push(v),u.set(v,E))}}));const p=new fn(l);return new b1(u,p,a.fieldTransforms)}function uR(n,e,t,s,a,l){const u=n.createContext(1,e,t),p=[$i(e,s,t)],m=[a];if(l.length%2!=0)throw new ie(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)p.push($i(e,l[E])),m.push(l[E+1]);const y=[],v=Yt.empty();for(let E=p.length-1;E>=0;--E)if(!j1(y,p[E])){const P=p[E];let B=m[E];B=ct(B);const z=u.childContextForFieldPath(P);if(B instanceof jd)y.push(P);else{const M=ec(B,z);M!=null&&(y.push(P),v.set(P,M))}}const A=new fn(y);return new b1(v,A,u.fieldTransforms)}function dR(n,e,t,s=!1){return ec(t,n.createContext(s?4:3,e))}function ec(n,e){if(O1(n=ct(n)))return pm("Unsupported field value:",e,n),M1(n,e);if(n instanceof Vd)return(function(s,a){if(!L1(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const p of s){let m=ec(p,a.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(n,e)}return(function(s,a){if((s=ct(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return $I(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ze.fromDate(s);return{timestampValue:cd(a.serializer,l)}}if(s instanceof Ze){const l=new Ze(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:cd(a.serializer,l)}}if(s instanceof vr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof In)return{bytesValue:Xv(a.serializer,s._byteString)};if(s instanceof At){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Qh(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Bn)return(function(u,p){const m=u instanceof Bn?u.toArray():u;return{mapValue:{fields:{[Tv]:{stringValue:Sv},[id]:{arrayValue:{values:m.map((v=>{if(typeof v!="number")throw p.createError("VectorValues must only contain numeric values.");return $h(p.serializer,v)}))}}}}}})(s,a);if(a1(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Fd(s)}`)})(n,e)}function M1(n,e){const t={};return vv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ni(n,((s,a)=>{const l=ec(a,e.childContextForField(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function O1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ze||n instanceof vr||n instanceof In||n instanceof At||n instanceof Vd||n instanceof Bn||a1(n))}function pm(n,e,t){if(!O1(t)||!wv(t)){const s=Fd(t);throw s==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+s)}}function $i(n,e,t){if((e=ct(e))instanceof lm)return e._internalPath;if(typeof e=="string")return V1(n,e);throw hd("Field path arguments must be of type string or ",n,!1,void 0,t)}const pR=new RegExp("[~\\*/\\[\\]]");function V1(n,e,t){if(e.search(pR)>=0)throw hd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new lm(...e.split("."))._internalPath}catch{throw hd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function hd(n,e,t,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${s}`),u&&(m+=` in document ${a}`),m+=")"),new ie(W.INVALID_ARGUMENT,p+n+m)}function j1(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{convertValue(e,t="none"){switch(Ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ni(e,((a,l)=>{s[a]=this.convertValue(l,t)})),s}convertVectorValue(e){var s,a,l;const t=(l=(a=(s=e.fields)==null?void 0:s[id].arrayValue)==null?void 0:a.values)==null?void 0:l.map((u=>ft(u.doubleValue)));return new Bn(t)}convertGeoPoint(e){return new vr(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Sd(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const t=Hs(e);return new Ze(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ge.fromString(e);Be(i1(s),9688,{name:e});const a=new Nl(s.get(1),s.get(3)),l=new ge(s.popFirst(5));return a.isEqual(t)||Yr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm extends hR{constructor(e){super(),this.firestore=e}convertBytes(e){return new In(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,t)}}function tc(){return new dm("serverTimestamp")}const Rw="@firebase/firestore",Pw="4.11.0";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class fR{constructor(e,t,s){this._userDataWriter=t,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new Yt({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field($i("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class gR extends U1{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ie(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mm{}class fm extends mm{}function zn(n,e,...t){let s=[];e instanceof mm&&s.push(e),s=s.concat(t),(function(l){const u=l.filter((m=>m instanceof gm)).length,p=l.filter((m=>m instanceof Ud)).length;if(u>1||u>0&&p>0)throw new ie(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)n=a._apply(n);return n}class Ud extends fm{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Ud(e,t,s)}_apply(e){const t=this._parse(e);return z1(e._query,t),new si(e.firestore,e.converter,nh(e._query,t))}_parse(e){const t=um(e.firestore);return(function(l,u,p,m,y,v,A){let E;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ie(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Dw(A,v);const B=[];for(const z of A)B.push(Nw(m,l,z));E={arrayValue:{values:B}}}else E=Nw(m,l,A)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Dw(A,v),E=dR(p,u,A,v==="in"||v==="not-in");return vt.create(y,v,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Bs(n,e,t){const s=e,a=$i("where",n);return Ud._create(a,s,t)}class gm extends mm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gm(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:qn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let u=a;const p=l.getFlattenedFilters();for(const m of p)z1(u,m),u=nh(u,m)})(e._query,t),new si(e.firestore,e.converter,nh(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ym extends fm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ym(e,t)}_apply(e){const t=(function(a,l,u){if(a.startAt!==null)throw new ie(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ie(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bl(l,u)})(e._query,this._field,this._direction);return new si(e.firestore,e.converter,LI(e._query,t))}}function Gs(n,e="asc"){const t=e,s=$i("orderBy",n);return ym._create(s,t)}class wm extends fm{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new wm(e,t,s)}_apply(e){return new si(e.firestore,e.converter,od(e._query,this._limit,this._limitType))}}function B1(n){return iI("limit",n),wm._create("limit",n,"F")}function Nw(n,e,t){if(typeof(t=ct(t))=="string"){if(t==="")throw new ie(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lv(e)&&t.indexOf("/")!==-1)throw new ie(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ge.fromString(t));if(!ge.isDocumentKey(s))throw new ie(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Qy(n,new ge(s))}if(t instanceof At)return Qy(n,t._key);throw new ie(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fd(t)}.`)}function Dw(n,e){if(!Array.isArray(n)||n.length===0)throw new ie(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function z1(n,e){const t=(function(a,l){for(const u of a)for(const p of u.getFlattenedFilters())if(l.indexOf(p.op)>=0)return p.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ie(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function wR(n,e,t){let s;return s=n?n.toFirestore(e):e,s}function _R(){return new mR("count")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(n){return vR(n,{count:_R()})}function vR(n,e){const t=xr(n.firestore,Gi),s=Od(t),a=fI(e,((l,u)=>new ek(u,l.aggregateType,l._internalFieldPath)));return X3(s,n._query,a).then((l=>(function(p,m,y){const v=new hm(p);return new fR(m,v,y)})(t,n,l)))}class wl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Li extends U1{constructor(e,t,s,a,l,u){super(e,t,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field($i("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Li._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Li._jsonSchemaVersion="firestore/documentSnapshot/1.0",Li._jsonSchema={type:xt("string",Li._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class Hu extends Li{data(e={}){return super.data(e)}}class Ka{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new wl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Hu(this._firestore,this._userDataWriter,s.key,s,new wl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ie(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((p=>{const m=new Hu(a._firestore,a._userDataWriter,p.doc.key,p.doc,new wl(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((p=>l||p.type!==3)).map((p=>{const m=new Hu(a._firestore,a._userDataWriter,p.doc.key,p.doc,new wl(a._snapshot.mutatedKeys.has(p.doc.key),a._snapshot.fromCache),a.query.converter);let y=-1,v=-1;return p.type!==0&&(y=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),p.type!==1&&(u=u.add(p.doc),v=u.indexOf(p.doc.key)),{type:xR(p.type),doc:m,oldIndex:y,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ka._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:n})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ka._jsonSchemaVersion="firestore/querySnapshot/1.0",Ka._jsonSchema={type:xt("string",Ka._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(n){n=xr(n,At);const e=xr(n.firestore,Gi),t=Od(e);return Y3(t,n._key).then((s=>ER(e,n,s)))}function Yi(n){n=xr(n,si);const e=xr(n.firestore,Gi),t=Od(e),s=new hm(e);return yR(n._query),J3(t,n._query).then((a=>new Ka(e,s,n,a)))}function _m(n,e,t,...s){n=xr(n,At);const a=xr(n.firestore,Gi),l=um(a);let u;return u=typeof(e=ct(e))=="string"||e instanceof lm?uR(l,"updateDoc",n._key,e,t,s):cR(l,"updateDoc",n._key,e),vm(a,[u.toMutation(n._key,Un.exists(!0))])}function nc(n){return vm(xr(n.firestore,Gi),[new Hh(n._key,Un.none())])}function rc(n,e){const t=xr(n.firestore,Gi),s=Cr(n),a=wR(n.converter,e),l=um(n.firestore);return vm(t,[lR(l,"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,Un.exists(!1))]).then((()=>s))}function vm(n,e){const t=Od(n);return Z3(t,e)}function ER(n,e,t){const s=t.docs.get(e._key),a=new hm(n);return new Li(n,a,e._key,s,new wl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){QS(qi),Vi(new zs("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),p=new Gi(new YS(s.getProvider("auth-internal")),new ZS(u,s.getProvider("app-check-internal")),wI(u,a),u);return l={useFetchStreams:t,...l},p._setSettings(l),p}),"PUBLIC").setMultipleInstances(!0)),mr(Rw,Pw,e),mr(Rw,Pw,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="firebasestorage.googleapis.com",H1="storageBucket",FR=120*1e3,CR=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt extends Fr{constructor(e,t,s=0){super(Lp(e),`Firebase Storage: ${t} (${Lp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ut;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ut||(ut={}));function Lp(n){return"storage/"+n}function xm(){const n="An unknown error occurred, please check the error payload for server response.";return new dt(ut.UNKNOWN,n)}function TR(n){return new dt(ut.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function SR(n){return new dt(ut.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function IR(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt(ut.UNAUTHENTICATED,n)}function kR(){return new dt(ut.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function RR(n){return new dt(ut.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function PR(){return new dt(ut.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function NR(){return new dt(ut.CANCELED,"User canceled the upload/download.")}function DR(n){return new dt(ut.INVALID_URL,"Invalid URL '"+n+"'.")}function bR(n){return new dt(ut.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function LR(){return new dt(ut.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+H1+"' property when initializing the app?")}function MR(){return new dt(ut.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function OR(){return new dt(ut.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function VR(n){return new dt(ut.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ph(n){return new dt(ut.INVALID_ARGUMENT,n)}function q1(){return new dt(ut.APP_DELETED,"The Firebase app was deleted.")}function jR(n){return new dt(ut.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Cl(n,e){return new dt(ut.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function ul(n){throw new dt(ut.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=gn.makeFromUrl(e,t)}catch{return new gn(e,"")}if(s.path==="")return s;throw bR(e)}static makeFromUrl(e,t){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const u="(/(.*))?$",p=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function y(se){se.path_=decodeURIComponent(se.path)}const v="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",P=new RegExp(`^https?://${A}/${v}/b/${a}/o${E}`,"i"),B={bucket:1,path:3},z=t===$1?"(?:storage.googleapis.com|storage.cloud.google.com)":t,M="([^?#]*)",K=new RegExp(`^https?://${z}/${a}/${M}`,"i"),Q=[{regex:p,indices:m,postModify:l},{regex:P,indices:B,postModify:y},{regex:K,indices:{bucket:1,path:2},postModify:y}];for(let se=0;se<Q.length;se++){const ue=Q[se],me=ue.regex.exec(e);if(me){const S=me[ue.indices.bucket];let C=me[ue.indices.path];C||(C=""),s=new gn(S,C),ue.postModify(s);break}}if(s==null)throw DR(e);return s}}class UR{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(n,e,t){let s=1,a=null,l=null,u=!1,p=0;function m(){return p===2}let y=!1;function v(...M){y||(y=!0,e.apply(null,M))}function A(M){a=setTimeout(()=>{a=null,n(P,m())},M)}function E(){l&&clearTimeout(l)}function P(M,...K){if(y){E();return}if(M){E(),v.call(null,M,...K);return}if(m()||u){E(),v.call(null,M,...K);return}s<64&&(s*=2);let Q;p===1?(p=2,Q=0):Q=(s+Math.random())*1e3,A(Q)}let B=!1;function z(M){B||(B=!0,E(),!y&&(a!==null?(M||(p=2),clearTimeout(a),A(0)):M||(p=1)))}return A(0),l=setTimeout(()=>{u=!0,z(!0)},t),z}function zR(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(n){return n!==void 0}function HR(n){return typeof n=="object"&&!Array.isArray(n)}function Am(n){return typeof n=="string"||n instanceof String}function bw(n){return Em()&&n instanceof Blob}function Em(){return typeof Blob<"u"}function Lw(n,e,t,s){if(s<e)throw ph(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw ph(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(n,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${n}`}function W1(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const a=e(s)+"="+e(n[s]);t=t+a+"&"}return t=t.slice(0,-1),t}var Mi;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Mi||(Mi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,t,s,a,l,u,p,m,y,v,A,E=!0,P=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=p,this.errorCallback_=m,this.timeout_=y,this.progressCallback_=v,this.connectionFactory_=A,this.retry=E,this.isUsingEmulator=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,z)=>{this.resolve_=B,this.reject_=z,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new Ru(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=p=>{const m=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,y)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const p=l.getErrorCode()===Mi.NO_ERROR,m=l.getStatus();if(!p||qR(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Mi.ABORT;s(!1,new Ru(!1,null,v));return}const y=this.successCodes_.indexOf(m)!==-1;s(!0,new Ru(y,l))})},t=(s,a)=>{const l=this.resolve_,u=this.reject_,p=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(p,p.getResponse());$R(m)?l(m):l()}catch(m){u(m)}else if(p!==null){const m=xm();m.serverResponse=p.getErrorText(),this.errorCallback_?u(this.errorCallback_(p,m)):u(m)}else if(a.canceled){const m=this.appDelete_?q1():NR();u(m)}else{const m=PR();u(m)}};this.canceled_?t(!1,new Ru(!1,null,!0)):this.backoffId_=BR(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ru{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function QR(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function KR(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function GR(n,e){e&&(n["X-Firebase-GMPID"]=e)}function YR(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function JR(n,e,t,s,a,l,u=!0,p=!1){const m=W1(n.urlParams),y=n.url+m,v=Object.assign({},n.headers);return GR(v,e),QR(v,t),KR(v,l),YR(v,s),new WR(y,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,u,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ZR(...n){const e=XR();if(e!==void 0){const t=new e;for(let s=0;s<n.length;s++)t.append(n[s]);return t.getBlob()}else{if(Em())return new Blob(n);throw new dt(ut.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function eP(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(n){if(typeof atob>"u")throw VR("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Mp{constructor(e,t){this.data=e,this.contentType=t||null}}function nP(n,e){switch(n){case hr.RAW:return new Mp(Q1(e));case hr.BASE64:case hr.BASE64URL:return new Mp(K1(n,e));case hr.DATA_URL:return new Mp(sP(e),iP(e))}throw xm()}function Q1(n){const e=[];for(let t=0;t<n.length;t++){let s=n.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=s,u=n.charCodeAt(++t);s=65536|(l&1023)<<10|u&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function rP(n){let e;try{e=decodeURIComponent(n)}catch{throw Cl(hr.DATA_URL,"Malformed data URL.")}return Q1(e)}function K1(n,e){switch(n){case hr.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Cl(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case hr.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Cl(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=tP(e)}catch(a){throw a.message.includes("polyfill")?a:Cl(n,"Invalid character found")}const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}class G1{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Cl(hr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=aP(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function sP(n){const e=new G1(n);return e.base64?K1(hr.BASE64,e.rest):rP(e.rest)}function iP(n){return new G1(n).contentType}function aP(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t){let s=0,a="";bw(e)?(this.data_=e,s=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(bw(this.data_)){const s=this.data_,a=eP(s,e,t);return a===null?null:new bs(a)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new bs(s,!0)}}static getBlob(...e){if(Em()){const t=e.map(s=>s instanceof bs?s.data_:s);return new bs(ZR.apply(null,t))}else{const t=e.map(u=>Am(u)?nP(hr.RAW,u).data:u.data_);let s=0;t.forEach(u=>{s+=u.byteLength});const a=new Uint8Array(s);let l=0;return t.forEach(u=>{for(let p=0;p<u.length;p++)a[l++]=u[p]}),new bs(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(n){let e;try{e=JSON.parse(n)}catch{return null}return HR(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function lP(n,e){const t=e.split("/").filter(s=>s.length>0).join("/");return n.length===0?t:n+"/"+t}function J1(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(n,e){return e}class Gt{constructor(e,t,s,a){this.server=e,this.local=t||e,this.writable=!!s,this.xform=a||cP}}let Pu=null;function uP(n){return!Am(n)||n.length<2?n:J1(n)}function X1(){if(Pu)return Pu;const n=[];n.push(new Gt("bucket")),n.push(new Gt("generation")),n.push(new Gt("metageneration")),n.push(new Gt("name","fullPath",!0));function e(l,u){return uP(u)}const t=new Gt("name");t.xform=e,n.push(t);function s(l,u){return u!==void 0?Number(u):u}const a=new Gt("size");return a.xform=s,n.push(a),n.push(new Gt("timeCreated")),n.push(new Gt("updated")),n.push(new Gt("md5Hash",null,!0)),n.push(new Gt("cacheControl",null,!0)),n.push(new Gt("contentDisposition",null,!0)),n.push(new Gt("contentEncoding",null,!0)),n.push(new Gt("contentLanguage",null,!0)),n.push(new Gt("contentType",null,!0)),n.push(new Gt("metadata","customMetadata",!0)),Pu=n,Pu}function dP(n,e){function t(){const s=n.bucket,a=n.fullPath,l=new gn(s,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function pP(n,e,t){const s={};s.type="file";const a=t.length;for(let l=0;l<a;l++){const u=t[l];s[u.local]=u.xform(s,e[u.server])}return dP(s,n),s}function Z1(n,e,t){const s=Y1(e);return s===null?null:pP(n,s,t)}function hP(n,e,t,s){const a=Y1(e);if(a===null||!Am(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(y=>{const v=n.bucket,A=n.fullPath,E="/b/"+u(v)+"/o/"+u(A),P=Bd(E,t,s),B=W1({alt:"media",token:y});return P+B})[0]}function mP(n,e){const t={},s=e.length;for(let a=0;a<s;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class Fm{constructor(e,t,s,a){this.url=e,this.method=t,this.handler=s,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(n){if(!n)throw xm()}function fP(n,e){function t(s,a){const l=Z1(n,a,e);return e0(l!==null),l}return t}function gP(n,e){function t(s,a){const l=Z1(n,a,e);return e0(l!==null),hP(l,a,n.host,n._protocol)}return t}function t0(n){function e(t,s){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=kR():a=IR():t.getStatus()===402?a=SR(n.bucket):t.getStatus()===403?a=RR(n.path):a=s,a.status=t.getStatus(),a.serverResponse=s.serverResponse,a}return e}function n0(n){const e=t0(n);function t(s,a){let l=e(s,a);return s.getStatus()===404&&(l=TR(n.path)),l.serverResponse=a.serverResponse,l}return t}function yP(n,e,t){const s=e.fullServerUrl(),a=Bd(s,n.host,n._protocol),l="GET",u=n.maxOperationRetryTime,p=new Fm(a,l,gP(n,t),u);return p.errorHandler=n0(e),p}function wP(n,e){const t=e.fullServerUrl(),s=Bd(t,n.host,n._protocol),a="DELETE",l=n.maxOperationRetryTime;function u(m,y){}const p=new Fm(s,a,u,l);return p.successCodes=[200,204],p.errorHandler=n0(e),p}function _P(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function vP(n,e,t){const s=Object.assign({},t);return s.fullPath=n.path,s.size=e.size(),s.contentType||(s.contentType=_P(null,e)),s}function xP(n,e,t,s,a){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function p(){let Q="";for(let se=0;se<2;se++)Q=Q+Math.random().toString().slice(2);return Q}const m=p();u["Content-Type"]="multipart/related; boundary="+m;const y=vP(e,s,a),v=mP(y,t),A="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+m+`\r
Content-Type: `+y.contentType+`\r
\r
`,E=`\r
--`+m+"--",P=bs.getBlob(A,s,E);if(P===null)throw MR();const B={name:y.fullPath},z=Bd(l,n.host,n._protocol),M="POST",K=n.maxUploadRetryTime,Y=new Fm(z,M,fP(n,t),K);return Y.urlParams=B,Y.headers=u,Y.body=P.uploadData(),Y.errorHandler=t0(e),Y}class AP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Mi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Mi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Mi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,a,l){if(this.sent_)throw ul("cannot .send() more than once");if(ei(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ul("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ul("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ul("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ul("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class EP extends AP{initXhr(){this.xhr_.responseType="text"}}function Cm(){return new EP}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,t){this._service=e,t instanceof gn?this._location=t:this._location=gn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Hi(e,t)}get root(){const e=new gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return J1(this._location.path)}get storage(){return this._service}get parent(){const e=oP(this._location.path);if(e===null)return null;const t=new gn(this._location.bucket,e);return new Hi(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw jR(e)}}function FP(n,e,t){n._throwIfRoot("uploadBytes");const s=xP(n.storage,n._location,X1(),new bs(e,!0),t);return n.storage.makeRequestWithTokens(s,Cm).then(a=>({metadata:a,ref:n}))}function CP(n){n._throwIfRoot("getDownloadURL");const e=yP(n.storage,n._location,X1());return n.storage.makeRequestWithTokens(e,Cm).then(t=>{if(t===null)throw OR();return t})}function TP(n){n._throwIfRoot("deleteObject");const e=wP(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Cm)}function SP(n,e){const t=lP(n._location.path,e),s=new gn(n._location.bucket,t);return new Hi(n.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(n){return/^[A-Za-z]+:\/\//.test(n)}function kP(n,e){return new Hi(n,e)}function r0(n,e){if(n instanceof Tm){const t=n;if(t._bucket==null)throw LR();const s=new Hi(t,t._bucket);return e!=null?r0(s,e):s}else return e!==void 0?SP(n,e):n}function RP(n,e){if(e&&IP(e)){if(n instanceof Tm)return kP(n,e);throw ph("To use ref(service, url), the first argument must be a Storage instance.")}else return r0(n,e)}function Mw(n,e){const t=e==null?void 0:e[H1];return t==null?null:gn.makeFromBucketSpec(t,n)}function PP(n,e,t,s={}){n.host=`${e}:${t}`;const a=ei(e);a&&(Ah(`https://${n.host}/b`),Eh("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(n._overrideAuthToken=typeof l=="string"?l:F_(l,n.app.options.projectId))}class Tm{constructor(e,t,s,a,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=$1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=FR,this._maxUploadRetryTime=CR,this._requests=new Set,a!=null?this._bucket=gn.makeFromBucketSpec(a,this._host):this._bucket=Mw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gn.makeFromBucketSpec(this._url,e):this._bucket=Mw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Lw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Lw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hi(this,e)}_makeRequest(e,t,s,a,l=!0){if(this._deleted)return new UR(q1());{const u=JR(e,this._appId,s,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,a).getPromise()}}const Ow="@firebase/storage",Vw="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="storage";function Vl(n,e,t){return n=ct(n),FP(n,e,t)}function jl(n){return n=ct(n),CP(n)}function hh(n){return n=ct(n),TP(n)}function Ys(n,e){return n=ct(n),RP(n,e)}function NP(n=Th(),e){n=ct(n);const s=_d(n,s0).getImmediate({identifier:e}),a=x_("storage");return a&&DP(s,...a),s}function DP(n,e,t,s={}){PP(n,e,t,s)}function bP(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new Tm(t,s,a,e,qi)}function LP(){Vi(new zs(s0,bP,"PUBLIC").setMultipleInstances(!0)),mr(Ow,Vw,""),mr(Ow,Vw,"esm2020")}LP();const MP={apiKey:"AIzaSyD_jwiALUoQcZIOkfhgvJ1MTUsD4mQD8cU",authDomain:`studomate1.firebaseapp.com
`,projectId:"studomate1",storageBucket:"studomate1.firebasestorage.app",messagingSenderId:"819063499606",appId:"1:819063499606:web:79b8457a7333050e0404f7"},Sm=S_(MP),Im=qS(Sm),at=rR(Sm),Js=NP(Sm),jw=n=>{let e;const t=new Set,s=(y,v)=>{const A=typeof y=="function"?y(e):y;if(!Object.is(A,e)){const E=e;e=v??(typeof A!="object"||A===null)?A:Object.assign({},e,A),t.forEach(P=>P(e,E))}},a=()=>e,p={setState:s,getState:a,getInitialState:()=>m,subscribe:y=>(t.add(y),()=>t.delete(y))},m=e=n(s,a,p);return p},OP=(n=>n?jw(n):jw),VP=n=>n;function jP(n,e=VP){const t=xu.useSyncExternalStore(n.subscribe,xu.useCallback(()=>e(n.getState()),[n,e]),xu.useCallback(()=>e(n.getInitialState()),[n,e]));return xu.useDebugValue(t),t}const Uw=n=>{const e=OP(n),t=s=>jP(e,s);return Object.assign(t,e),t},UP=(n=>n?Uw(n):Uw),sc=UP(n=>({user:null,adminProfile:null,loading:!0,setUser:e=>n({user:e}),setAdminProfile:e=>n({adminProfile:e}),setLoading:e=>n({loading:e}),checkUserRole:async e=>{try{const t=await AR(Cr(at,"admins",e));t.exists()?n({adminProfile:t.data()}):n({adminProfile:null})}catch(t){console.error("Error fetching admin profile:",t),t.code==="permission-denied"&&console.error('Check your Firestore Security Rules. You might not have permission to read the "admins" collection.'),n({adminProfile:null})}}})),BP=()=>{const n=fd(),{setUser:e,setAdminProfile:t}=sc(),s=async()=>{try{await Im.signOut(),e(null),t(null),n("/login")}catch(l){console.error("Error signing out:",l)}},a=[{path:"/dashboard",label:"Dashboard",icon:PE},{path:"/universities",label:"Manage Universities",icon:Bp},{path:"/modules",label:"Modules",icon:cE},{path:"/exams",label:"Exams",icon:Ku},{path:"/tests",label:"Tests",icon:FE},{path:"/supplementary-exams",label:"Supp. Exams",icon:AE},{path:"/users",label:"Manage Users",icon:ry},{path:"/analytics",label:"Analytics",icon:p_},{path:"/announcements",label:"Announcements",icon:m_}];return w.jsxs("div",{"trae-inspector-start-line":"47","trae-inspector-start-column":"4","trae-inspector-end-line":"92","trae-inspector-end-column":"10","trae-inspector-file-path":"src/components/Sidebar.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"h-screen w-64 bg-gradient-to-b from-blue-600 to-blue-800 text-white flex flex-col fixed left-0 top-0 z-10",children:[w.jsxs("div",{"trae-inspector-start-line":"48","trae-inspector-start-column":"6","trae-inspector-end-line":"53","trae-inspector-end-column":"12","trae-inspector-file-path":"src/components/Sidebar.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"p-6 flex items-center space-x-3",children:[w.jsx("div",{"trae-inspector-start-line":"49","trae-inspector-start-column":"8","trae-inspector-end-line":"51","trae-inspector-end-column":"14","trae-inspector-file-path":"src/components/Sidebar.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-white/10 p-2 rounded-lg",children:w.jsx(Bp,{className:"h-8 w-8 text-white"})}),w.jsx("span",{"trae-inspector-start-line":"52","trae-inspector-start-column":"8","trae-inspector-end-line":"52","trae-inspector-end-column":"62","trae-inspector-file-path":"src/components/Sidebar.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22StudentMATE%22%2C%22textStartLine%22%3A%2252%22%2C%22textStartColumn%22%3A%2244%22%2C%22textEndLine%22%3A%2252%22%2C%22textEndColumn%22%3A%2255%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-xl font-bold",children:"StudentMATE"})]}),w.jsx("nav",{"trae-inspector-start-line":"55","trae-inspector-start-column":"6","trae-inspector-end-line":"72","trae-inspector-end-column":"12","trae-inspector-file-path":"src/components/Sidebar.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto",children:a.map(l=>w.jsxs(c_,{to:l.path,className:({isActive:u})=>`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${u?"bg-white/20 text-white":"text-blue-100 hover:bg-white/10 hover:text-white"}`,children:[w.jsx(l.icon,{className:"h-5 w-5"}),w.jsx("span",{"trae-inspector-start-line":"69","trae-inspector-start-column":"12","trae-inspector-end-line":"69","trae-inspector-end-column":"61","trae-inspector-file-path":"src/components/Sidebar.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"font-medium",children:l.label})]},l.path))}),w.jsxs("div",{"trae-inspector-start-line":"74","trae-inspector-start-column":"6","trae-inspector-end-line":"91","trae-inspector-end-column":"12","trae-inspector-file-path":"src/components/Sidebar.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"p-4 border-t border-blue-500",children:[w.jsxs("div",{"trae-inspector-start-line":"75","trae-inspector-start-column":"8","trae-inspector-end-line":"83","trae-inspector-end-column":"14","trae-inspector-file-path":"src/components/Sidebar.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-blue-900/50 rounded-lg p-4 mb-4 flex items-center space-x-3",children:[w.jsx("div",{"trae-inspector-start-line":"76","trae-inspector-start-column":"10","trae-inspector-end-line":"78","trae-inspector-end-column":"16","trae-inspector-file-path":"src/components/Sidebar.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center",children:w.jsx(ry,{className:"h-6 w-6 text-white"})}),w.jsxs("div",{"trae-inspector-start-line":"79","trae-inspector-start-column":"10","trae-inspector-end-line":"82","trae-inspector-end-column":"16","trae-inspector-file-path":"src/components/Sidebar.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("p",{"trae-inspector-start-line":"80","trae-inspector-start-column":"12","trae-inspector-end-line":"80","trae-inspector-end-column":"56","trae-inspector-file-path":"src/components/Sidebar.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Admin%22%2C%22textStartLine%22%3A%2280%22%2C%22textStartColumn%22%3A%2247%22%2C%22textEndLine%22%3A%2280%22%2C%22textEndColumn%22%3A%2252%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-sm font-medium",children:"Admin"}),w.jsx("p",{"trae-inspector-start-line":"81","trae-inspector-start-column":"12","trae-inspector-end-line":"81","trae-inspector-end-column":"64","trae-inspector-file-path":"src/components/Sidebar.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Super%20Admin%22%2C%22textStartLine%22%3A%2281%22%2C%22textStartColumn%22%3A%2249%22%2C%22textEndLine%22%3A%2281%22%2C%22textEndColumn%22%3A%2260%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-xs text-blue-200",children:"Super Admin"})]})]}),w.jsxs("button",{"trae-inspector-start-line":"84","trae-inspector-start-column":"8","trae-inspector-end-line":"90","trae-inspector-end-column":"17","trae-inspector-file-path":"src/components/Sidebar.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",onClick:s,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-red-500/80 hover:bg-red-600 rounded-lg transition-colors text-sm",children:[w.jsx(OE,{className:"h-4 w-4"}),w.jsx("span",{"trae-inspector-start-line":"89","trae-inspector-start-column":"10","trae-inspector-end-line":"89","trae-inspector-end-column":"29","trae-inspector-file-path":"src/components/Sidebar.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Logout%22%2C%22textStartLine%22%3A%2289%22%2C%22textStartColumn%22%3A%2216%22%2C%22textEndLine%22%3A%2289%22%2C%22textEndColumn%22%3A%2222%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:"Logout"})]})]})]})},zP=()=>{const{user:n}=sc();return w.jsxs("header",{"trae-inspector-start-line":"9","trae-inspector-start-column":"4","trae-inspector-end-line":"42","trae-inspector-end-column":"13","trae-inspector-file-path":"src/components/Header.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-white h-16 border-b border-gray-200 flex items-center justify-between px-6 sticky top-0 z-10",children:[w.jsx("div",{"trae-inspector-start-line":"10","trae-inspector-start-column":"6","trae-inspector-end-line":"21","trae-inspector-end-column":"12","trae-inspector-file-path":"src/components/Header.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex items-center flex-1",children:w.jsxs("div",{"trae-inspector-start-line":"11","trae-inspector-start-column":"8","trae-inspector-end-line":"20","trae-inspector-end-column":"14","trae-inspector-file-path":"src/components/Header.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"relative w-96",children:[w.jsx("div",{"trae-inspector-start-line":"12","trae-inspector-start-column":"10","trae-inspector-end-line":"14","trae-inspector-end-column":"16","trae-inspector-file-path":"src/components/Header.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:w.jsx(yd,{className:"h-5 w-5 text-gray-400"})}),w.jsx("input",{"trae-inspector-start-line":"15","trae-inspector-start-column":"10","trae-inspector-end-line":"19","trae-inspector-end-column":"12","trae-inspector-file-path":"src/components/Header.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-full leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition duration-150 ease-in-out",placeholder:"Search..."})]})}),w.jsxs("div",{"trae-inspector-start-line":"23","trae-inspector-start-column":"6","trae-inspector-end-line":"41","trae-inspector-end-column":"12","trae-inspector-file-path":"src/components/Header.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex items-center space-x-4",children:[w.jsxs("button",{"trae-inspector-start-line":"24","trae-inspector-start-column":"8","trae-inspector-end-line":"27","trae-inspector-end-column":"17","trae-inspector-file-path":"src/components/Header.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"p-2 text-gray-400 hover:text-gray-500 relative",children:[w.jsx(oE,{className:"h-6 w-6"}),w.jsx("span",{"trae-inspector-start-line":"26","trae-inspector-start-column":"10","trae-inspector-end-line":"26","trae-inspector-end-column":"114","trae-inspector-file-path":"src/components/Header.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"absolute top-1 right-1 block h-2 w-2 rounded-full bg-red-500 ring-2 ring-white"})]}),w.jsxs("div",{"trae-inspector-start-line":"29","trae-inspector-start-column":"8","trae-inspector-end-line":"40","trae-inspector-end-column":"14","trae-inspector-file-path":"src/components/Header.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex items-center space-x-3 pl-4 border-l border-gray-200",children:[w.jsx("span",{"trae-inspector-start-line":"30","trae-inspector-start-column":"10","trae-inspector-end-line":"32","trae-inspector-end-column":"17","trae-inspector-file-path":"src/components/Header.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-sm font-medium text-gray-700",children:(n==null?void 0:n.email)||"Admin"}),w.jsx("div",{"trae-inspector-start-line":"33","trae-inspector-start-column":"10","trae-inspector-end-line":"39","trae-inspector-end-column":"16","trae-inspector-file-path":"src/components/Header.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:n!=null&&n.photoURL?w.jsx("img",{"trae-inspector-start-line":"35","trae-inspector-start-column":"14","trae-inspector-end-line":"35","trae-inspector-end-column":"94","trae-inspector-file-path":"src/components/Header.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",src:n.photoURL,alt:"Profile",className:"h-full w-full object-cover"}):w.jsx(g_,{className:"h-5 w-5 text-gray-500"})})]})]})]})},ur=({children:n})=>w.jsxs("div",{"trae-inspector-start-line":"11","trae-inspector-start-column":"4","trae-inspector-end-line":"19","trae-inspector-end-column":"10","trae-inspector-file-path":"src/components/Layout.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"min-h-screen bg-gray-50 flex",children:[w.jsx(BP,{}),w.jsxs("div",{"trae-inspector-start-line":"13","trae-inspector-start-column":"6","trae-inspector-end-line":"18","trae-inspector-end-column":"12","trae-inspector-file-path":"src/components/Layout.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex-1 ml-64 flex flex-col",children:[w.jsx(zP,{}),w.jsx("main",{"trae-inspector-start-line":"15","trae-inspector-start-column":"8","trae-inspector-end-line":"17","trae-inspector-end-column":"15","trae-inspector-file-path":"src/components/Layout.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex-1 p-6 overflow-auto",children:n})]})]}),dr=({children:n})=>{const{user:e,loading:t,setUser:s,setLoading:a,checkUserRole:l}=sc();return b.useEffect(()=>{const u=bT(Im,async p=>{s(p),p&&await l(p.uid),a(!1)});return()=>u()},[s,a,l]),t?w.jsx("div",{"trae-inspector-start-line":"24","trae-inspector-start-column":"6","trae-inspector-end-line":"26","trae-inspector-end-column":"12","trae-inspector-file-path":"src/components/ProtectedRoute.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"min-h-screen flex items-center justify-center bg-gray-50",children:w.jsx("div",{"trae-inspector-start-line":"25","trae-inspector-start-column":"8","trae-inspector-end-line":"25","trae-inspector-end-column":"105","trae-inspector-file-path":"src/components/ProtectedRoute.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):e?w.jsx(w.Fragment,{children:n}):w.jsx(i_,{to:"/login",replace:!0})},$P=()=>{const[n,e]=b.useState(""),[t,s]=b.useState(""),[a,l]=b.useState(""),[u,p]=b.useState(!1),m=fd(),{checkUserRole:y}=sc(),v=async A=>{A.preventDefault(),l(""),p(!0);try{const E=await PT(Im,n,t);await y(E.user.uid),m("/dashboard")}catch(E){l("Failed to login. Please check your credentials."),console.error(E)}finally{p(!1)}};return w.jsxs("div",{"trae-inspector-start-line":"34","trae-inspector-start-column":"4","trae-inspector-end-line":"114","trae-inspector-end-column":"10","trae-inspector-file-path":"src/pages/Login.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[w.jsxs("div",{"trae-inspector-start-line":"35","trae-inspector-start-column":"6","trae-inspector-end-line":"47","trae-inspector-end-column":"12","trae-inspector-file-path":"src/pages/Login.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"sm:mx-auto sm:w-full sm:max-w-md",children:[w.jsx("div",{"trae-inspector-start-line":"36","trae-inspector-start-column":"8","trae-inspector-end-line":"40","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/Login.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex justify-center",children:w.jsx("div",{"trae-inspector-start-line":"37","trae-inspector-start-column":"10","trae-inspector-end-line":"39","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Login.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-blue-600 p-2 rounded-full",children:w.jsx(SE,{className:"h-10 w-10 text-white"})})}),w.jsx("h2",{"trae-inspector-start-line":"41","trae-inspector-start-column":"8","trae-inspector-end-line":"43","trae-inspector-end-column":"13","trae-inspector-file-path":"src/pages/Login.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22StudentMATE%20Admin%22%2C%22textStartLine%22%3A%2241%22%2C%22textStartColumn%22%3A%2279%22%2C%22textEndLine%22%3A%2243%22%2C%22textEndColumn%22%3A%228%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"StudentMATE Admin"}),w.jsx("p",{"trae-inspector-start-line":"44","trae-inspector-start-column":"8","trae-inspector-end-line":"46","trae-inspector-end-column":"12","trae-inspector-file-path":"src/pages/Login.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Sign%20in%20to%20access%20the%20control%20panel%22%2C%22textStartLine%22%3A%2244%22%2C%22textStartColumn%22%3A%2262%22%2C%22textEndLine%22%3A%2246%22%2C%22textEndColumn%22%3A%228%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to access the control panel"})]}),w.jsx("div",{"trae-inspector-start-line":"49","trae-inspector-start-column":"6","trae-inspector-end-line":"113","trae-inspector-end-column":"12","trae-inspector-file-path":"src/pages/Login.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:w.jsx("div",{"trae-inspector-start-line":"50","trae-inspector-start-column":"8","trae-inspector-end-line":"112","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/Login.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:w.jsxs("form",{"trae-inspector-start-line":"51","trae-inspector-start-column":"10","trae-inspector-end-line":"111","trae-inspector-end-column":"17","trae-inspector-file-path":"src/pages/Login.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"space-y-6",onSubmit:v,children:[w.jsxs("div",{"trae-inspector-start-line":"52","trae-inspector-start-column":"12","trae-inspector-end-line":"72","trae-inspector-end-column":"18","trae-inspector-file-path":"src/pages/Login.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("label",{"trae-inspector-start-line":"53","trae-inspector-start-column":"14","trae-inspector-end-line":"55","trae-inspector-end-column":"22","trae-inspector-file-path":"src/pages/Login.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Email%20address%22%2C%22textStartLine%22%3A%2253%22%2C%22textStartColumn%22%3A%2289%22%2C%22textEndLine%22%3A%2255%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),w.jsxs("div",{"trae-inspector-start-line":"56","trae-inspector-start-column":"14","trae-inspector-end-line":"71","trae-inspector-end-column":"20","trae-inspector-file-path":"src/pages/Login.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"mt-1 relative rounded-md shadow-sm",children:[w.jsx("div",{"trae-inspector-start-line":"57","trae-inspector-start-column":"16","trae-inspector-end-line":"59","trae-inspector-end-column":"22","trae-inspector-file-path":"src/pages/Login.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:w.jsx(h_,{className:"h-5 w-5 text-gray-400"})}),w.jsx("input",{"trae-inspector-start-line":"60","trae-inspector-start-column":"16","trae-inspector-end-line":"70","trae-inspector-end-column":"18","trae-inspector-file-path":"src/pages/Login.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:A=>e(A.target.value),className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md py-2 border",placeholder:"admin@studentmate.com"})]})]}),w.jsxs("div",{"trae-inspector-start-line":"74","trae-inspector-start-column":"12","trae-inspector-end-line":"94","trae-inspector-end-column":"18","trae-inspector-file-path":"src/pages/Login.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("label",{"trae-inspector-start-line":"75","trae-inspector-start-column":"14","trae-inspector-end-line":"77","trae-inspector-end-column":"22","trae-inspector-file-path":"src/pages/Login.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Password%22%2C%22textStartLine%22%3A%2275%22%2C%22textStartColumn%22%3A%2292%22%2C%22textEndLine%22%3A%2277%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),w.jsxs("div",{"trae-inspector-start-line":"78","trae-inspector-start-column":"14","trae-inspector-end-line":"93","trae-inspector-end-column":"20","trae-inspector-file-path":"src/pages/Login.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"mt-1 relative rounded-md shadow-sm",children:[w.jsx("div",{"trae-inspector-start-line":"79","trae-inspector-start-column":"16","trae-inspector-end-line":"81","trae-inspector-end-column":"22","trae-inspector-file-path":"src/pages/Login.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:w.jsx(LE,{className:"h-5 w-5 text-gray-400"})}),w.jsx("input",{"trae-inspector-start-line":"82","trae-inspector-start-column":"16","trae-inspector-end-line":"92","trae-inspector-end-column":"18","trae-inspector-file-path":"src/pages/Login.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:t,onChange:A=>s(A.target.value),className:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md py-2 border",placeholder:""})]})]}),a&&w.jsx("div",{"trae-inspector-start-line":"97","trae-inspector-start-column":"14","trae-inspector-end-line":"99","trae-inspector-end-column":"20","trae-inspector-file-path":"src/pages/Login.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-red-600 text-sm text-center",children:a}),w.jsx("div",{"trae-inspector-start-line":"102","trae-inspector-start-column":"12","trae-inspector-end-line":"110","trae-inspector-end-column":"18","trae-inspector-file-path":"src/pages/Login.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:w.jsx("button",{"trae-inspector-start-line":"103","trae-inspector-start-column":"14","trae-inspector-end-line":"109","trae-inspector-end-column":"23","trae-inspector-file-path":"src/pages/Login.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"submit",disabled:u,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${u?"opacity-75 cursor-not-allowed":""}`,children:u?"Signing in...":"Sign in"})})]})})})]})},ii="assessments",HP=async(n,e,t)=>{const s=zn(sn(at,ii),Bs("universityId","==",n),Bs("moduleId","==",e),Bs("type","==",t),Gs("year","desc"));return(await Yi(s)).docs.map(l=>({assessmentId:l.id,...l.data()}))},qP=async(n=5)=>{const e=zn(sn(at,ii),Gs("createdAt","desc"),B1(n));return(await Yi(e)).docs.map(s=>({assessmentId:s.id,...s.data()}))},WP=async()=>{const n=sn(at,ii),e=await bp(zn(n,Bs("type","==","exam"))),t=await bp(zn(n,Bs("type","==","test"))),s=await bp(zn(n,Bs("type","==","supplementary")));return{exams:e.data().count,tests:t.data().count,supps:s.data().count}},QP=async(n,e,t,s,a,l,u)=>{let p="";if(u){const y=Ys(Js,`assessments/${n}/${e}/${t}/${Date.now()}_${u.name}`);await Vl(y,u),p=await jl(y)}return(await rc(sn(at,ii),{universityId:n,moduleId:e,type:t,title:s,year:a,pdfUrl:p||null,createdBy:l,createdAt:tc()})).id},KP=async n=>{if(n.pdfUrl)try{const e=Ys(Js,n.pdfUrl);await hh(e)}catch(e){console.error("Error deleting file from storage:",e)}await nc(Cr(at,ii,n.assessmentId))},GP=async n=>{const e=zn(sn(at,ii,n,"questions"),Gs("order","asc"));return(await Yi(e)).docs.map(s=>({questionId:s.id,...s.data()}))},YP=async(n,e,t,s,a,l,u)=>{const p=Ys(Js,`questions/${n}/${Date.now()}_content_${a.name}`);await Vl(p,a);const m=await jl(p);let y="";if(l){const A=Ys(Js,`questions/${n}/${Date.now()}_answer_${l.name}`);await Vl(A,l),y=await jl(A)}return(await rc(sn(at,ii,n,"questions"),{title:e,marks:t,order:s,contentUrl:m,answerUrl:y||null,videoUrl:u||null,createdAt:tc()})).id},JP=async(n,e)=>{if(e.contentUrl)try{const t=Ys(Js,e.contentUrl);await hh(t)}catch(t){console.error("Error deleting content image",t)}if(e.answerUrl)try{const t=Ys(Js,e.answerUrl);await hh(t)}catch(t){console.error("Error deleting answer image",t)}await nc(Cr(at,ii,n,"questions",e.questionId))},zd="universities",po=async()=>{const n=zn(sn(at,zd),Gs("name"));return(await Yi(n)).docs.map(t=>({universityId:t.id,...t.data()}))},XP=async(n,e,t)=>{let s="";if(t){const l=Ys(Js,`university-logos/${Date.now()}_${t.name}`);await Vl(l,t),s=await jl(l)}return(await rc(sn(at,zd),{name:n,code:e,logoUrl:s,createdAt:tc()})).id},ZP=async(n,e,t)=>{let s={...e};if(t){const a=Ys(Js,`university-logos/${Date.now()}_${t.name}`);await Vl(a,t),s.logoUrl=await jl(a)}await _m(Cr(at,zd,n),s)},eN=async n=>{await nc(Cr(at,zd,n))},Nu=43200,Bw=1440,zw=Symbol.for("constructDateFrom");function km(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&zw in n?n[zw](e):n instanceof Date?new n.constructor(e):new Date(e)}function Xs(n,e){return km(n,n)}let tN={};function nN(){return tN}function $w(n){const e=Xs(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Rm(n,...e){const t=km.bind(null,n||e.find(s=>typeof s=="object"));return e.map(t)}function qu(n,e){const t=+Xs(n)-+Xs(e);return t<0?-1:t>0?1:t}function rN(n){return km(n,Date.now())}function sN(n,e,t){const[s,a]=Rm(t==null?void 0:t.in,n,e),l=s.getFullYear()-a.getFullYear(),u=s.getMonth()-a.getMonth();return l*12+u}function iN(n){return e=>{const s=(n?Math[n]:Math.trunc)(e);return s===0?0:s}}function aN(n,e){return+Xs(n)-+Xs(e)}function oN(n,e){const t=Xs(n);return t.setHours(23,59,59,999),t}function lN(n,e){const t=Xs(n),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function cN(n,e){const t=Xs(n);return+oN(t)==+lN(t)}function uN(n,e,t){const[s,a,l]=Rm(t==null?void 0:t.in,n,n,e),u=qu(a,l),p=Math.abs(sN(a,l));if(p<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-u*p);let m=qu(a,l)===-u;cN(s)&&p===1&&qu(s,l)===1&&(m=!1);const y=u*(p-+m);return y===0?0:y}function dN(n,e,t){const s=aN(n,e)/1e3;return iN(t==null?void 0:t.roundingMethod)(s)}const pN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hN=(n,e,t)=>{let s;const a=pN[n];return typeof a=="string"?s=a:e===1?s=a.one:s=a.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+s:s+" ago":s};function Op(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const mN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yN={date:Op({formats:mN,defaultWidth:"full"}),time:Op({formats:fN,defaultWidth:"full"}),dateTime:Op({formats:gN,defaultWidth:"full"})},wN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_N=(n,e,t,s)=>wN[n];function dl(n){return(e,t)=>{const s=t!=null&&t.context?String(t.context):"standalone";let a;if(s==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,p=t!=null&&t.width?String(t.width):u;a=n.formattingValues[p]||n.formattingValues[u]}else{const u=n.defaultWidth,p=t!=null&&t.width?String(t.width):n.defaultWidth;a=n.values[p]||n.values[u]}const l=n.argumentCallback?n.argumentCallback(e):e;return a[l]}}const vN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xN={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},AN={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},EN={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},FN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},CN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},TN=(n,e)=>{const t=Number(n),s=t%100;if(s>20||s<10)switch(s%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},SN={ordinalNumber:TN,era:dl({values:vN,defaultWidth:"wide"}),quarter:dl({values:xN,defaultWidth:"wide",argumentCallback:n=>n-1}),month:dl({values:AN,defaultWidth:"wide"}),day:dl({values:EN,defaultWidth:"wide"}),dayPeriod:dl({values:FN,defaultWidth:"wide",formattingValues:CN,defaultFormattingWidth:"wide"})};function pl(n){return(e,t={})=>{const s=t.width,a=s&&n.matchPatterns[s]||n.matchPatterns[n.defaultMatchWidth],l=e.match(a);if(!l)return null;const u=l[0],p=s&&n.parsePatterns[s]||n.parsePatterns[n.defaultParseWidth],m=Array.isArray(p)?kN(p,A=>A.test(u)):IN(p,A=>A.test(u));let y;y=n.valueCallback?n.valueCallback(m):m,y=t.valueCallback?t.valueCallback(y):y;const v=e.slice(u.length);return{value:y,rest:v}}}function IN(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function kN(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function RN(n){return(e,t={})=>{const s=e.match(n.matchPattern);if(!s)return null;const a=s[0],l=e.match(n.parsePattern);if(!l)return null;let u=n.valueCallback?n.valueCallback(l[0]):l[0];u=t.valueCallback?t.valueCallback(u):u;const p=e.slice(a.length);return{value:u,rest:p}}}const PN=/^(\d+)(th|st|nd|rd)?/i,NN=/\d+/i,DN={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bN={any:[/^b/i,/^(a|c)/i]},LN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},MN={any:[/1/i,/2/i,/3/i,/4/i]},ON={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},VN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},UN={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},BN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$N={ordinalNumber:RN({matchPattern:PN,parsePattern:NN,valueCallback:n=>parseInt(n,10)}),era:pl({matchPatterns:DN,defaultMatchWidth:"wide",parsePatterns:bN,defaultParseWidth:"any"}),quarter:pl({matchPatterns:LN,defaultMatchWidth:"wide",parsePatterns:MN,defaultParseWidth:"any",valueCallback:n=>n+1}),month:pl({matchPatterns:ON,defaultMatchWidth:"wide",parsePatterns:VN,defaultParseWidth:"any"}),day:pl({matchPatterns:jN,defaultMatchWidth:"wide",parsePatterns:UN,defaultParseWidth:"any"}),dayPeriod:pl({matchPatterns:BN,defaultMatchWidth:"any",parsePatterns:zN,defaultParseWidth:"any"})},HN={code:"en-US",formatDistance:hN,formatLong:yN,formatRelative:_N,localize:SN,match:$N,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qN(n,e,t){const s=nN(),a=(t==null?void 0:t.locale)??s.locale??HN,l=2520,u=qu(n,e);if(isNaN(u))throw new RangeError("Invalid time value");const p=Object.assign({},t,{addSuffix:t==null?void 0:t.addSuffix,comparison:u}),[m,y]=Rm(t==null?void 0:t.in,...u>0?[e,n]:[n,e]),v=dN(y,m),A=($w(y)-$w(m))/1e3,E=Math.round((v-A)/60);let P;if(E<2)return t!=null&&t.includeSeconds?v<5?a.formatDistance("lessThanXSeconds",5,p):v<10?a.formatDistance("lessThanXSeconds",10,p):v<20?a.formatDistance("lessThanXSeconds",20,p):v<40?a.formatDistance("halfAMinute",0,p):v<60?a.formatDistance("lessThanXMinutes",1,p):a.formatDistance("xMinutes",1,p):E===0?a.formatDistance("lessThanXMinutes",1,p):a.formatDistance("xMinutes",E,p);if(E<45)return a.formatDistance("xMinutes",E,p);if(E<90)return a.formatDistance("aboutXHours",1,p);if(E<Bw){const B=Math.round(E/60);return a.formatDistance("aboutXHours",B,p)}else{if(E<l)return a.formatDistance("xDays",1,p);if(E<Nu){const B=Math.round(E/Bw);return a.formatDistance("xDays",B,p)}else if(E<Nu*2)return P=Math.round(E/Nu),a.formatDistance("aboutXMonths",P,p)}if(P=uN(y,m),P<12){const B=Math.round(E/Nu);return a.formatDistance("xMonths",B,p)}else{const B=P%12,z=Math.trunc(P/12);return B<3?a.formatDistance("aboutXYears",z,p):B<9?a.formatDistance("overXYears",z,p):a.formatDistance("almostXYears",z+1,p)}}function WN(n,e){return qN(n,rN(n),e)}const Vp=({title:n,value:e,icon:t,color:s})=>w.jsxs("div",{"trae-inspector-start-line":"16","trae-inspector-start-column":"2","trae-inspector-end-line":"24","trae-inspector-end-column":"8","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-white rounded-xl shadow-sm p-6 flex items-center space-x-4",children:[w.jsx("div",{"trae-inspector-start-line":"17","trae-inspector-start-column":"4","trae-inspector-end-line":"19","trae-inspector-end-column":"10","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:`p-4 rounded-lg ${s}`,children:w.jsx(t,{className:"h-6 w-6 text-white"})}),w.jsxs("div",{"trae-inspector-start-line":"20","trae-inspector-start-column":"4","trae-inspector-end-line":"23","trae-inspector-end-column":"10","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("h3",{"trae-inspector-start-line":"21","trae-inspector-start-column":"6","trae-inspector-end-line":"21","trae-inspector-end-column":"67","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-2xl font-bold text-gray-900",children:e}),w.jsx("p",{"trae-inspector-start-line":"22","trae-inspector-start-column":"6","trae-inspector-end-line":"22","trae-inspector-end-column":"54","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-sm text-gray-500",children:n})]})]}),QN=()=>{const[n,e]=b.useState([]),[t,s]=b.useState({exams:0,tests:0,supps:0}),[a,l]=b.useState([]),[u,p]=b.useState(!0);return b.useEffect(()=>{(async()=>{try{const[y,v,A]=await Promise.all([qP(),WP(),po()]);e(y),s(v),l(A)}catch(y){console.error("Error loading dashboard data:",y)}finally{p(!1)}})()},[]),w.jsxs("div",{"trae-inspector-start-line":"54","trae-inspector-start-column":"4","trae-inspector-end-line":"161","trae-inspector-end-column":"10","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"space-y-6",children:[w.jsxs("div",{"trae-inspector-start-line":"55","trae-inspector-start-column":"6","trae-inspector-end-line":"70","trae-inspector-end-column":"12","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex justify-between items-center",children:[w.jsx("h1",{"trae-inspector-start-line":"56","trae-inspector-start-column":"8","trae-inspector-end-line":"56","trae-inspector-end-column":"77","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Admin%20Dashboard%22%2C%22textStartLine%22%3A%2256%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%2256%22%2C%22textEndColumn%22%3A%2272%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),w.jsxs("div",{"trae-inspector-start-line":"57","trae-inspector-start-column":"8","trae-inspector-end-line":"69","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex space-x-2 bg-white rounded-lg p-1 shadow-sm overflow-x-auto max-w-md",children:[a.slice(0,5).map(m=>w.jsx("button",{"trae-inspector-start-line":"59","trae-inspector-start-column":"12","trae-inspector-end-line":"64","trae-inspector-end-column":"21","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-4 py-1.5 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-100 whitespace-nowrap",children:m.code},m.universityId)),w.jsxs(Qu,{to:"/universities",className:"px-4 py-1.5 text-sm font-medium text-blue-600 hover:bg-blue-50 rounded-md whitespace-nowrap flex items-center",children:["View All ",w.jsx(rE,{className:"ml-1 h-3 w-3"})]})]})]}),w.jsxs("div",{"trae-inspector-start-line":"73","trae-inspector-start-column":"6","trae-inspector-end-line":"92","trae-inspector-end-column":"12","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[w.jsx(Vp,{title:"Total Exams",value:t.exams,icon:dE,color:"bg-blue-500"}),w.jsx(Vp,{title:"Total Tests",value:t.tests,icon:Ku,color:"bg-orange-500"}),w.jsx(Vp,{title:"Supp. Exams",value:t.supps,icon:vE,color:"bg-green-500"})]}),w.jsx("div",{"trae-inspector-start-line":"94","trae-inspector-start-column":"6","trae-inspector-end-line":"160","trae-inspector-end-column":"12","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:w.jsxs("div",{"trae-inspector-start-line":"96","trae-inspector-start-column":"8","trae-inspector-end-line":"159","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"lg:col-span-3 bg-white rounded-xl shadow-sm overflow-hidden",children:[w.jsxs("div",{"trae-inspector-start-line":"97","trae-inspector-start-column":"10","trae-inspector-end-line":"102","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[w.jsx("h2",{"trae-inspector-start-line":"98","trae-inspector-start-column":"12","trae-inspector-end-line":"98","trae-inspector-end-column":"71","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Recent%20Uploads%22%2C%22textStartLine%22%3A%2298%22%2C%22textStartColumn%22%3A%2252%22%2C%22textEndLine%22%3A%2298%22%2C%22textEndColumn%22%3A%2266%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"font-bold text-gray-900",children:"Recent Uploads"}),w.jsx(Qu,{to:"/exams",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center",children:"+ Manage Assessments"})]}),w.jsx("div",{"trae-inspector-start-line":"103","trae-inspector-start-column":"10","trae-inspector-end-line":"158","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"overflow-x-auto",children:w.jsxs("table",{"trae-inspector-start-line":"104","trae-inspector-start-column":"12","trae-inspector-end-line":"157","trae-inspector-end-column":"20","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"w-full",children:[w.jsx("thead",{"trae-inspector-start-line":"105","trae-inspector-start-column":"14","trae-inspector-end-line":"113","trae-inspector-end-column":"22","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-gray-50 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:w.jsxs("tr",{"trae-inspector-start-line":"106","trae-inspector-start-column":"16","trae-inspector-end-line":"112","trae-inspector-end-column":"21","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("th",{"trae-inspector-start-line":"107","trae-inspector-start-column":"18","trae-inspector-end-line":"107","trae-inspector-end-column":"53","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Type%22%2C%22textStartLine%22%3A%22107%22%2C%22textStartColumn%22%3A%2244%22%2C%22textEndLine%22%3A%22107%22%2C%22textEndColumn%22%3A%2248%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-3",children:"Type"}),w.jsx("th",{"trae-inspector-start-line":"108","trae-inspector-start-column":"18","trae-inspector-end-line":"108","trae-inspector-end-column":"54","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Title%22%2C%22textStartLine%22%3A%22108%22%2C%22textStartColumn%22%3A%2244%22%2C%22textEndLine%22%3A%22108%22%2C%22textEndColumn%22%3A%2249%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-3",children:"Title"}),w.jsx("th",{"trae-inspector-start-line":"109","trae-inspector-start-column":"18","trae-inspector-end-line":"109","trae-inspector-end-column":"53","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Year%22%2C%22textStartLine%22%3A%22109%22%2C%22textStartColumn%22%3A%2244%22%2C%22textEndLine%22%3A%22109%22%2C%22textEndColumn%22%3A%2248%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-3",children:"Year"}),w.jsx("th",{"trae-inspector-start-line":"110","trae-inspector-start-column":"18","trae-inspector-end-line":"110","trae-inspector-end-column":"53","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Date%22%2C%22textStartLine%22%3A%22110%22%2C%22textStartColumn%22%3A%2244%22%2C%22textEndLine%22%3A%22110%22%2C%22textEndColumn%22%3A%2248%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-3",children:"Date"}),w.jsx("th",{"trae-inspector-start-line":"111","trae-inspector-start-column":"18","trae-inspector-end-line":"111","trae-inspector-end-column":"59","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Created%20By%22%2C%22textStartLine%22%3A%22111%22%2C%22textStartColumn%22%3A%2244%22%2C%22textEndLine%22%3A%22111%22%2C%22textEndColumn%22%3A%2254%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-3",children:"Created By"})]})}),w.jsx("tbody",{"trae-inspector-start-line":"114","trae-inspector-start-column":"14","trae-inspector-end-line":"156","trae-inspector-end-column":"22","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"divide-y divide-gray-100",children:u?w.jsx("tr",{"trae-inspector-start-line":"116","trae-inspector-start-column":"18","trae-inspector-end-line":"118","trae-inspector-end-column":"23","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:w.jsx("td",{"trae-inspector-start-line":"117","trae-inspector-start-column":"20","trae-inspector-end-line":"117","trae-inspector-end-column":"99","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Loading...%22%2C%22textStartLine%22%3A%22117%22%2C%22textStartColumn%22%3A%2284%22%2C%22textEndLine%22%3A%22117%22%2C%22textEndColumn%22%3A%2294%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"Loading..."})}):n.length===0?w.jsx("tr",{"trae-inspector-start-line":"120","trae-inspector-start-column":"18","trae-inspector-end-line":"125","trae-inspector-end-column":"23","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:w.jsxs("td",{"trae-inspector-start-line":"121","trae-inspector-start-column":"20","trae-inspector-end-line":"124","trae-inspector-end-column":"25","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",colSpan:5,className:"px-6 py-4 text-center text-gray-500 py-10",children:[w.jsx("p",{"trae-inspector-start-line":"122","trae-inspector-start-column":"22","trae-inspector-end-line":"122","trae-inspector-end-column":"92","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22No%20recent%20uploads%22%2C%22textStartLine%22%3A%22122%22%2C%22textStartColumn%22%3A%2271%22%2C%22textEndLine%22%3A%22122%22%2C%22textEndColumn%22%3A%2288%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-lg font-medium text-gray-900",children:"No recent uploads"}),w.jsx("p",{"trae-inspector-start-line":"123","trae-inspector-start-column":"22","trae-inspector-end-line":"123","trae-inspector-end-column":"118","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Start%20by%20adding%20universities%2C%20modules%2C%20and%20assessments.%22%2C%22textStartLine%22%3A%22123%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22123%22%2C%22textEndColumn%22%3A%22114%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-sm text-gray-500",children:"Start by adding universities, modules, and assessments."})]})}):n.map(m=>{var y,v;return w.jsxs("tr",{"trae-inspector-start-line":"128","trae-inspector-start-column":"20","trae-inspector-end-line":"153","trae-inspector-end-column":"25","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"hover:bg-gray-50 transition-colors",children:[w.jsx("td",{"trae-inspector-start-line":"129","trae-inspector-start-column":"22","trae-inspector-end-line":"137","trae-inspector-end-column":"27","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-4 text-sm font-medium text-gray-900 capitalize",children:w.jsx("span",{"trae-inspector-start-line":"130","trae-inspector-start-column":"24","trae-inspector-end-line":"136","trae-inspector-end-column":"31","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:`px-2 py-1 rounded-full text-xs ${m.type==="exam"?"bg-blue-100 text-blue-800":m.type==="test"?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800"}`,children:m.type})}),w.jsx("td",{"trae-inspector-start-line":"138","trae-inspector-start-column":"22","trae-inspector-end-line":"140","trae-inspector-end-column":"27","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-4",children:w.jsx("div",{"trae-inspector-start-line":"139","trae-inspector-start-column":"24","trae-inspector-end-line":"139","trae-inspector-end-column":"91","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-sm font-bold text-gray-900",children:m.title})}),w.jsx("td",{"trae-inspector-start-line":"141","trae-inspector-start-column":"22","trae-inspector-end-line":"141","trae-inspector-end-column":"86","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-4 text-sm text-gray-500",children:m.year}),w.jsx("td",{"trae-inspector-start-line":"142","trae-inspector-start-column":"22","trae-inspector-end-line":"146","trae-inspector-end-column":"27","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-4",children:w.jsx("div",{"trae-inspector-start-line":"143","trae-inspector-start-column":"24","trae-inspector-end-line":"145","trae-inspector-end-column":"30","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-sm text-gray-900",children:(y=m.createdAt)!=null&&y.seconds?new Date(m.createdAt.seconds*1e3).toLocaleDateString():"Just now"})}),w.jsxs("td",{"trae-inspector-start-line":"147","trae-inspector-start-column":"22","trae-inspector-end-line":"152","trae-inspector-end-column":"27","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-4 text-sm text-gray-500 flex items-center space-x-2",children:[w.jsx("span",{"trae-inspector-start-line":"148","trae-inspector-start-column":"24","trae-inspector-end-line":"148","trae-inspector-end-column":"67","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:m.createdBy.split("@")[0]}),w.jsx("span",{"trae-inspector-start-line":"149","trae-inspector-start-column":"24","trae-inspector-end-line":"151","trae-inspector-end-column":"31","trae-inspector-file-path":"src/pages/Dashboard.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-xs text-gray-400",children:(v=m.createdAt)!=null&&v.seconds?WN(new Date(m.createdAt.seconds*1e3),{addSuffix:!0}):"now"})]})]},m.assessmentId)})})]})})]})})]})},ic=({isOpen:n,onClose:e,title:t,children:s})=>n?w.jsx("div",{"trae-inspector-start-line":"15","trae-inspector-start-column":"4","trae-inspector-end-line":"40","trae-inspector-end-column":"10","trae-inspector-file-path":"src/components/Modal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"fixed inset-0 z-50 overflow-y-auto",children:w.jsxs("div",{"trae-inspector-start-line":"16","trae-inspector-start-column":"6","trae-inspector-end-line":"39","trae-inspector-end-column":"12","trae-inspector-file-path":"src/components/Modal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[w.jsx("div",{"trae-inspector-start-line":"17","trae-inspector-start-column":"8","trae-inspector-end-line":"19","trae-inspector-end-column":"14","trae-inspector-file-path":"src/components/Modal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:w.jsx("div",{"trae-inspector-start-line":"18","trae-inspector-start-column":"10","trae-inspector-end-line":"18","trae-inspector-end-column":"91","trae-inspector-file-path":"src/components/Modal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"absolute inset-0 bg-gray-500 opacity-75",onClick:e})}),w.jsx("span",{"trae-inspector-start-line":"21","trae-inspector-start-column":"8","trae-inspector-end-line":"21","trae-inspector-end-column":"110","trae-inspector-file-path":"src/components/Modal.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E2%80%8B%22%2C%22textStartLine%22%3A%2221%22%2C%22textStartColumn%22%3A%2296%22%2C%22textEndLine%22%3A%2221%22%2C%22textEndColumn%22%3A%22103%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),w.jsx("div",{"trae-inspector-start-line":"23","trae-inspector-start-column":"8","trae-inspector-end-line":"38","trae-inspector-end-column":"14","trae-inspector-file-path":"src/components/Modal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:w.jsxs("div",{"trae-inspector-start-line":"24","trae-inspector-start-column":"10","trae-inspector-end-line":"37","trae-inspector-end-column":"16","trae-inspector-file-path":"src/components/Modal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[w.jsxs("div",{"trae-inspector-start-line":"25","trae-inspector-start-column":"12","trae-inspector-end-line":"35","trae-inspector-end-column":"18","trae-inspector-file-path":"src/components/Modal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex justify-between items-start mb-4",children:[w.jsx("h3",{"trae-inspector-start-line":"26","trae-inspector-start-column":"14","trae-inspector-end-line":"28","trae-inspector-end-column":"19","trae-inspector-file-path":"src/components/Modal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:t}),w.jsx("button",{"trae-inspector-start-line":"29","trae-inspector-start-column":"14","trae-inspector-end-line":"34","trae-inspector-end-column":"23","trae-inspector-file-path":"src/components/Modal.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",onClick:e,className:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none",children:w.jsx(YE,{className:"h-6 w-6"})})]}),s]})})]})}):null,KN=()=>{const[n,e]=b.useState([]),[t,s]=b.useState(!0),[a,l]=b.useState(!1),[u,p]=b.useState(""),[m,y]=b.useState(null),[v,A]=b.useState(""),[E,P]=b.useState(""),[B,z]=b.useState(null),[M,K]=b.useState(!1),Y=async()=>{try{const S=await po();e(S)}catch(S){console.error("Error fetching universities:",S)}finally{s(!1)}};b.useEffect(()=>{Y()},[]);const Q=S=>{S?(y(S),A(S.name),P(S.code)):(y(null),A(""),P("")),z(null),l(!0)},se=async S=>{S.preventDefault(),K(!0);try{m?await ZP(m.universityId,{name:v,code:E},B):await XP(v,E,B),l(!1),Y()}catch(C){console.error("Error saving university:",C)}finally{K(!1)}},ue=async S=>{if(window.confirm("Are you sure you want to delete this university?"))try{await eN(S),Y()}catch(C){console.error("Error deleting university:",C)}},me=n.filter(S=>S.name.toLowerCase().includes(u.toLowerCase())||S.code.toLowerCase().includes(u.toLowerCase()));return w.jsxs("div",{"trae-inspector-start-line":"85","trae-inspector-start-column":"4","trae-inspector-end-line":"214","trae-inspector-end-column":"10","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsxs("div",{"trae-inspector-start-line":"86","trae-inspector-start-column":"6","trae-inspector-end-line":"95","trae-inspector-end-column":"12","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex justify-between items-center mb-6",children:[w.jsx("h1",{"trae-inspector-start-line":"87","trae-inspector-start-column":"8","trae-inspector-end-line":"87","trae-inspector-end-column":"81","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Manage%20Universities%22%2C%22textStartLine%22%3A%2287%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%2287%22%2C%22textEndColumn%22%3A%2276%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-2xl font-bold text-gray-900",children:"Manage Universities"}),w.jsxs("button",{"trae-inspector-start-line":"88","trae-inspector-start-column":"8","trae-inspector-end-line":"94","trae-inspector-end-column":"17","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",onClick:()=>Q(),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2",children:[w.jsx(zl,{className:"h-5 w-5"}),w.jsx("span",{"trae-inspector-start-line":"93","trae-inspector-start-column":"10","trae-inspector-end-line":"93","trae-inspector-end-column":"37","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Add%20University%22%2C%22textStartLine%22%3A%2293%22%2C%22textStartColumn%22%3A%2216%22%2C%22textEndLine%22%3A%2293%22%2C%22textEndColumn%22%3A%2230%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:"Add University"})]})]}),w.jsxs("div",{"trae-inspector-start-line":"97","trae-inspector-start-column":"6","trae-inspector-end-line":"164","trae-inspector-end-column":"12","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[w.jsx("div",{"trae-inspector-start-line":"98","trae-inspector-start-column":"8","trae-inspector-end-line":"111","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"p-4 border-b border-gray-100",children:w.jsxs("div",{"trae-inspector-start-line":"99","trae-inspector-start-column":"10","trae-inspector-end-line":"110","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"relative max-w-md",children:[w.jsx("div",{"trae-inspector-start-line":"100","trae-inspector-start-column":"12","trae-inspector-end-line":"102","trae-inspector-end-column":"18","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:w.jsx(yd,{className:"h-5 w-5 text-gray-400"})}),w.jsx("input",{"trae-inspector-start-line":"103","trae-inspector-start-column":"12","trae-inspector-end-line":"109","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"text",placeholder:"Search universities...",value:u,onChange:S=>p(S.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})}),w.jsx("div",{"trae-inspector-start-line":"113","trae-inspector-start-column":"8","trae-inspector-end-line":"163","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"overflow-x-auto",children:w.jsxs("table",{"trae-inspector-start-line":"114","trae-inspector-start-column":"10","trae-inspector-end-line":"162","trae-inspector-end-column":"18","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"w-full",children:[w.jsx("thead",{"trae-inspector-start-line":"115","trae-inspector-start-column":"12","trae-inspector-end-line":"122","trae-inspector-end-column":"20","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-gray-50 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:w.jsxs("tr",{"trae-inspector-start-line":"116","trae-inspector-start-column":"14","trae-inspector-end-line":"121","trae-inspector-end-column":"19","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("th",{"trae-inspector-start-line":"117","trae-inspector-start-column":"16","trae-inspector-end-line":"117","trae-inspector-end-column":"51","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Logo%22%2C%22textStartLine%22%3A%22117%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22117%22%2C%22textEndColumn%22%3A%2246%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-3",children:"Logo"}),w.jsx("th",{"trae-inspector-start-line":"118","trae-inspector-start-column":"16","trae-inspector-end-line":"118","trae-inspector-end-column":"51","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Name%22%2C%22textStartLine%22%3A%22118%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22118%22%2C%22textEndColumn%22%3A%2246%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-3",children:"Name"}),w.jsx("th",{"trae-inspector-start-line":"119","trae-inspector-start-column":"16","trae-inspector-end-line":"119","trae-inspector-end-column":"51","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Code%22%2C%22textStartLine%22%3A%22119%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22119%22%2C%22textEndColumn%22%3A%2246%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-3",children:"Code"}),w.jsx("th",{"trae-inspector-start-line":"120","trae-inspector-start-column":"16","trae-inspector-end-line":"120","trae-inspector-end-column":"65","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Actions%22%2C%22textStartLine%22%3A%22120%22%2C%22textStartColumn%22%3A%2253%22%2C%22textEndLine%22%3A%22120%22%2C%22textEndColumn%22%3A%2260%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-3 text-right",children:"Actions"})]})}),w.jsx("tbody",{"trae-inspector-start-line":"123","trae-inspector-start-column":"12","trae-inspector-end-line":"161","trae-inspector-end-column":"20","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"divide-y divide-gray-100",children:t?w.jsx("tr",{"trae-inspector-start-line":"125","trae-inspector-start-column":"16","trae-inspector-end-line":"127","trae-inspector-end-column":"21","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:w.jsx("td",{"trae-inspector-start-line":"126","trae-inspector-start-column":"18","trae-inspector-end-line":"126","trae-inspector-end-column":"97","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Loading...%22%2C%22textStartLine%22%3A%22126%22%2C%22textStartColumn%22%3A%2282%22%2C%22textEndLine%22%3A%22126%22%2C%22textEndColumn%22%3A%2292%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:"Loading..."})}):me.length===0?w.jsx("tr",{"trae-inspector-start-line":"129","trae-inspector-start-column":"16","trae-inspector-end-line":"131","trae-inspector-end-column":"21","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:w.jsx("td",{"trae-inspector-start-line":"130","trae-inspector-start-column":"18","trae-inspector-end-line":"130","trae-inspector-end-column":"108","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22No%20universities%20found%22%2C%22textStartLine%22%3A%22130%22%2C%22textStartColumn%22%3A%2282%22%2C%22textEndLine%22%3A%22130%22%2C%22textEndColumn%22%3A%22103%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:"No universities found"})}):me.map(S=>w.jsxs("tr",{"trae-inspector-start-line":"134","trae-inspector-start-column":"18","trae-inspector-end-line":"158","trae-inspector-end-column":"23","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"hover:bg-gray-50",children:[w.jsx("td",{"trae-inspector-start-line":"135","trae-inspector-start-column":"20","trae-inspector-end-line":"141","trae-inspector-end-column":"25","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-4",children:S.logoUrl?w.jsx("img",{"trae-inspector-start-line":"137","trae-inspector-start-column":"24","trae-inspector-end-line":"137","trae-inspector-end-column":"109","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",src:S.logoUrl,alt:S.name,className:"h-10 w-10 object-contain rounded"}):w.jsx("div",{"trae-inspector-start-line":"139","trae-inspector-start-column":"24","trae-inspector-end-line":"139","trae-inspector-end-column":"139","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22No%20Logo%22%2C%22textStartLine%22%3A%22139%22%2C%22textStartColumn%22%3A%22126%22%2C%22textEndLine%22%3A%22139%22%2C%22textEndColumn%22%3A%22133%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"h-10 w-10 bg-gray-200 rounded flex items-center justify-center text-gray-500 text-xs",children:"No Logo"})}),w.jsx("td",{"trae-inspector-start-line":"142","trae-inspector-start-column":"20","trae-inspector-end-line":"142","trae-inspector-end-column":"95","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-4 text-sm font-medium text-gray-900",children:S.name}),w.jsx("td",{"trae-inspector-start-line":"143","trae-inspector-start-column":"20","trae-inspector-end-line":"143","trae-inspector-end-column":"83","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-4 text-sm text-gray-500",children:S.code}),w.jsxs("td",{"trae-inspector-start-line":"144","trae-inspector-start-column":"20","trae-inspector-end-line":"157","trae-inspector-end-column":"25","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-4 text-right space-x-2",children:[w.jsx("button",{"trae-inspector-start-line":"145","trae-inspector-start-column":"22","trae-inspector-end-line":"150","trae-inspector-end-column":"31","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",onClick:()=>Q(S),className:"text-blue-600 hover:text-blue-900",children:w.jsx(f_,{className:"h-5 w-5"})}),w.jsx("button",{"trae-inspector-start-line":"151","trae-inspector-start-column":"22","trae-inspector-end-line":"156","trae-inspector-end-column":"31","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",onClick:()=>ue(S.universityId),className:"text-red-600 hover:text-red-900",children:w.jsx($l,{className:"h-5 w-5"})})]})]},S.universityId))})]})})]}),w.jsx(ic,{isOpen:a,onClose:()=>l(!1),title:m?"Edit University":"Add University",children:w.jsxs("form",{"trae-inspector-start-line":"171","trae-inspector-start-column":"8","trae-inspector-end-line":"212","trae-inspector-end-column":"15","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",onSubmit:se,className:"space-y-4",children:[w.jsxs("div",{"trae-inspector-start-line":"172","trae-inspector-start-column":"10","trae-inspector-end-line":"182","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("label",{"trae-inspector-start-line":"173","trae-inspector-start-column":"12","trae-inspector-end-line":"173","trae-inspector-end-column":"94","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22University%20Name%22%2C%22textStartLine%22%3A%22173%22%2C%22textStartColumn%22%3A%2271%22%2C%22textEndLine%22%3A%22173%22%2C%22textEndColumn%22%3A%2286%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"block text-sm font-medium text-gray-700",children:"University Name"}),w.jsx("input",{"trae-inspector-start-line":"174","trae-inspector-start-column":"12","trae-inspector-end-line":"181","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"text",required:!0,value:v,onChange:S=>A(S.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"University of Pretoria"})]}),w.jsxs("div",{"trae-inspector-start-line":"183","trae-inspector-start-column":"10","trae-inspector-end-line":"193","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("label",{"trae-inspector-start-line":"184","trae-inspector-start-column":"12","trae-inspector-end-line":"184","trae-inspector-end-column":"94","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22University%20Code%22%2C%22textStartLine%22%3A%22184%22%2C%22textStartColumn%22%3A%2271%22%2C%22textEndLine%22%3A%22184%22%2C%22textEndColumn%22%3A%2286%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"block text-sm font-medium text-gray-700",children:"University Code"}),w.jsx("input",{"trae-inspector-start-line":"185","trae-inspector-start-column":"12","trae-inspector-end-line":"192","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"text",required:!0,value:E,onChange:S=>P(S.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"UP"})]}),w.jsxs("div",{"trae-inspector-start-line":"194","trae-inspector-start-column":"10","trae-inspector-end-line":"202","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("label",{"trae-inspector-start-line":"195","trae-inspector-start-column":"12","trae-inspector-end-line":"195","trae-inspector-end-column":"83","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Logo%22%2C%22textStartLine%22%3A%22195%22%2C%22textStartColumn%22%3A%2271%22%2C%22textEndLine%22%3A%22195%22%2C%22textEndColumn%22%3A%2275%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"block text-sm font-medium text-gray-700",children:"Logo"}),w.jsx("input",{"trae-inspector-start-line":"196","trae-inspector-start-column":"12","trae-inspector-end-line":"201","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"file",accept:"image/*",onChange:S=>z(S.target.files?S.target.files[0]:null),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),w.jsx("div",{"trae-inspector-start-line":"203","trae-inspector-start-column":"10","trae-inspector-end-line":"211","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"mt-5 sm:mt-6",children:w.jsx("button",{"trae-inspector-start-line":"204","trae-inspector-start-column":"12","trae-inspector-end-line":"210","trae-inspector-end-column":"21","trae-inspector-file-path":"src/pages/Universities.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"submit",disabled:M,className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm ${M?"opacity-75 cursor-not-allowed":""}`,children:M?"Saving...":"Save"})})]})})]})},$d="modules",i0=async n=>{const e=zn(sn(at,$d),Bs("universityId","==",n),Gs("code"));return(await Yi(e)).docs.map(s=>({moduleId:s.id,...s.data()}))},GN=async(n,e,t)=>(await rc(sn(at,$d),{universityId:n,code:e,name:t,createdAt:tc()})).id,YN=async(n,e)=>{await _m(Cr(at,$d,n),e)},JN=async n=>{await nc(Cr(at,$d,n))},XN=()=>{const[n,e]=b.useState([]),[t,s]=b.useState(""),[a,l]=b.useState([]),[u,p]=b.useState(!1),[m,y]=b.useState(!1),[v,A]=b.useState(""),[E,P]=b.useState(null),[B,z]=b.useState(""),[M,K]=b.useState(""),[Y,Q]=b.useState(!1);b.useEffect(()=>{(async()=>{try{const N=await po();e(N),N.length>0&&s(N[0].universityId)}catch(N){console.error("Error fetching universities:",N)}})()},[]),b.useEffect(()=>{t&&se(t)},[t]);const se=async T=>{p(!0);try{const N=await i0(T);l(N)}catch(N){console.error("Error fetching modules:",N)}finally{p(!1)}},ue=T=>{T?(P(T),z(T.code),K(T.name)):(P(null),z(""),K("")),y(!0)},me=async T=>{if(T.preventDefault(),!!t){Q(!0);try{E?await YN(E.moduleId,{code:B,name:M}):await GN(t,B,M),y(!1),se(t)}catch(N){console.error("Error saving module:",N)}finally{Q(!1)}}},S=async T=>{if(window.confirm("Are you sure you want to delete this module?"))try{await JN(T),se(t)}catch(N){console.error("Error deleting module:",N)}},C=a.filter(T=>T.name.toLowerCase().includes(v.toLowerCase())||T.code.toLowerCase().includes(v.toLowerCase()));return w.jsxs("div",{"trae-inspector-start-line":"105","trae-inspector-start-column":"4","trae-inspector-end-line":"239","trae-inspector-end-column":"10","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsxs("div",{"trae-inspector-start-line":"106","trae-inspector-start-column":"6","trae-inspector-end-line":"116","trae-inspector-end-column":"12","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex justify-between items-center mb-6",children:[w.jsx("h1",{"trae-inspector-start-line":"107","trae-inspector-start-column":"8","trae-inspector-end-line":"107","trae-inspector-end-column":"76","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Manage%20Modules%22%2C%22textStartLine%22%3A%22107%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%22107%22%2C%22textEndColumn%22%3A%2271%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-2xl font-bold text-gray-900",children:"Manage Modules"}),w.jsxs("button",{"trae-inspector-start-line":"108","trae-inspector-start-column":"8","trae-inspector-end-line":"115","trae-inspector-end-column":"17","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",onClick:()=>ue(),disabled:!t,className:`bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 ${t?"":"opacity-50 cursor-not-allowed"}`,children:[w.jsx(zl,{className:"h-5 w-5"}),w.jsx("span",{"trae-inspector-start-line":"114","trae-inspector-start-column":"10","trae-inspector-end-line":"114","trae-inspector-end-column":"33","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Add%20Module%22%2C%22textStartLine%22%3A%22114%22%2C%22textStartColumn%22%3A%2216%22%2C%22textEndLine%22%3A%22114%22%2C%22textEndColumn%22%3A%2226%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:"Add Module"})]})]}),w.jsx("div",{"trae-inspector-start-line":"118","trae-inspector-start-column":"6","trae-inspector-end-line":"150","trae-inspector-end-column":"12","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-white rounded-xl shadow-sm overflow-hidden mb-6",children:w.jsxs("div",{"trae-inspector-start-line":"119","trae-inspector-start-column":"8","trae-inspector-end-line":"149","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"p-4 border-b border-gray-100 flex items-center space-x-4",children:[w.jsxs("div",{"trae-inspector-start-line":"120","trae-inspector-start-column":"10","trae-inspector-end-line":"133","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex-1",children:[w.jsx("label",{"trae-inspector-start-line":"121","trae-inspector-start-column":"12","trae-inspector-end-line":"121","trae-inspector-end-column":"101","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Select%20University%22%2C%22textStartLine%22%3A%22121%22%2C%22textStartColumn%22%3A%2276%22%2C%22textEndLine%22%3A%22121%22%2C%22textEndColumn%22%3A%2293%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select University"}),w.jsx("select",{"trae-inspector-start-line":"122","trae-inspector-start-column":"12","trae-inspector-end-line":"132","trae-inspector-end-column":"21","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",value:t,onChange:T=>s(T.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md border",children:n.map(T=>w.jsxs("option",{"trae-inspector-start-line":"128","trae-inspector-start-column":"16","trae-inspector-end-line":"130","trae-inspector-end-column":"25","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",value:T.universityId,children:[T.name," (",T.code,")"]},T.universityId))})]}),w.jsxs("div",{"trae-inspector-start-line":"134","trae-inspector-start-column":"10","trae-inspector-end-line":"148","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex-1",children:[w.jsx("label",{"trae-inspector-start-line":"135","trae-inspector-start-column":"12","trae-inspector-end-line":"135","trae-inspector-end-column":"98","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Search%20Modules%22%2C%22textStartLine%22%3A%22135%22%2C%22textStartColumn%22%3A%2276%22%2C%22textEndLine%22%3A%22135%22%2C%22textEndColumn%22%3A%2290%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Modules"}),w.jsxs("div",{"trae-inspector-start-line":"136","trae-inspector-start-column":"12","trae-inspector-end-line":"147","trae-inspector-end-column":"18","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"relative",children:[w.jsx("div",{"trae-inspector-start-line":"137","trae-inspector-start-column":"14","trae-inspector-end-line":"139","trae-inspector-end-column":"20","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:w.jsx(yd,{className:"h-5 w-5 text-gray-400"})}),w.jsx("input",{"trae-inspector-start-line":"140","trae-inspector-start-column":"14","trae-inspector-end-line":"146","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"text",placeholder:"Search by code or name...",value:v,onChange:T=>A(T.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]})]})}),w.jsx("div",{"trae-inspector-start-line":"152","trae-inspector-start-column":"6","trae-inspector-end-line":"198","trae-inspector-end-column":"12","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-white rounded-xl shadow-sm overflow-hidden",children:w.jsx("div",{"trae-inspector-start-line":"153","trae-inspector-start-column":"8","trae-inspector-end-line":"197","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"overflow-x-auto",children:w.jsxs("table",{"trae-inspector-start-line":"154","trae-inspector-start-column":"10","trae-inspector-end-line":"196","trae-inspector-end-column":"18","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"w-full",children:[w.jsx("thead",{"trae-inspector-start-line":"155","trae-inspector-start-column":"12","trae-inspector-end-line":"161","trae-inspector-end-column":"20","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-gray-50 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:w.jsxs("tr",{"trae-inspector-start-line":"156","trae-inspector-start-column":"14","trae-inspector-end-line":"160","trae-inspector-end-column":"19","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("th",{"trae-inspector-start-line":"157","trae-inspector-start-column":"16","trae-inspector-end-line":"157","trae-inspector-end-column":"51","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Code%22%2C%22textStartLine%22%3A%22157%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22157%22%2C%22textEndColumn%22%3A%2246%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-3",children:"Code"}),w.jsx("th",{"trae-inspector-start-line":"158","trae-inspector-start-column":"16","trae-inspector-end-line":"158","trae-inspector-end-column":"51","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Name%22%2C%22textStartLine%22%3A%22158%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22158%22%2C%22textEndColumn%22%3A%2246%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-3",children:"Name"}),w.jsx("th",{"trae-inspector-start-line":"159","trae-inspector-start-column":"16","trae-inspector-end-line":"159","trae-inspector-end-column":"65","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Actions%22%2C%22textStartLine%22%3A%22159%22%2C%22textStartColumn%22%3A%2253%22%2C%22textEndLine%22%3A%22159%22%2C%22textEndColumn%22%3A%2260%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-3 text-right",children:"Actions"})]})}),w.jsx("tbody",{"trae-inspector-start-line":"162","trae-inspector-start-column":"12","trae-inspector-end-line":"195","trae-inspector-end-column":"20","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"divide-y divide-gray-100",children:u?w.jsx("tr",{"trae-inspector-start-line":"164","trae-inspector-start-column":"16","trae-inspector-end-line":"166","trae-inspector-end-column":"21","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:w.jsx("td",{"trae-inspector-start-line":"165","trae-inspector-start-column":"18","trae-inspector-end-line":"165","trae-inspector-end-column":"97","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Loading...%22%2C%22textStartLine%22%3A%22165%22%2C%22textStartColumn%22%3A%2282%22%2C%22textEndLine%22%3A%22165%22%2C%22textEndColumn%22%3A%2292%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",colSpan:3,className:"px-6 py-4 text-center text-gray-500",children:"Loading..."})}):C.length===0?w.jsx("tr",{"trae-inspector-start-line":"168","trae-inspector-start-column":"16","trae-inspector-end-line":"172","trae-inspector-end-column":"21","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:w.jsx("td",{"trae-inspector-start-line":"169","trae-inspector-start-column":"18","trae-inspector-end-line":"171","trae-inspector-end-column":"23","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",colSpan:3,className:"px-6 py-4 text-center text-gray-500",children:t?"No modules found for this university":"Please select a university"})}):C.map(T=>w.jsxs("tr",{"trae-inspector-start-line":"175","trae-inspector-start-column":"18","trae-inspector-end-line":"192","trae-inspector-end-column":"23","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"hover:bg-gray-50",children:[w.jsx("td",{"trae-inspector-start-line":"176","trae-inspector-start-column":"20","trae-inspector-end-line":"176","trae-inspector-end-column":"95","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-4 text-sm font-medium text-blue-600",children:T.code}),w.jsx("td",{"trae-inspector-start-line":"177","trae-inspector-start-column":"20","trae-inspector-end-line":"177","trae-inspector-end-column":"83","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-4 text-sm text-gray-900",children:T.name}),w.jsxs("td",{"trae-inspector-start-line":"178","trae-inspector-start-column":"20","trae-inspector-end-line":"191","trae-inspector-end-column":"25","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-4 text-right space-x-2",children:[w.jsx("button",{"trae-inspector-start-line":"179","trae-inspector-start-column":"22","trae-inspector-end-line":"184","trae-inspector-end-column":"31","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",onClick:()=>ue(T),className:"text-blue-600 hover:text-blue-900",children:w.jsx(f_,{className:"h-5 w-5"})}),w.jsx("button",{"trae-inspector-start-line":"185","trae-inspector-start-column":"22","trae-inspector-end-line":"190","trae-inspector-end-column":"31","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",onClick:()=>S(T.moduleId),className:"text-red-600 hover:text-red-900",children:w.jsx($l,{className:"h-5 w-5"})})]})]},T.moduleId))})]})})}),w.jsx(ic,{isOpen:m,onClose:()=>y(!1),title:E?"Edit Module":"Add Module",children:w.jsxs("form",{"trae-inspector-start-line":"205","trae-inspector-start-column":"8","trae-inspector-end-line":"237","trae-inspector-end-column":"15","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",onSubmit:me,className:"space-y-4",children:[w.jsxs("div",{"trae-inspector-start-line":"206","trae-inspector-start-column":"10","trae-inspector-end-line":"216","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("label",{"trae-inspector-start-line":"207","trae-inspector-start-column":"12","trae-inspector-end-line":"207","trae-inspector-end-column":"90","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Module%20Code%22%2C%22textStartLine%22%3A%22207%22%2C%22textStartColumn%22%3A%2271%22%2C%22textEndLine%22%3A%22207%22%2C%22textEndColumn%22%3A%2282%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"block text-sm font-medium text-gray-700",children:"Module Code"}),w.jsx("input",{"trae-inspector-start-line":"208","trae-inspector-start-column":"12","trae-inspector-end-line":"215","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"text",required:!0,value:B,onChange:T=>z(T.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"SMTH011"})]}),w.jsxs("div",{"trae-inspector-start-line":"217","trae-inspector-start-column":"10","trae-inspector-end-line":"227","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("label",{"trae-inspector-start-line":"218","trae-inspector-start-column":"12","trae-inspector-end-line":"218","trae-inspector-end-column":"90","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Module%20Name%22%2C%22textStartLine%22%3A%22218%22%2C%22textStartColumn%22%3A%2271%22%2C%22textEndLine%22%3A%22218%22%2C%22textEndColumn%22%3A%2282%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"block text-sm font-medium text-gray-700",children:"Module Name"}),w.jsx("input",{"trae-inspector-start-line":"219","trae-inspector-start-column":"12","trae-inspector-end-line":"226","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"text",required:!0,value:M,onChange:T=>K(T.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Introduction to Calculus"})]}),w.jsx("div",{"trae-inspector-start-line":"228","trae-inspector-start-column":"10","trae-inspector-end-line":"236","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"mt-5 sm:mt-6",children:w.jsx("button",{"trae-inspector-start-line":"229","trae-inspector-start-column":"12","trae-inspector-end-line":"235","trae-inspector-end-column":"21","trae-inspector-file-path":"src/pages/Modules.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"submit",disabled:Y,className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm ${Y?"opacity-75 cursor-not-allowed":""}`,children:Y?"Saving...":"Save"})})]})})]})},ZN=({assessmentId:n,assessmentTitle:e,onClose:t})=>{const[s,a]=b.useState([]),[l,u]=b.useState(!1),[p,m]=b.useState(!1),[y,v]=b.useState(!1),[A,E]=b.useState(""),[P,B]=b.useState(0),[z,M]=b.useState(1),[K,Y]=b.useState(null),[Q,se]=b.useState(null),[ue,me]=b.useState("");b.useEffect(()=>{S()},[n]);const S=async()=>{u(!0);try{const k=await GP(n);a(k),k.length>0&&M(k.length+1)}catch(k){console.error("Error fetching questions:",k)}finally{u(!1)}},C=()=>{E(`Question ${s.length+1}`),B(0),Y(null),se(null),me(""),M(s.length+1),m(!0)},T=async k=>{if(k.preventDefault(),!!K){v(!0);try{await YP(n,A,P,z,K,Q,ue),m(!1),S()}catch(O){console.error("Error adding question:",O)}finally{v(!1)}}},N=async k=>{if(window.confirm("Are you sure you want to delete this question?"))try{await JP(n,k),S()}catch(O){console.error("Error deleting question:",O)}};return w.jsxs("div",{"trae-inspector-start-line":"93","trae-inspector-start-column":"4","trae-inspector-end-line":"301","trae-inspector-end-column":"10","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:[w.jsxs("div",{"trae-inspector-start-line":"94","trae-inspector-start-column":"6","trae-inspector-end-line":"201","trae-inspector-end-column":"12","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[w.jsx("div",{"trae-inspector-start-line":"95","trae-inspector-start-column":"8","trae-inspector-end-line":"95","trae-inspector-end-column":"127","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true",onClick:t}),w.jsx("span",{"trae-inspector-start-line":"97","trae-inspector-start-column":"8","trae-inspector-end-line":"97","trae-inspector-end-column":"110","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22%E2%80%8B%22%2C%22textStartLine%22%3A%2297%22%2C%22textStartColumn%22%3A%2296%22%2C%22textEndLine%22%3A%2297%22%2C%22textEndColumn%22%3A%22103%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),w.jsx("div",{"trae-inspector-start-line":"99","trae-inspector-start-column":"8","trae-inspector-end-line":"200","trae-inspector-end-column":"14","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:w.jsxs("div",{"trae-inspector-start-line":"100","trae-inspector-start-column":"10","trae-inspector-end-line":"199","trae-inspector-end-column":"16","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[w.jsxs("div",{"trae-inspector-start-line":"101","trae-inspector-start-column":"12","trae-inspector-end-line":"125","trae-inspector-end-column":"18","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex justify-between items-center mb-6",children:[w.jsxs("div",{"trae-inspector-start-line":"102","trae-inspector-start-column":"14","trae-inspector-end-line":"109","trae-inspector-end-column":"20","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsxs("h3",{"trae-inspector-start-line":"103","trae-inspector-start-column":"16","trae-inspector-end-line":"105","trae-inspector-end-column":"21","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-lg leading-6 font-medium text-gray-900",id:"modal-title",children:["Manage Questions: ",e]}),w.jsx("p",{"trae-inspector-start-line":"106","trae-inspector-start-column":"16","trae-inspector-end-line":"108","trae-inspector-end-column":"20","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Add%20questions%2C%20marks%2C%20and%20solutions.%22%2C%22textStartLine%22%3A%22106%22%2C%22textStartColumn%22%3A%2258%22%2C%22textEndLine%22%3A%22108%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"mt-1 text-sm text-gray-500",children:"Add questions, marks, and solutions."})]}),w.jsxs("div",{"trae-inspector-start-line":"110","trae-inspector-start-column":"14","trae-inspector-end-line":"124","trae-inspector-end-column":"20","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex space-x-3",children:[w.jsxs("button",{"trae-inspector-start-line":"111","trae-inspector-start-column":"16","trae-inspector-end-line":"117","trae-inspector-end-column":"25","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",onClick:C,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2",children:[w.jsx(zl,{className:"h-5 w-5"}),w.jsx("span",{"trae-inspector-start-line":"116","trae-inspector-start-column":"18","trae-inspector-end-line":"116","trae-inspector-end-column":"43","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Add%20Question%22%2C%22textStartLine%22%3A%22116%22%2C%22textStartColumn%22%3A%2224%22%2C%22textEndLine%22%3A%22116%22%2C%22textEndColumn%22%3A%2236%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:"Add Question"})]}),w.jsx("button",{"trae-inspector-start-line":"118","trae-inspector-start-column":"16","trae-inspector-end-line":"123","trae-inspector-end-column":"25","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Close%22%2C%22textStartLine%22%3A%22121%22%2C%22textStartColumn%22%3A%2217%22%2C%22textEndLine%22%3A%22123%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",onClick:t,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg",children:"Close"})]})]}),w.jsx("div",{"trae-inspector-start-line":"127","trae-inspector-start-column":"12","trae-inspector-end-line":"198","trae-inspector-end-column":"18","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-gray-50 rounded-lg min-h-[400px] p-4",children:l?w.jsx("div",{"trae-inspector-start-line":"129","trae-inspector-start-column":"16","trae-inspector-end-line":"129","trae-inspector-end-column":"77","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Loading%20questions...%22%2C%22textStartLine%22%3A%22129%22%2C%22textStartColumn%22%3A%2251%22%2C%22textEndLine%22%3A%22129%22%2C%22textEndColumn%22%3A%2271%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-center py-10",children:"Loading questions..."}):s.length===0?w.jsx("div",{"trae-inspector-start-line":"131","trae-inspector-start-column":"16","trae-inspector-end-line":"133","trae-inspector-end-column":"22","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22No%20questions%20added%20yet.%20Click%20%5C%22Add%20Question%5C%22%20to%20start.%22%2C%22textStartLine%22%3A%22131%22%2C%22textStartColumn%22%3A%2265%22%2C%22textEndLine%22%3A%22133%22%2C%22textEndColumn%22%3A%2216%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-center py-10 text-gray-500",children:'No questions added yet. Click "Add Question" to start.'}):w.jsx("div",{"trae-inspector-start-line":"135","trae-inspector-start-column":"16","trae-inspector-end-line":"196","trae-inspector-end-column":"22","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"space-y-6",children:s.map(k=>w.jsxs("div",{"trae-inspector-start-line":"137","trae-inspector-start-column":"20","trae-inspector-end-line":"194","trae-inspector-end-column":"26","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[w.jsxs("div",{"trae-inspector-start-line":"139","trae-inspector-start-column":"22","trae-inspector-end-line":"155","trae-inspector-end-column":"28","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex justify-between items-center p-4 border-b border-gray-100 bg-gray-50",children:[w.jsxs("div",{"trae-inspector-start-line":"140","trae-inspector-start-column":"24","trae-inspector-end-line":"143","trae-inspector-end-column":"30","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex items-center space-x-3",children:[w.jsx("div",{"trae-inspector-start-line":"141","trae-inspector-start-column":"26","trae-inspector-end-line":"141","trae-inspector-end-column":"82","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"w-1 h-6 bg-blue-600 rounded-full"}),w.jsx("h4",{"trae-inspector-start-line":"142","trae-inspector-start-column":"26","trae-inspector-end-line":"142","trae-inspector-end-column":"80","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"font-bold text-blue-900",children:k.title})]}),w.jsxs("div",{"trae-inspector-start-line":"144","trae-inspector-start-column":"24","trae-inspector-end-line":"154","trae-inspector-end-column":"30","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex items-center space-x-4",children:[w.jsxs("span",{"trae-inspector-start-line":"145","trae-inspector-start-column":"26","trae-inspector-end-line":"147","trae-inspector-end-column":"33","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-gray-200 text-gray-700 px-2 py-1 rounded-full text-xs font-bold",children:[k.marks," Marks"]}),w.jsx("button",{"trae-inspector-start-line":"148","trae-inspector-start-column":"26","trae-inspector-end-line":"153","trae-inspector-end-column":"35","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",onClick:()=>N(k),className:"text-red-500 hover:text-red-700",children:w.jsx($l,{className:"h-5 w-5"})})]})]}),w.jsxs("div",{"trae-inspector-start-line":"158","trae-inspector-start-column":"22","trae-inspector-end-line":"193","trae-inspector-end-column":"28","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"p-4",children:[w.jsxs("div",{"trae-inspector-start-line":"159","trae-inspector-start-column":"24","trae-inspector-end-line":"164","trae-inspector-end-column":"30","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"mb-4",children:[w.jsx("p",{"trae-inspector-start-line":"160","trae-inspector-start-column":"26","trae-inspector-end-line":"160","trae-inspector-end-column":"112","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Question%20Content%22%2C%22textStartLine%22%3A%22160%22%2C%22textStartColumn%22%3A%2292%22%2C%22textEndLine%22%3A%22160%22%2C%22textEndColumn%22%3A%22108%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-xs text-gray-500 mb-1 uppercase font-semibold",children:"Question Content"}),w.jsx("div",{"trae-inspector-start-line":"161","trae-inspector-start-column":"26","trae-inspector-end-line":"163","trae-inspector-end-column":"32","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"border border-gray-100 rounded bg-gray-50 p-2",children:w.jsx("img",{"trae-inspector-start-line":"162","trae-inspector-start-column":"28","trae-inspector-end-line":"162","trae-inspector-end-column":"122","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",src:k.contentUrl,alt:k.title,className:"max-w-full h-auto max-h-64 object-contain"})})]}),w.jsxs("div",{"trae-inspector-start-line":"166","trae-inspector-start-column":"24","trae-inspector-end-line":"192","trae-inspector-end-column":"30","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{"trae-inspector-start-line":"167","trae-inspector-start-column":"26","trae-inspector-end-line":"178","trae-inspector-end-column":"32","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("p",{"trae-inspector-start-line":"168","trae-inspector-start-column":"28","trae-inspector-end-line":"168","trae-inspector-end-column":"104","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Answer%22%2C%22textStartLine%22%3A%22168%22%2C%22textStartColumn%22%3A%2294%22%2C%22textEndLine%22%3A%22168%22%2C%22textEndColumn%22%3A%22100%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-xs text-gray-500 mb-1 uppercase font-semibold",children:"Answer"}),k.answerUrl?w.jsxs("div",{"trae-inspector-start-line":"170","trae-inspector-start-column":"30","trae-inspector-end-line":"174","trae-inspector-end-column":"36","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex items-center space-x-2 text-green-600",children:[w.jsx(mE,{className:"h-4 w-4"}),w.jsx("span",{"trae-inspector-start-line":"172","trae-inspector-start-column":"32","trae-inspector-end-line":"172","trae-inspector-end-column":"86","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Answer%20Image%20Uploaded%22%2C%22textStartLine%22%3A%22172%22%2C%22textStartColumn%22%3A%2258%22%2C%22textEndLine%22%3A%22172%22%2C%22textEndColumn%22%3A%2279%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-sm",children:"Answer Image Uploaded"}),w.jsx("a",{"trae-inspector-start-line":"173","trae-inspector-start-column":"32","trae-inspector-end-line":"173","trae-inspector-end-column":"147","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22(View)%22%2C%22textStartLine%22%3A%22173%22%2C%22textStartColumn%22%3A%22137%22%2C%22textEndLine%22%3A%22173%22%2C%22textEndColumn%22%3A%22143%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",href:k.answerUrl,target:"_blank",rel:"noreferrer",className:"text-blue-500 text-xs hover:underline",children:"(View)"})]}):w.jsx("span",{"trae-inspector-start-line":"176","trae-inspector-start-column":"30","trae-inspector-end-line":"176","trae-inspector-end-column":"95","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22No%20answer%20provided%22%2C%22textStartLine%22%3A%22176%22%2C%22textStartColumn%22%3A%2270%22%2C%22textEndLine%22%3A%22176%22%2C%22textEndColumn%22%3A%2288%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-sm text-gray-400",children:"No answer provided"})]}),w.jsxs("div",{"trae-inspector-start-line":"179","trae-inspector-start-column":"26","trae-inspector-end-line":"191","trae-inspector-end-column":"32","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("p",{"trae-inspector-start-line":"180","trae-inspector-start-column":"28","trae-inspector-end-line":"180","trae-inspector-end-column":"112","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Video%20Solution%22%2C%22textStartLine%22%3A%22180%22%2C%22textStartColumn%22%3A%2294%22%2C%22textEndLine%22%3A%22180%22%2C%22textEndColumn%22%3A%22108%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-xs text-gray-500 mb-1 uppercase font-semibold",children:"Video Solution"}),k.videoUrl?w.jsxs("div",{"trae-inspector-start-line":"182","trae-inspector-start-column":"30","trae-inspector-end-line":"187","trae-inspector-end-column":"36","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex items-center space-x-2 text-blue-600",children:[w.jsx(KE,{className:"h-4 w-4"}),w.jsx("a",{"trae-inspector-start-line":"184","trae-inspector-start-column":"32","trae-inspector-end-line":"186","trae-inspector-end-column":"36","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",href:k.videoUrl,target:"_blank",rel:"noreferrer",className:"text-sm hover:underline truncate block max-w-[200px]",children:k.videoUrl})]}):w.jsx("span",{"trae-inspector-start-line":"189","trae-inspector-start-column":"30","trae-inspector-end-line":"189","trae-inspector-end-column":"90","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22No%20video%20link%22%2C%22textStartLine%22%3A%22189%22%2C%22textStartColumn%22%3A%2270%22%2C%22textEndLine%22%3A%22189%22%2C%22textEndColumn%22%3A%2283%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-sm text-gray-400",children:"No video link"})]})]})]})]},k.questionId))})})]})})]}),w.jsx(ic,{isOpen:p,onClose:()=>m(!1),title:"Add New Question",children:w.jsxs("form",{"trae-inspector-start-line":"208","trae-inspector-start-column":"8","trae-inspector-end-line":"299","trae-inspector-end-column":"15","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",onSubmit:T,className:"space-y-4",children:[w.jsxs("div",{"trae-inspector-start-line":"209","trae-inspector-start-column":"10","trae-inspector-end-line":"232","trae-inspector-end-column":"16","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{"trae-inspector-start-line":"210","trae-inspector-start-column":"12","trae-inspector-end-line":"220","trae-inspector-end-column":"18","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("label",{"trae-inspector-start-line":"211","trae-inspector-start-column":"14","trae-inspector-end-line":"211","trae-inspector-end-column":"95","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Question%20Title%22%2C%22textStartLine%22%3A%22211%22%2C%22textStartColumn%22%3A%2273%22%2C%22textEndLine%22%3A%22211%22%2C%22textEndColumn%22%3A%2287%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"block text-sm font-medium text-gray-700",children:"Question Title"}),w.jsx("input",{"trae-inspector-start-line":"212","trae-inspector-start-column":"14","trae-inspector-end-line":"219","trae-inspector-end-column":"16","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"text",required:!0,value:A,onChange:k=>E(k.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Question 1"})]}),w.jsxs("div",{"trae-inspector-start-line":"221","trae-inspector-start-column":"12","trae-inspector-end-line":"231","trae-inspector-end-column":"18","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("label",{"trae-inspector-start-line":"222","trae-inspector-start-column":"14","trae-inspector-end-line":"222","trae-inspector-end-column":"86","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Marks%22%2C%22textStartLine%22%3A%22222%22%2C%22textStartColumn%22%3A%2273%22%2C%22textEndLine%22%3A%22222%22%2C%22textEndColumn%22%3A%2278%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"block text-sm font-medium text-gray-700",children:"Marks"}),w.jsx("input",{"trae-inspector-start-line":"223","trae-inspector-start-column":"14","trae-inspector-end-line":"230","trae-inspector-end-column":"16","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"number",required:!0,min:"0",value:P,onChange:k=>B(parseInt(k.target.value)),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),w.jsxs("div",{"trae-inspector-start-line":"234","trae-inspector-start-column":"10","trae-inspector-end-line":"244","trae-inspector-end-column":"16","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("label",{"trae-inspector-start-line":"235","trae-inspector-start-column":"12","trae-inspector-end-line":"235","trae-inspector-end-column":"84","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Order%22%2C%22textStartLine%22%3A%22235%22%2C%22textStartColumn%22%3A%2271%22%2C%22textEndLine%22%3A%22235%22%2C%22textEndColumn%22%3A%2276%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"block text-sm font-medium text-gray-700",children:"Order"}),w.jsx("input",{"trae-inspector-start-line":"236","trae-inspector-start-column":"12","trae-inspector-end-line":"243","trae-inspector-end-column":"14","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"number",required:!0,min:"1",value:z,onChange:k=>M(parseInt(k.target.value)),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),w.jsxs("div",{"trae-inspector-start-line":"246","trae-inspector-start-column":"10","trae-inspector-end-line":"262","trae-inspector-end-column":"16","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("label",{"trae-inspector-start-line":"247","trae-inspector-start-column":"12","trae-inspector-end-line":"247","trae-inspector-end-column":"104","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Question%20Image%20(Required)%22%2C%22textStartLine%22%3A%22247%22%2C%22textStartColumn%22%3A%2271%22%2C%22textEndLine%22%3A%22247%22%2C%22textEndColumn%22%3A%2296%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"block text-sm font-medium text-gray-700",children:"Question Image (Required)"}),w.jsx("div",{"trae-inspector-start-line":"248","trae-inspector-start-column":"12","trae-inspector-end-line":"261","trae-inspector-end-column":"18","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:w.jsxs("div",{"trae-inspector-start-line":"249","trae-inspector-start-column":"14","trae-inspector-end-line":"260","trae-inspector-end-column":"20","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"space-y-1 text-center",children:[w.jsx(kE,{className:"mx-auto h-12 w-12 text-gray-400"}),w.jsxs("div",{"trae-inspector-start-line":"251","trae-inspector-start-column":"16","trae-inspector-end-line":"257","trae-inspector-end-column":"22","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex text-sm text-gray-600",children:[w.jsxs("label",{"trae-inspector-start-line":"252","trae-inspector-start-column":"18","trae-inspector-end-line":"255","trae-inspector-end-column":"26","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",htmlFor:"content-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-blue-500",children:[w.jsx("span",{"trae-inspector-start-line":"253","trae-inspector-start-column":"20","trae-inspector-end-line":"253","trae-inspector-end-column":"46","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Upload%20a%20file%22%2C%22textStartLine%22%3A%22253%22%2C%22textStartColumn%22%3A%2226%22%2C%22textEndLine%22%3A%22253%22%2C%22textEndColumn%22%3A%2239%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:"Upload a file"}),w.jsx("input",{"trae-inspector-start-line":"254","trae-inspector-start-column":"20","trae-inspector-end-line":"254","trae-inspector-end-column":"205","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",id:"content-upload",name:"content-upload",type:"file",className:"sr-only",accept:"image/*",onChange:k=>Y(k.target.files?k.target.files[0]:null),required:!0})]}),w.jsx("p",{"trae-inspector-start-line":"256","trae-inspector-start-column":"18","trae-inspector-end-line":"256","trae-inspector-end-column":"58","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22or%20drag%20and%20drop%22%2C%22textStartLine%22%3A%22256%22%2C%22textStartColumn%22%3A%2238%22%2C%22textEndLine%22%3A%22256%22%2C%22textEndColumn%22%3A%2254%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"pl-1",children:"or drag and drop"})]}),w.jsx("p",{"trae-inspector-start-line":"258","trae-inspector-start-column":"16","trae-inspector-end-line":"258","trae-inspector-end-column":"75","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22PNG%2C%20JPG%20up%20to%205MB%22%2C%22textStartLine%22%3A%22258%22%2C%22textStartColumn%22%3A%2253%22%2C%22textEndLine%22%3A%22258%22%2C%22textEndColumn%22%3A%2271%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-xs text-gray-500",children:"PNG, JPG up to 5MB"}),K&&w.jsx("p",{"trae-inspector-start-line":"259","trae-inspector-start-column":"32","trae-inspector-end-line":"259","trae-inspector-end-column":"106","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-sm text-green-600 font-semibold",children:K.name})]})})]}),w.jsxs("div",{"trae-inspector-start-line":"264","trae-inspector-start-column":"10","trae-inspector-end-line":"272","trae-inspector-end-column":"16","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("label",{"trae-inspector-start-line":"265","trae-inspector-start-column":"12","trae-inspector-end-line":"265","trae-inspector-end-column":"102","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Answer%20Image%20(Optional)%22%2C%22textStartLine%22%3A%22265%22%2C%22textStartColumn%22%3A%2271%22%2C%22textEndLine%22%3A%22265%22%2C%22textEndColumn%22%3A%2294%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"block text-sm font-medium text-gray-700",children:"Answer Image (Optional)"}),w.jsx("input",{"trae-inspector-start-line":"266","trae-inspector-start-column":"12","trae-inspector-end-line":"271","trae-inspector-end-column":"14","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"file",accept:"image/*",onChange:k=>se(k.target.files?k.target.files[0]:null),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),w.jsxs("div",{"trae-inspector-start-line":"274","trae-inspector-start-column":"10","trae-inspector-end-line":"288","trae-inspector-end-column":"16","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("label",{"trae-inspector-start-line":"275","trae-inspector-start-column":"12","trae-inspector-end-line":"275","trae-inspector-end-column":"108","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Video%20Solution%20URL%20(Optional)%22%2C%22textStartLine%22%3A%22275%22%2C%22textStartColumn%22%3A%2271%22%2C%22textEndLine%22%3A%22275%22%2C%22textEndColumn%22%3A%22100%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"block text-sm font-medium text-gray-700",children:"Video Solution URL (Optional)"}),w.jsxs("div",{"trae-inspector-start-line":"276","trae-inspector-start-column":"12","trae-inspector-end-line":"287","trae-inspector-end-column":"18","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"mt-1 flex rounded-md shadow-sm",children:[w.jsx("span",{"trae-inspector-start-line":"277","trae-inspector-start-column":"14","trae-inspector-end-line":"279","trae-inspector-end-column":"21","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22https%3A%2F%2F%22%2C%22textStartLine%22%3A%22277%22%2C%22textStartColumn%22%3A%22142%22%2C%22textEndLine%22%3A%22279%22%2C%22textEndColumn%22%3A%2214%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:"https://"}),w.jsx("input",{"trae-inspector-start-line":"280","trae-inspector-start-column":"14","trae-inspector-end-line":"286","trae-inspector-end-column":"16","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"url",value:ue,onChange:k=>me(k.target.value),className:"focus:ring-blue-500 focus:border-blue-500 flex-1 block w-full rounded-none rounded-r-md sm:text-sm border-gray-300 py-2 px-3 border",placeholder:"youtube.com/watch?v=..."})]})]}),w.jsx("div",{"trae-inspector-start-line":"290","trae-inspector-start-column":"10","trae-inspector-end-line":"298","trae-inspector-end-column":"16","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"mt-5 sm:mt-6",children:w.jsx("button",{"trae-inspector-start-line":"291","trae-inspector-start-column":"12","trae-inspector-end-line":"297","trae-inspector-end-column":"21","trae-inspector-file-path":"src/components/QuestionManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"submit",disabled:y,className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm ${y?"opacity-75 cursor-not-allowed":""}`,children:y?"Saving Question...":"Save Question"})})]})})]})},Pm=({type:n,title:e})=>{const{user:t}=sc(),[s,a]=b.useState([]),[l,u]=b.useState(""),[p,m]=b.useState([]),[y,v]=b.useState(""),[A,E]=b.useState([]),[P,B]=b.useState(!1),[z,M]=b.useState(!1),[K,Y]=b.useState(!1),[Q,se]=b.useState(null),[ue,me]=b.useState(""),[S,C]=b.useState(new Date().getFullYear()),[T,N]=b.useState(null);b.useEffect(()=>{(async()=>{try{const Ve=await po();a(Ve),Ve.length>0&&u(Ve[0].universityId)}catch(Ve){console.error("Error fetching universities:",Ve)}})()},[]),b.useEffect(()=>{l&&(async()=>{try{const Ve=await i0(l);m(Ve),Ve.length>0?v(Ve[0].code):(v(""),E([]))}catch(Ve){console.error("Error fetching modules:",Ve)}})()},[l]),b.useEffect(()=>{l&&y&&k()},[l,y,n]);const k=async()=>{B(!0);try{const fe=await HP(l,y,n);E(fe)}catch(fe){console.error("Error fetching assessments:",fe)}finally{B(!1)}},O=()=>{me(""),C(new Date().getFullYear()),N(null),M(!0)},R=async fe=>{if(fe.preventDefault(),!(!l||!y||!t)){Y(!0);try{await QP(l,y,n,ue,S,t.email||"Admin",T),M(!1),k()}catch(Ve){console.error("Error saving assessment:",Ve)}finally{Y(!1)}}},qe=async fe=>{if(window.confirm("Are you sure you want to delete this assessment?"))try{await KP(fe),k()}catch(Ve){console.error("Error deleting assessment:",Ve)}};return w.jsxs("div",{"trae-inspector-start-line":"129","trae-inspector-start-column":"4","trae-inspector-end-line":"304","trae-inspector-end-column":"10","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[Q?w.jsx(ZN,{assessmentId:Q.assessmentId,assessmentTitle:Q.title,onClose:()=>se(null)}):null,w.jsxs("div",{"trae-inspector-start-line":"138","trae-inspector-start-column":"6","trae-inspector-end-line":"148","trae-inspector-end-column":"12","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex justify-between items-center mb-6",children:[w.jsx("h1",{"trae-inspector-start-line":"139","trae-inspector-start-column":"8","trae-inspector-end-line":"139","trae-inspector-end-column":"69","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-2xl font-bold text-gray-900",children:e}),w.jsxs("button",{"trae-inspector-start-line":"140","trae-inspector-start-column":"8","trae-inspector-end-line":"147","trae-inspector-end-column":"17","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",onClick:O,disabled:!l||!y,className:`bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 ${!l||!y?"opacity-50 cursor-not-allowed":""}`,children:[w.jsx(zl,{className:"h-5 w-5"}),w.jsxs("span",{"trae-inspector-start-line":"146","trae-inspector-start-column":"10","trae-inspector-end-line":"146","trae-inspector-end-column":"50","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:["Create ",e.slice(0,-1)]})]})]}),w.jsx("div",{"trae-inspector-start-line":"150","trae-inspector-start-column":"6","trae-inspector-end-line":"183","trae-inspector-end-column":"12","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-white rounded-xl shadow-sm overflow-hidden mb-6",children:w.jsxs("div",{"trae-inspector-start-line":"151","trae-inspector-start-column":"8","trae-inspector-end-line":"182","trae-inspector-end-column":"14","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"p-4 border-b border-gray-100 flex items-center space-x-4",children:[w.jsxs("div",{"trae-inspector-start-line":"152","trae-inspector-start-column":"10","trae-inspector-end-line":"165","trae-inspector-end-column":"16","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex-1",children:[w.jsx("label",{"trae-inspector-start-line":"153","trae-inspector-start-column":"12","trae-inspector-end-line":"153","trae-inspector-end-column":"101","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Select%20University%22%2C%22textStartLine%22%3A%22153%22%2C%22textStartColumn%22%3A%2276%22%2C%22textEndLine%22%3A%22153%22%2C%22textEndColumn%22%3A%2293%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select University"}),w.jsx("select",{"trae-inspector-start-line":"154","trae-inspector-start-column":"12","trae-inspector-end-line":"164","trae-inspector-end-column":"21","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",value:l,onChange:fe=>u(fe.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md border",children:s.map(fe=>w.jsxs("option",{"trae-inspector-start-line":"160","trae-inspector-start-column":"16","trae-inspector-end-line":"162","trae-inspector-end-column":"25","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",value:fe.universityId,children:[fe.name," (",fe.code,")"]},fe.universityId))})]}),w.jsxs("div",{"trae-inspector-start-line":"166","trae-inspector-start-column":"10","trae-inspector-end-line":"181","trae-inspector-end-column":"16","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex-1",children:[w.jsx("label",{"trae-inspector-start-line":"167","trae-inspector-start-column":"12","trae-inspector-end-line":"167","trae-inspector-end-column":"97","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Select%20Module%22%2C%22textStartLine%22%3A%22167%22%2C%22textStartColumn%22%3A%2276%22%2C%22textEndLine%22%3A%22167%22%2C%22textEndColumn%22%3A%2289%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Module"}),w.jsxs("select",{"trae-inspector-start-line":"168","trae-inspector-start-column":"12","trae-inspector-end-line":"180","trae-inspector-end-column":"21","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",value:y,onChange:fe=>v(fe.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md border",disabled:!l,children:[p.length===0&&w.jsx("option",{"trae-inspector-start-line":"174","trae-inspector-start-column":"39","trae-inspector-end-line":"174","trae-inspector-end-column":"81","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22No%20modules%20found%22%2C%22textStartLine%22%3A%22174%22%2C%22textStartColumn%22%3A%2256%22%2C%22textEndLine%22%3A%22174%22%2C%22textEndColumn%22%3A%2272%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",value:"",children:"No modules found"}),p.map(fe=>w.jsxs("option",{"trae-inspector-start-line":"176","trae-inspector-start-column":"16","trae-inspector-end-line":"178","trae-inspector-end-column":"25","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",value:fe.code,children:[" ",fe.code," - ",fe.name]},fe.moduleId))]})]})]})}),w.jsx("div",{"trae-inspector-start-line":"185","trae-inspector-start-column":"6","trae-inspector-end-line":"254","trae-inspector-end-column":"12","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-white rounded-xl shadow-sm overflow-hidden",children:w.jsx("div",{"trae-inspector-start-line":"186","trae-inspector-start-column":"8","trae-inspector-end-line":"253","trae-inspector-end-column":"14","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"overflow-x-auto",children:w.jsxs("table",{"trae-inspector-start-line":"187","trae-inspector-start-column":"10","trae-inspector-end-line":"252","trae-inspector-end-column":"18","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"w-full",children:[w.jsx("thead",{"trae-inspector-start-line":"188","trae-inspector-start-column":"12","trae-inspector-end-line":"195","trae-inspector-end-column":"20","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-gray-50 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:w.jsxs("tr",{"trae-inspector-start-line":"189","trae-inspector-start-column":"14","trae-inspector-end-line":"194","trae-inspector-end-column":"19","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("th",{"trae-inspector-start-line":"190","trae-inspector-start-column":"16","trae-inspector-end-line":"190","trae-inspector-end-column":"51","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Year%22%2C%22textStartLine%22%3A%22190%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22190%22%2C%22textEndColumn%22%3A%2246%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-3",children:"Year"}),w.jsx("th",{"trae-inspector-start-line":"191","trae-inspector-start-column":"16","trae-inspector-end-line":"191","trae-inspector-end-column":"52","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Title%22%2C%22textStartLine%22%3A%22191%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22191%22%2C%22textEndColumn%22%3A%2247%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-3",children:"Title"}),w.jsx("th",{"trae-inspector-start-line":"192","trae-inspector-start-column":"16","trae-inspector-end-line":"192","trae-inspector-end-column":"54","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Content%22%2C%22textStartLine%22%3A%22192%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22192%22%2C%22textEndColumn%22%3A%2249%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-3",children:"Content"}),w.jsx("th",{"trae-inspector-start-line":"193","trae-inspector-start-column":"16","trae-inspector-end-line":"193","trae-inspector-end-column":"65","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Actions%22%2C%22textStartLine%22%3A%22193%22%2C%22textStartColumn%22%3A%2253%22%2C%22textEndLine%22%3A%22193%22%2C%22textEndColumn%22%3A%2260%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-3 text-right",children:"Actions"})]})}),w.jsx("tbody",{"trae-inspector-start-line":"196","trae-inspector-start-column":"12","trae-inspector-end-line":"251","trae-inspector-end-column":"20","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"divide-y divide-gray-100",children:P?w.jsx("tr",{"trae-inspector-start-line":"198","trae-inspector-start-column":"16","trae-inspector-end-line":"200","trae-inspector-end-column":"21","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:w.jsx("td",{"trae-inspector-start-line":"199","trae-inspector-start-column":"18","trae-inspector-end-line":"199","trae-inspector-end-column":"97","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Loading...%22%2C%22textStartLine%22%3A%22199%22%2C%22textStartColumn%22%3A%2282%22%2C%22textEndLine%22%3A%22199%22%2C%22textEndColumn%22%3A%2292%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:"Loading..."})}):A.length===0?w.jsx("tr",{"trae-inspector-start-line":"202","trae-inspector-start-column":"16","trae-inspector-end-line":"206","trae-inspector-end-column":"21","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:w.jsx("td",{"trae-inspector-start-line":"203","trae-inspector-start-column":"18","trae-inspector-end-line":"205","trae-inspector-end-column":"23","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:y?"No assessments found":"Please select a module"})}):A.map(fe=>w.jsxs("tr",{"trae-inspector-start-line":"209","trae-inspector-start-column":"18","trae-inspector-end-line":"248","trae-inspector-end-column":"23","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"hover:bg-gray-50",children:[w.jsx("td",{"trae-inspector-start-line":"210","trae-inspector-start-column":"20","trae-inspector-end-line":"210","trae-inspector-end-column":"90","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-4 text-sm text-gray-900",children:fe.year}),w.jsx("td",{"trae-inspector-start-line":"211","trae-inspector-start-column":"20","trae-inspector-end-line":"216","trae-inspector-end-column":"25","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-4",children:w.jsxs("div",{"trae-inspector-start-line":"212","trae-inspector-start-column":"22","trae-inspector-end-line":"215","trae-inspector-end-column":"28","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex items-center space-x-2",children:[w.jsx(Ku,{className:"h-4 w-4 text-blue-500"}),w.jsx("span",{"trae-inspector-start-line":"214","trae-inspector-start-column":"24","trae-inspector-end-line":"214","trae-inspector-end-column":"101","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-sm font-medium text-gray-900",children:fe.title})]})}),w.jsx("td",{"trae-inspector-start-line":"217","trae-inspector-start-column":"20","trae-inspector-end-line":"238","trae-inspector-end-column":"25","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-4 text-sm text-gray-500",children:w.jsxs("div",{"trae-inspector-start-line":"218","trae-inspector-start-column":"22","trae-inspector-end-line":"237","trae-inspector-end-column":"28","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex space-x-4",children:[fe.pdfUrl&&w.jsxs("a",{"trae-inspector-start-line":"220","trae-inspector-start-column":"26","trae-inspector-end-line":"228","trae-inspector-end-column":"30","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",href:fe.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-red-600 hover:text-red-900 text-xs",title:"Download PDF",children:[w.jsx(Ku,{className:"h-4 w-4 mr-1"})," PDF"]}),w.jsxs("button",{"trae-inspector-start-line":"230","trae-inspector-start-column":"24","trae-inspector-end-line":"236","trae-inspector-end-column":"33","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",onClick:()=>se(fe),className:"flex items-center text-blue-600 hover:text-blue-900 text-xs",title:"Manage Questions",children:[w.jsx(DE,{className:"h-4 w-4 mr-1"})," Questions"]})]})}),w.jsx("td",{"trae-inspector-start-line":"239","trae-inspector-start-column":"20","trae-inspector-end-line":"247","trae-inspector-end-column":"25","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-4 text-right space-x-2",children:w.jsx("button",{"trae-inspector-start-line":"240","trae-inspector-start-column":"22","trae-inspector-end-line":"246","trae-inspector-end-column":"31","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",onClick:()=>qe(fe),className:"text-red-600 hover:text-red-900",title:"Delete Assessment",children:w.jsx($l,{className:"h-5 w-5"})})})]},fe.assessmentId))})]})})}),w.jsx(ic,{isOpen:z,onClose:()=>M(!1),title:`Create ${e.slice(0,-1)}`,children:w.jsxs("form",{"trae-inspector-start-line":"261","trae-inspector-start-column":"8","trae-inspector-end-line":"302","trae-inspector-end-column":"15","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",onSubmit:R,className:"space-y-4",children:[w.jsxs("div",{"trae-inspector-start-line":"262","trae-inspector-start-column":"10","trae-inspector-end-line":"271","trae-inspector-end-column":"16","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("label",{"trae-inspector-start-line":"263","trae-inspector-start-column":"12","trae-inspector-end-line":"263","trae-inspector-end-column":"83","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Year%22%2C%22textStartLine%22%3A%22263%22%2C%22textStartColumn%22%3A%2271%22%2C%22textEndLine%22%3A%22263%22%2C%22textEndColumn%22%3A%2275%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"block text-sm font-medium text-gray-700",children:"Year"}),w.jsx("input",{"trae-inspector-start-line":"264","trae-inspector-start-column":"12","trae-inspector-end-line":"270","trae-inspector-end-column":"14","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"number",required:!0,value:S,onChange:fe=>C(parseInt(fe.target.value)),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),w.jsxs("div",{"trae-inspector-start-line":"272","trae-inspector-start-column":"10","trae-inspector-end-line":"282","trae-inspector-end-column":"16","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("label",{"trae-inspector-start-line":"273","trae-inspector-start-column":"12","trae-inspector-end-line":"273","trae-inspector-end-column":"84","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Title%22%2C%22textStartLine%22%3A%22273%22%2C%22textStartColumn%22%3A%2271%22%2C%22textEndLine%22%3A%22273%22%2C%22textEndColumn%22%3A%2276%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"block text-sm font-medium text-gray-700",children:"Title"}),w.jsx("input",{"trae-inspector-start-line":"274","trae-inspector-start-column":"12","trae-inspector-end-line":"281","trae-inspector-end-column":"14","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"text",required:!0,value:ue,onChange:fe=>me(fe.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"e.g. Final Exam, Semester Test 1"})]}),w.jsxs("div",{"trae-inspector-start-line":"283","trae-inspector-start-column":"10","trae-inspector-end-line":"292","trae-inspector-end-column":"16","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("label",{"trae-inspector-start-line":"284","trae-inspector-start-column":"12","trae-inspector-end-line":"284","trae-inspector-end-column":"104","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Full%20Paper%20PDF%20(Optional)%22%2C%22textStartLine%22%3A%22284%22%2C%22textStartColumn%22%3A%2271%22%2C%22textEndLine%22%3A%22284%22%2C%22textEndColumn%22%3A%2296%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"block text-sm font-medium text-gray-700",children:"Full Paper PDF (Optional)"}),w.jsx("p",{"trae-inspector-start-line":"285","trae-inspector-start-column":"12","trae-inspector-end-line":"285","trae-inspector-end-column":"147","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Upload%20the%20full%20paper%20if%20you%20have%20it%2C%20otherwise%20you%20can%20add%20questions%20individually%20later.%22%2C%22textStartLine%22%3A%22285%22%2C%22textStartColumn%22%3A%2254%22%2C%22textEndLine%22%3A%22285%22%2C%22textEndColumn%22%3A%22143%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-xs text-gray-500 mb-1",children:"Upload the full paper if you have it, otherwise you can add questions individually later."}),w.jsx("input",{"trae-inspector-start-line":"286","trae-inspector-start-column":"12","trae-inspector-end-line":"291","trae-inspector-end-column":"14","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"file",accept:".pdf",onChange:fe=>N(fe.target.files?fe.target.files[0]:null),className:"mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),w.jsx("div",{"trae-inspector-start-line":"293","trae-inspector-start-column":"10","trae-inspector-end-line":"301","trae-inspector-end-column":"16","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"mt-5 sm:mt-6",children:w.jsx("button",{"trae-inspector-start-line":"294","trae-inspector-start-column":"12","trae-inspector-end-line":"300","trae-inspector-end-column":"21","trae-inspector-file-path":"src/components/AssessmentManager.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"submit",disabled:K,className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm ${K?"opacity-75 cursor-not-allowed":""}`,children:K?"Creating...":"Create Assessment"})})]})})]})},eD=()=>w.jsx(Pm,{type:"exam",title:"Exams"}),tD=()=>w.jsx(Pm,{type:"test",title:"Tests"}),nD=()=>w.jsx(Pm,{type:"supplementary",title:"Supplementary Exams"}),Hw="users",qw=async n=>{let e;return n?e=zn(sn(at,Hw),Bs("universityId","==",n),Gs("createdAt","desc")):e=zn(sn(at,Hw),Gs("createdAt","desc"),B1(50)),(await Yi(e)).docs.map(s=>({userId:s.id,...s.data()}))},rD=()=>{const[n,e]=b.useState([]),[t,s]=b.useState([]),[a,l]=b.useState(""),[u,p]=b.useState(!0),[m,y]=b.useState("");b.useEffect(()=>{(async()=>{try{const[P,B]=await Promise.all([po(),qw()]);s(P),e(B)}catch(P){console.error("Error loading data:",P)}finally{p(!1)}})()},[]),b.useEffect(()=>{(async()=>{p(!0);try{const P=await qw(a||void 0);e(P)}catch(P){console.error("Error fetching users:",P)}finally{p(!1)}})()},[a]);const v=n.filter(E=>E.name.toLowerCase().includes(m.toLowerCase())||E.email.toLowerCase().includes(m.toLowerCase())),A=E=>{const P=t.find(B=>B.universityId===E);return P?P.code:"Unknown"};return w.jsxs("div",{"trae-inspector-start-line":"58","trae-inspector-start-column":"4","trae-inspector-end-line":"167","trae-inspector-end-column":"10","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("h1",{"trae-inspector-start-line":"59","trae-inspector-start-column":"6","trae-inspector-end-line":"59","trae-inspector-end-column":"77","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Manage%20Users%22%2C%22textStartLine%22%3A%2259%22%2C%22textStartColumn%22%3A%2260%22%2C%22textEndLine%22%3A%2259%22%2C%22textEndColumn%22%3A%2272%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-2xl font-bold text-gray-900 mb-6",children:"Manage Users"}),w.jsx("div",{"trae-inspector-start-line":"61","trae-inspector-start-column":"6","trae-inspector-end-line":"94","trae-inspector-end-column":"12","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-white rounded-xl shadow-sm overflow-hidden mb-6",children:w.jsxs("div",{"trae-inspector-start-line":"62","trae-inspector-start-column":"8","trae-inspector-end-line":"93","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"p-4 border-b border-gray-100 flex items-center space-x-4",children:[w.jsxs("div",{"trae-inspector-start-line":"63","trae-inspector-start-column":"10","trae-inspector-end-line":"77","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex-1",children:[w.jsx("label",{"trae-inspector-start-line":"64","trae-inspector-start-column":"12","trae-inspector-end-line":"64","trae-inspector-end-column":"104","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Filter%20by%20University%22%2C%22textStartLine%22%3A%2264%22%2C%22textStartColumn%22%3A%2276%22%2C%22textEndLine%22%3A%2264%22%2C%22textEndColumn%22%3A%2296%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by University"}),w.jsxs("select",{"trae-inspector-start-line":"65","trae-inspector-start-column":"12","trae-inspector-end-line":"76","trae-inspector-end-column":"21","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",value:a,onChange:E=>l(E.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md border",children:[w.jsx("option",{"trae-inspector-start-line":"70","trae-inspector-start-column":"14","trae-inspector-end-line":"70","trae-inspector-end-column":"56","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22All%20Universities%22%2C%22textStartLine%22%3A%2270%22%2C%22textStartColumn%22%3A%2231%22%2C%22textEndLine%22%3A%2270%22%2C%22textEndColumn%22%3A%2247%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",value:"",children:"All Universities"}),t.map(E=>w.jsxs("option",{"trae-inspector-start-line":"72","trae-inspector-start-column":"16","trae-inspector-end-line":"74","trae-inspector-end-column":"25","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",value:E.universityId,children:[E.name," (",E.code,")"]},E.universityId))]})]}),w.jsxs("div",{"trae-inspector-start-line":"78","trae-inspector-start-column":"10","trae-inspector-end-line":"92","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex-1",children:[w.jsx("label",{"trae-inspector-start-line":"79","trae-inspector-start-column":"12","trae-inspector-end-line":"79","trae-inspector-end-column":"96","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Search%20Users%22%2C%22textStartLine%22%3A%2279%22%2C%22textStartColumn%22%3A%2276%22%2C%22textEndLine%22%3A%2279%22%2C%22textEndColumn%22%3A%2288%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Users"}),w.jsxs("div",{"trae-inspector-start-line":"80","trae-inspector-start-column":"12","trae-inspector-end-line":"91","trae-inspector-end-column":"18","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"relative",children:[w.jsx("div",{"trae-inspector-start-line":"81","trae-inspector-start-column":"14","trae-inspector-end-line":"83","trae-inspector-end-column":"20","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:w.jsx(yd,{className:"h-5 w-5 text-gray-400"})}),w.jsx("input",{"trae-inspector-start-line":"84","trae-inspector-start-column":"14","trae-inspector-end-line":"90","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"text",placeholder:"Search by name or email...",value:m,onChange:E=>y(E.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]})]})}),w.jsx("div",{"trae-inspector-start-line":"96","trae-inspector-start-column":"6","trae-inspector-end-line":"166","trae-inspector-end-column":"12","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-white rounded-xl shadow-sm overflow-hidden",children:w.jsx("div",{"trae-inspector-start-line":"97","trae-inspector-start-column":"8","trae-inspector-end-line":"165","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"overflow-x-auto",children:w.jsxs("table",{"trae-inspector-start-line":"98","trae-inspector-start-column":"10","trae-inspector-end-line":"164","trae-inspector-end-column":"18","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"w-full",children:[w.jsx("thead",{"trae-inspector-start-line":"99","trae-inspector-start-column":"12","trae-inspector-end-line":"107","trae-inspector-end-column":"20","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-gray-50 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:w.jsxs("tr",{"trae-inspector-start-line":"100","trae-inspector-start-column":"14","trae-inspector-end-line":"106","trae-inspector-end-column":"19","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("th",{"trae-inspector-start-line":"101","trae-inspector-start-column":"16","trae-inspector-end-line":"101","trae-inspector-end-column":"51","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22User%22%2C%22textStartLine%22%3A%22101%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22101%22%2C%22textEndColumn%22%3A%2246%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-3",children:"User"}),w.jsx("th",{"trae-inspector-start-line":"102","trae-inspector-start-column":"16","trae-inspector-end-line":"102","trae-inspector-end-column":"57","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22University%22%2C%22textStartLine%22%3A%22102%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22102%22%2C%22textEndColumn%22%3A%2252%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-3",children:"University"}),w.jsx("th",{"trae-inspector-start-line":"103","trae-inspector-start-column":"16","trae-inspector-end-line":"103","trae-inspector-end-column":"53","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Points%22%2C%22textStartLine%22%3A%22103%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22103%22%2C%22textEndColumn%22%3A%2248%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-3",children:"Points"}),w.jsx("th",{"trae-inspector-start-line":"104","trae-inspector-start-column":"16","trae-inspector-end-line":"104","trae-inspector-end-column":"53","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Status%22%2C%22textStartLine%22%3A%22104%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22104%22%2C%22textEndColumn%22%3A%2248%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-3",children:"Status"}),w.jsx("th",{"trae-inspector-start-line":"105","trae-inspector-start-column":"16","trae-inspector-end-line":"105","trae-inspector-end-column":"53","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Joined%22%2C%22textStartLine%22%3A%22105%22%2C%22textStartColumn%22%3A%2242%22%2C%22textEndLine%22%3A%22105%22%2C%22textEndColumn%22%3A%2248%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-3",children:"Joined"})]})}),w.jsx("tbody",{"trae-inspector-start-line":"108","trae-inspector-start-column":"12","trae-inspector-end-line":"163","trae-inspector-end-column":"20","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"divide-y divide-gray-100",children:u?w.jsx("tr",{"trae-inspector-start-line":"110","trae-inspector-start-column":"16","trae-inspector-end-line":"112","trae-inspector-end-column":"21","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:w.jsx("td",{"trae-inspector-start-line":"111","trae-inspector-start-column":"18","trae-inspector-end-line":"111","trae-inspector-end-column":"97","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Loading...%22%2C%22textStartLine%22%3A%22111%22%2C%22textStartColumn%22%3A%2282%22%2C%22textEndLine%22%3A%22111%22%2C%22textEndColumn%22%3A%2292%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"Loading..."})}):v.length===0?w.jsx("tr",{"trae-inspector-start-line":"114","trae-inspector-start-column":"16","trae-inspector-end-line":"116","trae-inspector-end-column":"21","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:w.jsx("td",{"trae-inspector-start-line":"115","trae-inspector-start-column":"18","trae-inspector-end-line":"115","trae-inspector-end-column":"101","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22No%20users%20found%22%2C%22textStartLine%22%3A%22115%22%2C%22textStartColumn%22%3A%2282%22%2C%22textEndLine%22%3A%22115%22%2C%22textEndColumn%22%3A%2296%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"No users found"})}):v.map(E=>w.jsxs("tr",{"trae-inspector-start-line":"119","trae-inspector-start-column":"18","trae-inspector-end-line":"160","trae-inspector-end-column":"23","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"hover:bg-gray-50",children:[w.jsx("td",{"trae-inspector-start-line":"120","trae-inspector-start-column":"20","trae-inspector-end-line":"135","trae-inspector-end-column":"25","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-4",children:w.jsxs("div",{"trae-inspector-start-line":"121","trae-inspector-start-column":"22","trae-inspector-end-line":"134","trae-inspector-end-column":"28","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex items-center",children:[w.jsx("div",{"trae-inspector-start-line":"122","trae-inspector-start-column":"24","trae-inspector-end-line":"126","trae-inspector-end-column":"30","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex-shrink-0 h-10 w-10",children:w.jsx("div",{"trae-inspector-start-line":"123","trae-inspector-start-column":"26","trae-inspector-end-line":"125","trae-inspector-end-column":"32","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:w.jsx(g_,{className:"h-6 w-6 text-blue-600"})})}),w.jsxs("div",{"trae-inspector-start-line":"127","trae-inspector-start-column":"24","trae-inspector-end-line":"133","trae-inspector-end-column":"30","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"ml-4",children:[w.jsx("div",{"trae-inspector-start-line":"128","trae-inspector-start-column":"26","trae-inspector-end-line":"128","trae-inspector-end-column":"94","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-sm font-medium text-gray-900",children:E.name}),w.jsxs("div",{"trae-inspector-start-line":"129","trae-inspector-start-column":"26","trae-inspector-end-line":"132","trae-inspector-end-column":"32","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-sm text-gray-500 flex items-center",children:[w.jsx(h_,{className:"h-3 w-3 mr-1"}),E.email]})]})]})}),w.jsx("td",{"trae-inspector-start-line":"136","trae-inspector-start-column":"20","trae-inspector-end-line":"141","trae-inspector-end-column":"25","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-4",children:w.jsxs("div",{"trae-inspector-start-line":"137","trae-inspector-start-column":"22","trae-inspector-end-line":"140","trae-inspector-end-column":"28","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex items-center text-sm text-gray-900",children:[w.jsx(Bp,{className:"h-4 w-4 mr-2 text-gray-400"}),A(E.universityId)]})}),w.jsx("td",{"trae-inspector-start-line":"142","trae-inspector-start-column":"20","trae-inspector-end-line":"147","trae-inspector-end-column":"25","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-4",children:w.jsxs("div",{"trae-inspector-start-line":"143","trae-inspector-start-column":"22","trae-inspector-end-line":"146","trae-inspector-end-column":"28","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex items-center text-sm text-gray-900",children:[w.jsx(iE,{className:"h-4 w-4 mr-2 text-yellow-500"}),E.points]})}),w.jsx("td",{"trae-inspector-start-line":"148","trae-inspector-start-column":"20","trae-inspector-end-line":"156","trae-inspector-end-column":"25","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-4",children:w.jsx("span",{"trae-inspector-start-line":"149","trae-inspector-start-column":"22","trae-inspector-end-line":"155","trae-inspector-end-column":"29","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${E.subscriptionActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:E.subscriptionActive?"Premium":"Free"})}),w.jsx("td",{"trae-inspector-start-line":"157","trae-inspector-start-column":"20","trae-inspector-end-line":"159","trae-inspector-end-column":"25","trae-inspector-file-path":"src/pages/Users.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"px-6 py-4 text-sm text-gray-500",children:E.createdAt?new Date(E.createdAt.seconds*1e3).toLocaleDateString():"N/A"})]},E.userId))})]})})})]})},sD=()=>w.jsxs("div",{"trae-inspector-start-line":"6","trae-inspector-start-column":"4","trae-inspector-end-line":"20","trae-inspector-end-column":"10","trae-inspector-file-path":"src/pages/Analytics.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"space-y-6",children:[w.jsx("h1",{"trae-inspector-start-line":"7","trae-inspector-start-column":"6","trae-inspector-end-line":"7","trae-inspector-end-column":"78","trae-inspector-file-path":"src/pages/Analytics.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Analytics%20Overview%22%2C%22textStartLine%22%3A%227%22%2C%22textStartColumn%22%3A%2255%22%2C%22textEndLine%22%3A%227%22%2C%22textEndColumn%22%3A%2273%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-2xl font-bold text-gray-900",children:"Analytics Overview"}),w.jsxs("div",{"trae-inspector-start-line":"9","trae-inspector-start-column":"6","trae-inspector-end-line":"19","trae-inspector-end-column":"12","trae-inspector-file-path":"src/pages/Analytics.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[w.jsx("div",{"trae-inspector-start-line":"10","trae-inspector-start-column":"8","trae-inspector-end-line":"14","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/Analytics.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex justify-center mb-6",children:w.jsx("div",{"trae-inspector-start-line":"11","trae-inspector-start-column":"10","trae-inspector-end-line":"13","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Analytics.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-blue-100 p-4 rounded-full",children:w.jsx(p_,{className:"h-12 w-12 text-blue-600"})})}),w.jsx("h2",{"trae-inspector-start-line":"15","trae-inspector-start-column":"8","trae-inspector-end-line":"15","trae-inspector-end-column":"85","trae-inspector-file-path":"src/pages/Analytics.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Analytics%20Dashboard%22%2C%22textStartLine%22%3A%2215%22%2C%22textStartColumn%22%3A%2261%22%2C%22textEndLine%22%3A%2215%22%2C%22textEndColumn%22%3A%2280%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-xl font-bold text-gray-900 mb-2",children:"Analytics Dashboard"}),w.jsx("p",{"trae-inspector-start-line":"16","trae-inspector-start-column":"8","trae-inspector-end-line":"18","trae-inspector-end-column":"12","trae-inspector-file-path":"src/pages/Analytics.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Detailed%20usage%20statistics%20and%20engagement%20metrics%20will%20appear%20here%20once%20students%20start%20using%20the%20mobile%20application.%22%2C%22textStartLine%22%3A%2216%22%2C%22textStartColumn%22%3A%2254%22%2C%22textEndLine%22%3A%2218%22%2C%22textEndColumn%22%3A%228%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-gray-500 max-w-md mx-auto",children:"Detailed usage statistics and engagement metrics will appear here once students start using the mobile application."})]})]}),Hd="announcements",iD=async()=>{const n=zn(sn(at,Hd),Gs("createdAt","desc"));return(await Yi(n)).docs.map(t=>({announcementId:t.id,...t.data()}))},aD=async(n,e,t,s)=>(await rc(sn(at,Hd),{title:n,message:e,universityId:t,active:s,createdAt:tc()})).id,oD=async(n,e)=>{await _m(Cr(at,Hd,n),{active:e})},lD=async n=>{await nc(Cr(at,Hd,n))},cD=()=>{const[n,e]=b.useState([]),[t,s]=b.useState([]),[a,l]=b.useState(!0),[u,p]=b.useState(!1),[m,y]=b.useState(!1),[v,A]=b.useState(""),[E,P]=b.useState(""),[B,z]=b.useState(""),[M,K]=b.useState(!0);b.useEffect(()=>{Y()},[]);const Y=async()=>{try{const[C,T]=await Promise.all([iD(),po()]);e(C),s(T)}catch(C){console.error("Error fetching data:",C)}finally{l(!1)}},Q=()=>{A(""),P(""),z(""),K(!0),p(!0)},se=async C=>{C.preventDefault(),y(!0);try{await aD(v,E,B||"all",M),p(!1),Y()}catch(T){console.error("Error creating announcement:",T)}finally{y(!1)}},ue=async C=>{try{await oD(C.announcementId,!C.active),Y()}catch(T){console.error("Error updating status:",T)}},me=async C=>{if(window.confirm("Are you sure you want to delete this announcement?"))try{await lD(C),Y()}catch(T){console.error("Error deleting announcement:",T)}},S=C=>{if(C==="all")return"All Universities";const T=t.find(N=>N.universityId===C);return T?T.name:"Unknown"};return w.jsxs("div",{"trae-inspector-start-line":"89","trae-inspector-start-column":"4","trae-inspector-end-line":"229","trae-inspector-end-column":"10","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsxs("div",{"trae-inspector-start-line":"90","trae-inspector-start-column":"6","trae-inspector-end-line":"99","trae-inspector-end-column":"12","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex justify-between items-center mb-6",children:[w.jsx("h1",{"trae-inspector-start-line":"91","trae-inspector-start-column":"8","trae-inspector-end-line":"91","trae-inspector-end-column":"75","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Announcements%22%2C%22textStartLine%22%3A%2291%22%2C%22textStartColumn%22%3A%2257%22%2C%22textEndLine%22%3A%2291%22%2C%22textEndColumn%22%3A%2270%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-2xl font-bold text-gray-900",children:"Announcements"}),w.jsxs("button",{"trae-inspector-start-line":"92","trae-inspector-start-column":"8","trae-inspector-end-line":"98","trae-inspector-end-column":"17","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",onClick:Q,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2",children:[w.jsx(zl,{className:"h-5 w-5"}),w.jsx("span",{"trae-inspector-start-line":"97","trae-inspector-start-column":"10","trae-inspector-end-line":"97","trae-inspector-end-column":"42","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Create%20Announcement%22%2C%22textStartLine%22%3A%2297%22%2C%22textStartColumn%22%3A%2216%22%2C%22textEndLine%22%3A%2297%22%2C%22textEndColumn%22%3A%2235%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:"Create Announcement"})]})]}),w.jsx("div",{"trae-inspector-start-line":"101","trae-inspector-start-column":"6","trae-inspector-end-line":"160","trae-inspector-end-column":"12","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"grid gap-6",children:a?w.jsx("div",{"trae-inspector-start-line":"103","trae-inspector-start-column":"10","trae-inspector-end-line":"103","trae-inspector-end-column":"75","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Loading...%22%2C%22textStartLine%22%3A%22103%22%2C%22textStartColumn%22%3A%2259%22%2C%22textEndLine%22%3A%22103%22%2C%22textEndColumn%22%3A%2269%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-center text-gray-500 py-10",children:"Loading..."}):n.length===0?w.jsx("div",{"trae-inspector-start-line":"105","trae-inspector-start-column":"10","trae-inspector-end-line":"107","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22No%20announcements%20found%22%2C%22textStartLine%22%3A%22105%22%2C%22textStartColumn%22%3A%2289%22%2C%22textEndLine%22%3A%22107%22%2C%22textEndColumn%22%3A%2210%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-center text-gray-500 py-10 bg-white rounded-xl shadow-sm",children:"No announcements found"}):n.map(C=>w.jsxs("div",{"trae-inspector-start-line":"110","trae-inspector-start-column":"12","trae-inspector-end-line":"157","trae-inspector-end-column":"18","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-white rounded-xl shadow-sm p-6 flex justify-between items-start",children:[w.jsxs("div",{"trae-inspector-start-line":"111","trae-inspector-start-column":"14","trae-inspector-end-line":"127","trae-inspector-end-column":"20","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex items-start space-x-4",children:[w.jsx("div",{"trae-inspector-start-line":"112","trae-inspector-start-column":"16","trae-inspector-end-line":"114","trae-inspector-end-column":"22","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:`p-3 rounded-lg ${C.active?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-500"}`,children:w.jsx(m_,{className:"h-6 w-6"})}),w.jsxs("div",{"trae-inspector-start-line":"115","trae-inspector-start-column":"16","trae-inspector-end-line":"126","trae-inspector-end-column":"22","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("h3",{"trae-inspector-start-line":"116","trae-inspector-start-column":"18","trae-inspector-end-line":"116","trae-inspector-end-column":"82","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-lg font-bold text-gray-900",children:C.title}),w.jsx("p",{"trae-inspector-start-line":"117","trae-inspector-start-column":"18","trae-inspector-end-line":"117","trae-inspector-end-column":"69","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"text-gray-600 mt-1",children:C.message}),w.jsxs("div",{"trae-inspector-start-line":"118","trae-inspector-start-column":"18","trae-inspector-end-line":"125","trae-inspector-end-column":"24","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex items-center space-x-4 mt-3 text-sm text-gray-500",children:[w.jsxs("span",{"trae-inspector-start-line":"119","trae-inspector-start-column":"20","trae-inspector-end-line":"121","trae-inspector-end-column":"27","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"bg-gray-100 px-2 py-1 rounded-md",children:["Target: ",S(C.universityId)]}),w.jsxs("span",{"trae-inspector-start-line":"122","trae-inspector-start-column":"20","trae-inspector-end-line":"124","trae-inspector-end-column":"27","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:["Created: ",C.createdAt?new Date(C.createdAt.seconds*1e3).toLocaleDateString():"Just now"]})]})]})]}),w.jsxs("div",{"trae-inspector-start-line":"129","trae-inspector-start-column":"14","trae-inspector-end-line":"156","trae-inspector-end-column":"20","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex items-center space-x-2",children:[w.jsx("button",{"trae-inspector-start-line":"130","trae-inspector-start-column":"16","trae-inspector-end-line":"149","trae-inspector-end-column":"25","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",onClick:()=>ue(C),className:`flex items-center space-x-1 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${C.active?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:C.active?w.jsxs(w.Fragment,{children:[w.jsx(gE,{className:"h-4 w-4"}),w.jsx("span",{"trae-inspector-start-line":"141","trae-inspector-start-column":"22","trae-inspector-end-line":"141","trae-inspector-end-column":"41","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Active%22%2C%22textStartLine%22%3A%22141%22%2C%22textStartColumn%22%3A%2228%22%2C%22textEndLine%22%3A%22141%22%2C%22textEndColumn%22%3A%2234%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:"Active"})]}):w.jsxs(w.Fragment,{children:[w.jsx(wE,{className:"h-4 w-4"}),w.jsx("span",{"trae-inspector-start-line":"146","trae-inspector-start-column":"22","trae-inspector-end-line":"146","trae-inspector-end-column":"43","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Inactive%22%2C%22textStartLine%22%3A%22146%22%2C%22textStartColumn%22%3A%2228%22%2C%22textEndLine%22%3A%22146%22%2C%22textEndColumn%22%3A%2236%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:"Inactive"})]})}),w.jsx("button",{"trae-inspector-start-line":"150","trae-inspector-start-column":"16","trae-inspector-end-line":"155","trae-inspector-end-column":"25","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",onClick:()=>me(C.announcementId),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:w.jsx($l,{className:"h-5 w-5"})})]})]},C.announcementId))}),w.jsx(ic,{isOpen:u,onClose:()=>p(!1),title:"Create Announcement",children:w.jsxs("form",{"trae-inspector-start-line":"167","trae-inspector-start-column":"8","trae-inspector-end-line":"227","trae-inspector-end-column":"15","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",onSubmit:se,className:"space-y-4",children:[w.jsxs("div",{"trae-inspector-start-line":"168","trae-inspector-start-column":"10","trae-inspector-end-line":"178","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("label",{"trae-inspector-start-line":"169","trae-inspector-start-column":"12","trae-inspector-end-line":"169","trae-inspector-end-column":"84","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Title%22%2C%22textStartLine%22%3A%22169%22%2C%22textStartColumn%22%3A%2271%22%2C%22textEndLine%22%3A%22169%22%2C%22textEndColumn%22%3A%2276%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"block text-sm font-medium text-gray-700",children:"Title"}),w.jsx("input",{"trae-inspector-start-line":"170","trae-inspector-start-column":"12","trae-inspector-end-line":"177","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"text",required:!0,value:v,onChange:C=>A(C.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"e.g. System Maintenance"})]}),w.jsxs("div",{"trae-inspector-start-line":"179","trae-inspector-start-column":"10","trae-inspector-end-line":"189","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("label",{"trae-inspector-start-line":"180","trae-inspector-start-column":"12","trae-inspector-end-line":"180","trae-inspector-end-column":"86","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Message%22%2C%22textStartLine%22%3A%22180%22%2C%22textStartColumn%22%3A%2271%22%2C%22textEndLine%22%3A%22180%22%2C%22textEndColumn%22%3A%2278%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"block text-sm font-medium text-gray-700",children:"Message"}),w.jsx("textarea",{"trae-inspector-start-line":"181","trae-inspector-start-column":"12","trae-inspector-end-line":"188","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",required:!0,rows:3,value:E,onChange:C=>P(C.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter announcement details..."})]}),w.jsxs("div",{"trae-inspector-start-line":"190","trae-inspector-start-column":"10","trae-inspector-end-line":"205","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",children:[w.jsx("label",{"trae-inspector-start-line":"191","trae-inspector-start-column":"12","trae-inspector-end-line":"191","trae-inspector-end-column":"94","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Target%20Audience%22%2C%22textStartLine%22%3A%22191%22%2C%22textStartColumn%22%3A%2271%22%2C%22textEndLine%22%3A%22191%22%2C%22textEndColumn%22%3A%2286%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"block text-sm font-medium text-gray-700",children:"Target Audience"}),w.jsxs("select",{"trae-inspector-start-line":"192","trae-inspector-start-column":"12","trae-inspector-end-line":"204","trae-inspector-end-column":"21","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",value:B,onChange:C=>z(C.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[w.jsx("option",{"trae-inspector-start-line":"197","trae-inspector-start-column":"14","trae-inspector-end-line":"197","trae-inspector-end-column":"56","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Select%20Target...%22%2C%22textStartLine%22%3A%22197%22%2C%22textStartColumn%22%3A%2231%22%2C%22textEndLine%22%3A%22197%22%2C%22textEndColumn%22%3A%2247%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",value:"",children:"Select Target..."}),w.jsx("option",{"trae-inspector-start-line":"198","trae-inspector-start-column":"14","trae-inspector-end-line":"198","trae-inspector-end-column":"59","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22All%20Universities%22%2C%22textStartLine%22%3A%22198%22%2C%22textStartColumn%22%3A%2234%22%2C%22textEndLine%22%3A%22198%22%2C%22textEndColumn%22%3A%2250%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",value:"all",children:"All Universities"}),t.map(C=>w.jsx("option",{"trae-inspector-start-line":"200","trae-inspector-start-column":"16","trae-inspector-end-line":"202","trae-inspector-end-column":"25","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",value:C.universityId,children:C.name},C.universityId))]})]}),w.jsxs("div",{"trae-inspector-start-line":"206","trae-inspector-start-column":"10","trae-inspector-end-line":"217","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"flex items-center",children:[w.jsx("input",{"trae-inspector-start-line":"207","trae-inspector-start-column":"12","trae-inspector-end-line":"213","trae-inspector-end-column":"14","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",id:"active",type:"checkbox",checked:M,onChange:C=>K(C.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),w.jsx("label",{"trae-inspector-start-line":"214","trae-inspector-start-column":"12","trae-inspector-end-line":"216","trae-inspector-end-column":"20","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22text%22%3A%22Set%20as%20Active%20immediately%22%2C%22textStartLine%22%3A%22214%22%2C%22textStartColumn%22%3A%2281%22%2C%22textEndLine%22%3A%22216%22%2C%22textEndColumn%22%3A%2212%22%2C%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",htmlFor:"active",className:"ml-2 block text-sm text-gray-900",children:"Set as Active immediately"})]}),w.jsx("div",{"trae-inspector-start-line":"218","trae-inspector-start-column":"10","trae-inspector-end-line":"226","trae-inspector-end-column":"16","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",className:"mt-5 sm:mt-6",children:w.jsx("button",{"trae-inspector-start-line":"219","trae-inspector-start-column":"12","trae-inspector-end-line":"225","trae-inspector-end-column":"21","trae-inspector-file-path":"src/pages/Announcements.tsx","trae-inspector-static-props":"%7B%22cwd%22%3A%22%2Fhome%2Frunner%2Fwork%2Fstudentmate-admin-panel%2Fstudentmate-admin-panel%22%7D",type:"submit",disabled:m,className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm ${m?"opacity-75 cursor-not-allowed":""}`,children:m?"Creating...":"Create Announcement"})})]})})]})};function uD(){return w.jsx(zA,{children:w.jsxs(wA,{children:[w.jsx(Tn,{path:"/login",element:w.jsx($P,{})}),w.jsx(Tn,{path:"/",element:w.jsx(dr,{children:w.jsx(ur,{children:w.jsx(i_,{to:"/dashboard",replace:!0})})})}),w.jsx(Tn,{path:"/dashboard",element:w.jsx(dr,{children:w.jsx(ur,{children:w.jsx(QN,{})})})}),w.jsx(Tn,{path:"/universities",element:w.jsx(dr,{children:w.jsx(ur,{children:w.jsx(KN,{})})})}),w.jsx(Tn,{path:"/modules",element:w.jsx(dr,{children:w.jsx(ur,{children:w.jsx(XN,{})})})}),w.jsx(Tn,{path:"/exams",element:w.jsx(dr,{children:w.jsx(ur,{children:w.jsx(eD,{})})})}),w.jsx(Tn,{path:"/tests",element:w.jsx(dr,{children:w.jsx(ur,{children:w.jsx(tD,{})})})}),w.jsx(Tn,{path:"/supplementary-exams",element:w.jsx(dr,{children:w.jsx(ur,{children:w.jsx(nD,{})})})}),w.jsx(Tn,{path:"/users",element:w.jsx(dr,{children:w.jsx(ur,{children:w.jsx(rD,{})})})}),w.jsx(Tn,{path:"/analytics",element:w.jsx(dr,{children:w.jsx(ur,{children:w.jsx(sD,{})})})}),w.jsx(Tn,{path:"/announcements",element:w.jsx(dr,{children:w.jsx(ur,{children:w.jsx(cD,{})})})})]})})}xx.createRoot(document.getElementById("root")).render(w.jsx(b.StrictMode,{children:w.jsx(uD,{})}));
